(this.webpackJsonppoker=this.webpackJsonppoker||[]).push([[0],{444:function(e,n,t){},466:function(e,n,t){},467:function(e,n,t){"use strict";t.r(n);t(405);var a=t(0),r=t.n(a),s=t(59),c=t.n(s),i=(t(167),t(178),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(188),t(189),t(190),t(191),t(192),t(194),t(195),t(196),t(197),t(198),t(200),t(201),t(204),t(205),t(103),t(209),t(210),t(212),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(222),t(223),t(224),t(225),t(226),t(229),t(231),t(232),t(233),t(234),t(235),t(236),t(237),t(238),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(249),t(250),t(252),t(253),t(254),t(255),t(256),t(257),t(258),t(259),t(261),t(262),t(263),t(265),t(266),t(267),t(268),t(269),t(270),t(271),t(273),t(274),t(275),t(276),t(277),t(278),t(279),t(280),t(281),t(282),t(283),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(296),t(297),t(298),t(299),t(300),t(301),t(302),t(152),t(304),t(305),t(306),t(307),t(308),t(310),t(311),t(156),t(312),t(313),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(323),t(324),t(325),t(326),t(327),t(328),t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(338),t(339),t(344),t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(379),t(380),t(382),t(383),t(384),t(385),t(387),t(160),t(79)),o=t(80),l=t(85),d=t(83),u=(t(388),t(29)),h=t(24),m=(t(162),t(16)),p=t(89),b=t(26),f=t(398),j=(t(432),t(434),f.a.initializeApp({apiKey:"AIzaSyA7MqJlI9k9b77XrNNiViGzRqKwubcJJ44",authDomain:"poker-auth-development.firebaseapp.com",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyA7MqJlI9k9b77XrNNiViGzRqKwubcJJ44",REACT_APP_FIREBASE_APP_ID:"1:734122281658:web:4b5c724a6e3815a11ed083",REACT_APP_FIREBASE_AUTH_DOMAIN:"poker-auth-development.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"734122281658",REACT_APP_FIREBASE_PROJECT_ID:"poker-auth-development",REACT_APP_FIREBASE_STORAGE_BUCKET:"poker-auth-development.appspot.com"}).REACT_APP_FIREBASE_DATABASE_URL,projectId:"poker-auth-development",storageBucket:"poker-auth-development.appspot.com",messagingSenderId:"734122281658",appId:"1:734122281658:web:4b5c724a6e3815a11ed083"})),g=j.auth(),x=(j.database().ref(),j),v=t(1),y=r.a.createContext();function w(){return Object(a.useContext)(y)}function O(e){var n=e.children,t=Object(a.useState)(),r=Object(b.a)(t,2),s=r[0],c=r[1],i=Object(a.useState)(!0),o=Object(b.a)(i,2),l=o[0],d=o[1];Object(a.useEffect)((function(){return g.onAuthStateChanged((function(e){c(e),d(!1)}))}),[]);var u={currentUser:s,login:function(e,n){return g.signInWithEmailAndPassword(e,n)},signup:function(e,n){return g.createUserWithEmailAndPassword(e,n)},logout:function(){return g.signOut()},resetPassword:function(e){return g.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(v.jsx)(y.Provider,{value:u,children:!l&&n})}function I(e){var n=e.component,t=Object(p.a)(e,["component"]),a=w().currentUser;return Object(v.jsx)(h.b,Object(m.a)(Object(m.a)({},t),{},{render:function(e){return a?Object(v.jsx)(n,Object(m.a)({},e)):Object(v.jsx)(h.a,{to:"/login"})}}))}var P=t(13),_=t.n(P),S=t(23),H=t(472),C=t(476),A=t(475),k=t(401),R=(t(78),function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"logo-main mb-4",children:Object(v.jsxs)("span",{className:"navbar-brand",children:[Object(v.jsx)("span",{children:Object(v.jsx)("img",{className:"logo mr-2",src:"/assets/logo.svg"})}),Object(v.jsx)("h3",{className:"navbar-text",children:"No-Limit Texas Hold'em Poker"})]})})}}]),t}(a.Component));function F(){var e,n=Object(a.useState)(""),t=Object(b.a)(n,2),r=t[0],s=t[1],c=w(),i=c.currentUser,o=c.logout,l=Object(h.g)();function d(){return(d=Object(S.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),e.prev=1,e.next=4,o();case 4:l.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function u(){return(u=Object(S.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s("");try{l.push("/Statistics")}catch(n){s("Failed to view statistics")}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return(p=Object(S.a)(_.a.mark((function e(){var n,t=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.length>0&&void 0!==t[0]?t[0]:"Beginner",s("");try{l.push("/?difficulty="+n)}catch(a){s("Failed to enter game")}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return F.username=(e=i.email).substring(0,e.indexOf("@")),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"100vh"},children:[Object(v.jsx)("div",{className:"w-200 text-center",children:Object(v.jsx)(R,{})}),Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Dashboard"}),r&&Object(v.jsx)(A.a,{variant:"danger",children:r}),Object(v.jsxs)("div",{className:"text-center mb-2",children:["Welcome ",Object(v.jsxs)("strong",{children:[" ",F.username]}),"!"]}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:[Object(v.jsx)(k.a,{className:"w-100 mb-3",onClick:function(){return m("beginner")},children:"Join Beginner Table"}),Object(v.jsx)(k.a,{className:"w-100 mb-3",onClick:function(){return m("intermediate")},children:"Join Intermediate Table"}),Object(v.jsx)(k.a,{className:"w-100 mb-3",onClick:function(){return m("expert")},children:"Join Expert Table"}),Object(v.jsx)(k.a,{className:"w-100 mb-3",onClick:function(){return m("ultimate")},children:"Join Ultimate Poker Pro Table"}),Object(v.jsx)(k.a,{variant:"warning",className:"w-100",onClick:function(){return u.apply(this,arguments)},children:"View Personal Statistics"})]})]})}),Object(v.jsx)("div",{className:"w-100 text-center mt-2",children:Object(v.jsx)(k.a,{variant:"link",onClick:function(){return d.apply(this,arguments)},children:"Log Out"})})]})]})})}var N=t(474);function D(){var e=Object(a.useRef)(),n=w().resetPassword,t=Object(a.useState)(""),r=Object(b.a)(t,2),s=r[0],c=r[1],i=Object(a.useState)(""),o=Object(b.a)(i,2),l=o[0],d=o[1],h=Object(a.useState)(!1),m=Object(b.a)(h,2),p=m[0],f=m[1];function j(){return(j=Object(S.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,d(""),c(""),f(!0),t.next=7,n(e.current.value);case 7:d("Check your inbox for further instructions"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),c("Failed to reset password");case 13:f(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(H.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),s&&Object(v.jsx)(A.a,{variant:"danger",children:s}),l&&Object(v.jsx)(A.a,{variant:"success",children:l}),Object(v.jsxs)(N.a,{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:"email",children:[Object(v.jsx)(N.a.Label,{children:"Email"}),Object(v.jsx)(N.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsx)(k.a,{disabled:p,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(v.jsx)("div",{className:"w-100 text-center mt-3",children:Object(v.jsx)(u.b,{to:"/login",children:"Login"})})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(v.jsx)(u.b,{to:"/signup",children:"Sign Up"})]})]})})})}var E=t(109),L=t(42),T=t(473),B=t(403),M=(t(444),t(71)),V=t(43),U=t(90),K=t.n(U),q=(t(447),function(){var e=Object(S.a)(_.a.mark((function e(){var n,t,a=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"User",t=[{id:K()(),name:n,avatarURL:"/assets/playerIcons/blackUser.svg",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!1},{id:K()(),name:"Agent 1",avatarURL:"/assets/playerIcons/blueUser.svg",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0},{id:K()(),name:"Agent 2",avatarURL:"/assets/playerIcons/redUser.svg",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0},{id:K()(),name:"Agent 3",avatarURL:"/assets/playerIcons/purpleUser.svg",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0},{id:K()(),name:"Agent 4",avatarURL:"/assets/playerIcons/yellowUser.svg",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0}],e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),W=function(e,n,t,a){switch(a){case"up":return(e+n)%t;case"down":return(e-n)%t+t;default:throw Error("Attempted to overfow index on unfamiliar direction")}},G=function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?t&&(n.activePlayerIndex=W(n.activePlayerIndex,1,n.players.length,"up")):n.activePlayerIndex=W(n.blindIndex.big,1,n.players.length,"up"),n.players[n.activePlayerIndex].folded||0===n.players[n.activePlayerIndex].chips?e(n,!0):n},J=function e(n){n.activePlayerIndex=W(n.activePlayerIndex,1,n.players.length,"up");var t=n.players[n.activePlayerIndex],a=n.numPlayersActive-n.numPlayersAllIn===1;return 1===n.numPlayersActive?(console.log("Only one player active, skipping to showdown."),ie(ke(ce(n)))):t.folded?(console.log("Current player index is folded, going to next active player."),e(n)):a&&!t.folded&&t.betReconciled?ie(ke(ce(n))):0===t.chips?n.numPlayersAllIn===n.numPlayersActive?(console.log("All players are all in."),ie(ke(ce(n)))):a&&t.allIn?ie(ke(ce(n))):e(n):t.betReconciled?(console.log("Player is reconciled with pot, round betting cycle complete, proceed to next round."),Ae(n)):n},z=function e(n){n.dealerIndex=W(n.dealerIndex,1,n.players.length,"up");var t=n.players[n.dealerIndex];return 0===t.chips?e(n):X(n,t.name)},X=function(e,n){e.players=e.players.filter((function(e){return e.chips>0}));var t=e.players.findIndex((function(e){return e.name===n}));if(e.dealerIndex=t,e.activePlayerIndex=t,1===e.players.length)return e;if(2===e.players.length)e.blindIndex.small=t,e.blindIndex.big=W(t,1,e.players.length,"up"),e.players=_e(e.players,{bigBlindIndex:e.blindIndex.big,smallBlindIndex:e.blindIndex.small},e.minBet).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{cards:[],showDownHand:{hand:[],descendingSortHand:[]},roundStartChips:e.chips+e.bet,currentRoundChipsInvested:0,betReconciled:!1,folded:!1,allIn:!1})})),e.numPlayersAllIn=0,e.numPlayersFolded=0,e.numPlayersActive=e.players.length;else{var a=Pe(t,e.players.length);e.blindIndex={big:a.bigBlindIndex,small:a.smallBlindIndex},e.players=_e(e.players,a,e.minBet).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{cards:[],showDownHand:{hand:[],descendingSortHand:[]},roundStartChips:e.chips+e.bet,currentRoundChipsInvested:0,betReconciled:!1,folded:!1,allIn:!1})})),e.numPlayersAllIn=0,e.numPlayersFolded=0,e.numPlayersActive=e.players.length}return ae(e)},Q=function(e){e.communityCards=[],e.sidePots=[],e.playerHierarchy=[],e.showDownMessages=[],e.deck=te(ne()),e.highBet=20,e.betInputValue=20,e.minBet=20;var n=e.players.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{cards:e.cards.map((function(e){}))})}));return e.players=n,z(e)},Y=function(e){return 1===e.filter((function(e){return e.chips>0})).length},Z=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],$=["Heart","Spade","Club","Diamond"],ee={2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:9,J:10,Q:11,K:12,A:13},ne=function(){var e,n=[],t=Object(V.a)($);try{for(t.s();!(e=t.n()).done;){var a,r=e.value,s=Object(V.a)(Z);try{for(s.s();!(a=s.n()).done;){var c=a.value;n.push({cardFace:c,suit:r,value:ee[c]})}}catch(i){s.e(i)}finally{s.f()}}}catch(i){t.e(i)}finally{t.f()}return n},te=function(e){for(var n=new Array(52),t=[],a=0;a<52;a++)if(51===a){var r=n.findIndex((function(e){return"undefined"==typeof e}));n[r]=e[a],t.push(r)}else{for(var s=re(0,51);t.includes(s);)s=re(0,51);n[s]=e[a],t.push(s)}return n},ae=function(e){e.clearCards=!1;for(var n=0;e.players[e.activePlayerIndex].cards.length<2;){var t=se(e.deck,1),a=t.mutableDeckCopy,r=t.chosenCards;r.animationDelay=n,n+=250;var s=Object(M.a)(a);e.players[e.activePlayerIndex].cards.push(r),e.deck=s,e.activePlayerIndex=W(e.activePlayerIndex,1,e.players.length,"up")}if(2===e.players[e.activePlayerIndex].cards.length)return e.activePlayerIndex=W(e.blindIndex.big,1,e.players.length,"up"),e.phase="betting1",e},re=function(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e},se=function(e,n){var t,a=Object(M.a)(e);if(1===n)t=a.pop();else{t=[];for(var r=0;r<n;r++)t.push(a.pop())}return{mutableDeckCopy:a,chosenCards:t}},ce=function(e){var n=5-e.communityCards.length;if(n>=1){var t,a=0,r=oe(e.deck,n),s=r.mutableDeckCopy,c=r.chosenCards,i=Object(V.a)(c);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.animationDelay=a,a+=250,e.communityCards.push(o)}}catch(l){i.e(l)}finally{i.f()}e.deck=s}return e.phase="showdown",e},ie=function(e){var n,t=Object(V.a)(e.players);try{var a=function(){var t=n.value,a={},r={};t.showDownHand.hand=t.cards.concat(e.communityCards),t.showDownHand.descendingSortHand=t.showDownHand.hand.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),t.showDownHand.descendingSortHand.forEach((function(e){a[e.cardFace]=a[e.cardFace]+1||1,r[e.suit]=r[e.suit]+1||1})),t.frequencyHistogram=a,t.suitHistogram=r;var s=Ie(t.showDownHand.descendingSortHand),c=ge(r),i=c.isFlush,o=c.flushedSuit,l=i&&t.showDownHand.descendingSortHand.filter((function(e){return e.suit===o})),d=i&&xe(l),u=i&&ye(l),h=u.isStraightFlush,m=u.isLowStraightFlush,p=u.concurrentSFCardValues,b=u.concurrentSFCardValuesLow,f=ve(s),j=f.isStraight,g=f.isLowStraight,x=f.concurrentCardValues,v=f.concurrentCardValuesLow,y=we(t.showDownHand.descendingSortHand,a),w=y.isFourOfAKind,O=y.isFullHouse,I=y.isThreeOfAKind,P=y.isTwoPair,_=y.isPair,S=y.frequencyHistogramMetaData,H=!d&&!h&&!w&&!O&&!i&&!j&&!I&&!P&&!_;t.showDownHand.bools={isRoyalFlush:d,isStraightFlush:h,isFourOfAKind:w,isFullHouse:O,isFlush:i,isStraight:j,isThreeOfAKind:I,isTwoPair:P,isPair:_,isNoPair:H},t.showDownHand.heldRankHierarchy=[{name:"Royal Flush",match:d},{name:"Straight Flush",match:h},{name:"Four Of A Kind",match:w},{name:"Full House",match:O},{name:"Flush",match:i},{name:"Straight",match:j},{name:"Three Of A Kind",match:I},{name:"Two Pair",match:P},{name:"Pair",match:_},{name:"No Pair",match:H}],t.metaData=S;var C=t.showDownHand.heldRankHierarchy.findIndex((function(e){return!0===e.match}));t.showDownHand.bestHandRank=t.showDownHand.heldRankHierarchy[C].name,t.showDownHand.bestHand=le(t.showDownHand.descendingSortHand,t.showDownHand.bestHandRank,o,l,x,v,g,m,p,b,S)};for(t.s();!(n=t.n()).done;)a()}catch(r){t.e(r)}finally{t.f()}return pe(e)},oe=function(e,n){var t,a=Object(M.a)(e);if(1===n)t=[a.pop()];else{t=[];for(var r=0;r<n;r++)t.push(a.pop())}return{mutableDeckCopy:a,chosenCards:t}},le=function(e,n,t,a,r,s,c,i,o,l,d){switch(n){case"Royal Flush":return a.slice(0,5);case"Straight Flush":return i&&o.length<5?(l[0]=13,l.reduce((function(e,n,t){return t<5&&e.push(a[a.findIndex((function(e){return e.value===n}))]),e}),[]).reverse()):o.reduce((function(e,n,t){return t<5&&e.push(a[a.findIndex((function(e){return e.value===n}))]),e}),[]);case"Four Of A Kind":for(var u=[],h=Object(L.cloneDeep)(e),m=function(e){var n=h.findIndex((function(e){return e.cardFace===d.quads[0].face}));u.push(h[n]),h=h.filter((function(e,t){return t!==n}))},p=0;p<4;p++)m();return u.concat(h.slice(0,1));case"Full House":var b=[],f=Object(L.cloneDeep)(e);if(d.tripples.length>1){for(var j=function(e){var n=f.findIndex((function(e){return e.cardFace===d.tripples[0].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},g=0;g<3;g++)j();for(var x=function(e){var n=f.findIndex((function(e){return e.cardFace===d.tripples[1].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},v=0;v<2;v++)x();return b}for(var y=function(e){var n=f.findIndex((function(e){return e.cardFace===d.tripples[0].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},w=0;w<3;w++)y();for(var O=function(e){var n=f.findIndex((function(e){return e.cardFace===d.pairs[0].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},I=0;I<2;I++)O();return b;case"Flush":return a.slice(0,5);case"Straight":return c&&r.length<5?(s[0]=13,s.reduce((function(n,t,a){return a<5&&n.push(e[e.findIndex((function(e){return e.value===t}))]),n}),[]).reverse()):r.reduce((function(n,t,a){return a<5&&n.push(e[e.findIndex((function(e){return e.value===t}))]),n}),[]);case"Three Of A Kind":for(var P=[],_=Object(L.cloneDeep)(e),S=function(e){var n=_.findIndex((function(e){return e.cardFace===d.tripples[0].face}));P.push(_[n]),_=_.filter((function(e,t){return t!==n}))},H=0;H<3;H++)S();return P.concat(_.slice(0,2));case"Two Pair":for(var C=[],A=Object(L.cloneDeep)(e),k=function(e){var n=A.findIndex((function(e){return e.cardFace===d.pairs[0].face}));C.push(A[n]),A=A.filter((function(e,t){return t!==n}))},R=0;R<2;R++)k();for(var F=function(e){var n=A.findIndex((function(e){return e.cardFace===d.pairs[1].face}));C.push(A[n]),A=A.filter((function(e,t){return t!==n}))},N=0;N<2;N++)F();return C.concat(A.slice(0,1));case"Pair":for(var D=[],E=Object(L.cloneDeep)(e),T=function(e){var n=E.findIndex((function(e){return e.cardFace===d.pairs[0].face}));D.push(E[n]),E=E.filter((function(e,t){return t!==n}))},B=0;B<2;B++)T();return D.concat(E.slice(0,3));case"No Pair":return e.slice(0,5);default:throw Error("Recieved unfamiliar rank argument in findBestHand()")}},de=function(e){var n=e.players.filter((function(e){return!e.folded})),t=[],a=new Map([["Royal Flush",[]],["Straight Flush",[]],["Four Of A Kind",[]],["Full House",[]],["Flush",[]],["Straight",[]],["Three Of A Kind",[]],["Two Pair",[]],["Pair",[]],["No Pair",[]]]);n.forEach((function(e,n){var t=e.name,r=e.showDownHand,s=r.bestHandRank,c=r.bestHand;a.get(s).push({name:t,bestHand:c,playerIndex:n})}));var r,s=Object(V.a)(a);try{var c=function(){var e=Object(b.a)(r.value,2),n=e[0],a=e[1];if(a.length>0){if("Royal Flush"===n){var s=a.map((function(e){return{name:e.name,bestHand:e.bestHand,handRank:n}}));return t=t.concat(s),"continue"}if(1===a.length){var c=a[0],i=c.name,o=c.bestHand;t=t.concat([{name:i,bestHand:o,handRank:n}])}else if(a.length>1){var l=function(e,n){var t=[],a=[],r=function r(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(1!==s[0].length){var i=e.map((function(e){return e})),o=s[c],l=he(o),d=l.winningFrame,u=l.losingFrame;if(u.length>0){var h=i.map((function(e){return e.filter((function(e){return u.some((function(n){return n.name===e.name}))}))}));a=[h].concat(a)}if(1===d.length){var m=d[0],p=m.name,b=m.bestHand;t=t.concat([{name:p,bestHand:b,handRank:n}])}else if(c===e.length-1){var f=d.map((function(e){return{name:e.name,bestHand:e.bestHand,handRank:n}}));t=t.concat([f])}else{r(i.map((function(e){return e.filter((function(e){return d.some((function(n){return n.name===e.name}))}))})),c+1)}}else{var j=s[0][0],g=j.name,x=j.bestHand;t=t.concat([{name:g,bestHand:x,handRank:n}])}};return r(e),function e(n){if(a.length>0){var t=n[0];a=n.slice(1),r(t),e(a)}}(a),t}(fe(n,a).map((function(e){return e.sort((function(e,n){return n.card.value-e.card.value}))})),n);t=t.concat(l)}}};for(s.s();!(r=s.n()).done;)c()}catch(i){s.e(i)}finally{s.f()}return t},ue=function(e,n){var t,a=new Map([["Royal Flush",[]],["Straight Flush",[]],["Four Of A Kind",[]],["Full House",[]],["Flush",[]],["Straight",[]],["Three Of A Kind",[]],["Two Pair",[]],["Pair",[]],["No Pair",[]]]),r=Object(V.a)(n);try{var s=function(){var n=t.value,r=e.players.findIndex((function(e){return e.name===n})),s=e.players[r];s.folded||a.get(s.showDownHand.bestHandRank).push({name:s.name,playerIndex:r,bestHand:s.showDownHand.bestHand})};for(r.s();!(t=r.n()).done;)s()}catch(c){r.e(c)}finally{r.f()}return a},he=function(e){var n=e[0].card.value;return{winningFrame:e.filter((function(e){return e.card.value===n})),losingFrame:e.filter((function(e){return e.card.value<n}))}},me=function(e,n,t){var a=!1;return n.forEach((function(n,r,s){if(!a)if(1===n.length)a=!0,console.log("Winner, ",n[0].name," , beating out the competition with a ",r),e=be(e,n,t,r);else if(n.length>1){console.log(n),a=!0;var c=je(fe(r,n),r);1===c.length?(console.log("Winner, ",c[0].name," , beating out the competition with a ",r),e=be(e,c,t,r)):(console.log("We have a tie! Split the pot amongst ",c," Who will take the pot with their ",r),e=be(e,c,t,r))}})),e},pe=function(e){e.playerHierarchy=de(e),console.log("Ultimate Player Hierarchy Determined:"),console.log(e.playerHierarchy);var n,t=Object(V.a)(e.sidePots);try{for(t.s();!(n=t.n()).done;){var a=n.value,r=ue(e,a.contestants);e=me(e,r,a.potValue)}}catch(s){t.e(s)}finally{t.f()}return e.players=e.players.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{roundEndChips:e.chips})})),e},be=function(e,n,t,a){if(1===n.length)e.showDownMessages=e.showDownMessages.concat([{users:[n[0].name],prize:t,rank:a}]),console.log("Transferring ",t," chips to ",n[0].name),e.players[n[0].playerIndex].chips+=t,e.pot-=t;else if(n.length>1){var r=t%n.length,s=Math.floor(t/n.length);console.log("Mediating Tie. Total Prize ",t," split into ",n.length," portions with an overflow of ",r),e.showDownMessages=e.showDownMessages.concat([{users:n.map((function(e){return e.name})),prize:s,rank:a}]),n.forEach((function(n){e.players[n.playerIndex].chips+=s,e.pot-=s}))}return e},fe=function(e,n){var t;switch(e){case"Royal Flush":t=Array.from({length:1}),n.forEach((function(e,a){t.push({name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case"Four Of A Kind":t=Array.from({length:2},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case"Full House":t=Array.from({length:2},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[3],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case"Flush":case"No Pair":t=Array.from({length:5},(function(){return Array.from({length:0})})),n.forEach((function(e,a){for(var r=0;r<5;r++)t[r].push({card:n[a].bestHand[r],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case"Three Of A Kind":t=Array.from({length:3},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[3],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[2].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case"Straight":case"Straight Flush":t=Array.from({length:1},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case"Two Pair":t=Array.from({length:3},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[2],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[2].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case"Pair":t=Array.from({length:4},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[2],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[2].push({card:n[a].bestHand[3],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[3].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;default:throw Error("Recieved unfamiliar rank argument in createRankingsComparator()")}return t},je=function(e,n){var t;if("Royal Flush"===n)return e;for(var a=function(n){var a=0,r=[];if(1===(t=e[n].sort((function(e,n){return n.card.value-e.card.value})).reduce((function(e,n,t){return n.card.value>a?(a=n.card.value,e.push({name:n.name,playerIndex:n.playerIndex}),e):n.card.value===a?(e.push({name:n.name,playerIndex:n.playerIndex}),e):n.card.value<a?(r.push(n.name),e):void 0}),[])).length||n===e.length)return{v:t};r.length>=1&&r.forEach((function(n){e=e.map((function(e){return e.filter((function(e){return e.name!==n}))}))}))},r=0;r<e.length;r++){var s=a(r);if("object"===typeof s)return s.v}return t},ge=function(e){for(var n in e)if(e[n]>=5)return{isFlush:!0,flushedSuit:n};return{isFlush:!1,flushedSuit:null}},xe=function(e){return 13===e[0].value&&12===e[1].value&&11===e[2].value&&10===e[3].value&&10===e[4].value},ve=function(e){if(e.length<5)return!1;for(var n=0,t=[],a=1;a<e.length;a++){if(5===n)return{isStraight:!0,concurrentCardValues:t};e[a]-e[a-1]===-1?0===n?(n=2,t.push(e[a-1]),t.push(e[a])):(n++,t.push(e[a])):(n=0,t=[])}if(n>=5)return{isStraight:!0,concurrentCardValues:t};if(13===e[0]){var r=Oe(Object(L.cloneDeep)(e)),s=r.isLowStraight,c=r.concurrentCardValuesLow;if(s)return{isStraight:!0,isLowStraight:s,concurrentCardValues:t,concurrentCardValuesLow:c}}return{isStraight:!1,isLowStraight:!1,concurrentCardValues:t}},ye=function(e){var n=Ie(e),t=ve(n);return{isStraightFlush:t.isStraight,isLowStraightFlush:t.isLowStraight,concurrentSFCardValues:t.concurrentCardValues,concurrentSFCardValuesLow:t.concurrentCardValuesLow}},we=function(e,n){var t=!1,a=!1,r=!1,s=!1,c=!1,i=0,o=0,l={pairs:[],tripples:[],quads:[]};for(var d in n)4===n[d]&&(t=!0,l.quads.push({face:d,value:ee[d]})),3===n[d]&&(r=!0,i++,l.tripples.push({face:d,value:ee[d]})),2===n[d]&&(c=!0,o++,l.pairs.push({face:d,value:ee[d]}));return l.pairs=l.pairs.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),l.tripples=l.tripples.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),l.quads=l.quads.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),(i>=2||o>=1&&i>=1)&&(a=!0),o>=2&&(s=!0),{isFourOfAKind:t,isFullHouse:a,isThreeOfAKind:r,isTwoPair:s,isPair:c,frequencyHistogramMetaData:l}},Oe=function(e){var n=0,t=[];e[0]=0;for(var a=e.map((function(e){return e})).sort((function(e,n){return e-n})),r=1;r<5;r++){if(n>=5)return{isLowStraight:!0,concurrentCardValuesLow:t};a[r]-a[r-1]===1?0===n?(n=2,t.push(a[r-1]),t.push(a[r])):(n++,t.push(a[r])):(n=0,t=[])}return n>=5?{isLowStraight:!0,concurrentCardValuesLow:t}:{isLowStraight:!1,concurrentCardValuesLow:t}},Ie=function(e){return Array.from(new Set(e.map((function(e){return e.value}))))},Pe=function(e,n){return{bigBlindIndex:(e+2)%n,smallBlindIndex:(e+1)%n}},_e=function(e,n,t){var a=n.bigBlindIndex,r=n.smallBlindIndex;return e[a].bet=t,e[a].chips=e[a].chips-t,e[r].bet=t/2,e[r].chips=e[r].chips-t/2,e},Se=function(e,n,t){var a=n+t;return a<e?a:e},He=function(e,n,t,a){if(n<t)return e.betInputValue=t,console.log("Invalid Bet");if(n>a)return e.betInputValue=a,console.log("Invalid Bet");if(n>e.highBet){e.highBet=n,e.minBet=e.highBet;var r,s=Object(V.a)(e.players);try{for(s.s();!(r=s.n()).done;){var c=r.value;c.folded&&0!==!c.chips||(c.betReconciled=!1)}}catch(l){s.e(l)}finally{s.f()}}var i=e.players[e.activePlayerIndex],o=n-i.bet;return i.bet=n,i.chips=i.chips-o,0===i.chips&&(i.allIn=!0,e.numPlayersAllIn++),i.betReconciled=!0,J(e)},Ce=function(e){var n=e.players[e.activePlayerIndex];return n.folded=!0,n.betReconciled=!0,e.numPlayersFolded++,e.numPlayersActive--,J(e)},Ae=function(e){switch(e.phase){case"betting1":return e.phase="flop",function(e){var n,t=0,a=se(e.deck,3),r=a.mutableDeckCopy,s=a.chosenCards,c=Object(V.a)(s);try{for(c.s();!(n=c.n()).done;){var i=n.value;i.animationDelay=t,t+=250,e.communityCards.push(i)}}catch(o){c.e(o)}finally{c.f()}return e.deck=r,(e=G(e)).phase="betting2",e}(ke(e));case"betting2":return e.phase="turn",function(e){var n=se(e.deck,1),t=n.mutableDeckCopy,a=n.chosenCards;return a.animationDelay=0,e.communityCards.push(a),e.deck=t,(e=G(e)).phase="betting3",e}(ke(e));case"betting3":return e.phase="river",function(e){var n=se(e.deck,1),t=n.mutableDeckCopy,a=n.chosenCards;return a.animationDelay=0,e.communityCards.push(a),e.deck=t,(e=G(e)).phase="betting4",e}(ke(e));case"betting4":return e.phase="showdown",ie(ke(e));default:throw Error("managePhaseShift() called from non-betting phase")}},ke=function(e){var n,t=Object(V.a)(e.players);try{for(t.s();!(n=t.n()).done;){var a=n.value;e.pot=e.pot+a.bet,a.sidePotStack=a.bet,a.betReconciled=!1}}catch(i){t.e(i)}finally{t.f()}e=Fe(Re(e,e.players));var r,s=Object(V.a)(e.players);try{for(s.s();!(r=s.n()).done;){var c=r.value;c.currentRoundChipsInvested+=c.bet,c.bet=0}}catch(i){s.e(i)}finally{s.f()}return e.minBet=0,e.highBet=0,e.betInputValue=0,e},Re=function e(n,t){var a=t.filter((function(e){return e.sidePotStack>0}));if(0===a.length)return n;if(1===a.length){var r=n.players[n.players.findIndex((function(e){return e.name===a[0].name}))];return r.chips=r.chips+a[0].sidePotStack,n.pot-=a[0].sidePotStack,n}var s=a.sort((function(e,n){return e.sidePotStack-n.sidePotStack})),c=s[0].sidePotStack,i=s.reduce((function(e,n){return n.folded||e.contestants.push(n.name),e.potValue=e.potValue+c,n.sidePotStack=n.sidePotStack-c,e}),{contestants:[],potValue:0});return n.sidePots.push(i),e(n,s)},Fe=function(e){if(e.sidePots.length>1)for(var n=0;n<e.sidePots.length;n++)for(var t=function(t){Ne(e.sidePots[n].contestants,e.sidePots[t].contestants)&&(e.sidePots[n].potValue=e.sidePots[n].potValue+e.sidePots[t].potValue,e.sidePots=e.sidePots.filter((function(e,n){return n!==t})))},a=n+1;a<e.sidePots.length;a++)t(a);return e},Ne=function(e,n){return e.length===n.length&&0===e.map((function(e){return n.includes(e)})).filter((function(e){return!0!==e})).length},De=t(113);var Ee=function(e){var n=e.handle,t=n.id,a=n.value,r=n.percent,s=e.getHandleProps;return Object(v.jsx)("div",Object(m.a)(Object(m.a)({style:{left:"".concat(r,"%"),position:"absolute",marginLeft:-15,marginTop:25,zIndex:2,width:50,height:25,border:"3px solid #7177A3",textAlign:"center",cursor:"pointer",borderRadius:"15px",backgroundColor:"#FFEB49",color:"#aaa"}},s(t)),{},{children:Object(v.jsx)("div",{style:{display:"flex",textShadow:"2px 2px 8px rgba(0,0,0,0.95)",justifyContent:"center",fontFamily:"Roboto",fontSize:11,marginTop:30},children:a})}))},Le={position:"relative",width:"100%",height:80},Te={position:"absolute",width:"100%",height:10,marginTop:35,borderRadius:5,backgroundColor:"#7177A3"};var Be=function(e){var n=e.source,t=e.target,a=e.getTrackProps;return Object(v.jsx)("div",Object(m.a)({style:{position:"absolute",height:10,zIndex:1,marginTop:35,backgroundColor:"#FFEB49",borderRadius:5,cursor:"pointer",left:"".concat(n.percent,"%"),width:"".concat(t.percent-n.percent,"%")}},a()))},Me=function(e,n,t){return 0===e&&0===n?"Check":e===n?"Call":n<e||n===t.chips+t.bet?"All-in!":n>e?"Raise":void 0},Ve=function(e,n){var t=e-n,a=t>0,r=0===t;return Object(v.jsx)("div",{class:"showdown-player-earnings ".concat(a?"positive":r?"":"negative"),children:"".concat(a?"+":"").concat(t)})},Ue=function(e){return e.map((function(e,n){var t=e.users,a=e.prize,s=e.rank;return t.length>1?Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsxs)("div",{className:"message-div",children:[Object(v.jsx)("span",{className:"message-user",children:"".concat(t.length," players ")}),Object(v.jsx)("span",{className:"message-content",children:"split the pot with a "}),Object(v.jsx)("span",{className:"message-rank",children:"".concat(s,"!")})]}),t.map((function(e){return Object(v.jsxs)("div",{class:"message-div",children:[Object(v.jsx)("span",{className:"message-player",children:"".concat(e," ")}),Object(v.jsx)("span",{className:"message-content",children:"takes "}),Object(v.jsx)("span",{className:"message-earnings",children:"".concat(a," chips ")}),Object(v.jsx)("span",{className:"message-content",children:"from the pot."})]},n+e)}))]},n):1===t.length?Object(v.jsxs)("div",{className:"message-div",children:[Object(v.jsx)("span",{className:"message-player",children:"".concat(t[0]," ")}),Object(v.jsx)("span",{className:"message-content",children:"wins "}),Object(v.jsx)("span",{className:"message-earnings",children:"".concat(a," chips ")}),Object(v.jsx)("span",{className:"message-content",children:"from the pot with a "}),Object(v.jsx)("span",{className:"message-rank",children:"".concat(s,"!")})]},n):void 0}))},Ke=function(e,n,t,a,s){var c=Se(e,n[t].chips,n[t].bet),i=n[t].chips+n[t].bet;return"betting1"===a||"betting2"===a||"betting3"===a||"betting4"===a?n[t].robot?Object(v.jsxs)("h4",{className:"current-move-head",children:[" ","Current Move: ".concat(n[t].name)]}):Object(v.jsx)(r.a.Fragment,{children:Object(v.jsxs)(De.c,{rootStyle:Le,domain:[c,i],values:[c],step:1,onChange:s,mode:2,children:[Object(v.jsx)(De.b,{children:function(e){var n=e.getRailProps;return Object(v.jsx)("div",Object(m.a)({style:Te},n()))}}),Object(v.jsx)(De.a,{children:function(e){var n=e.handles,t=e.getHandleProps;return Object(v.jsx)("div",{className:"slider-handles",children:n.map((function(e){return Object(v.jsx)(Ee,{handle:e,getHandleProps:t},e.id)}))})}}),Object(v.jsx)(De.d,{right:!1,children:function(e){var n=e.tracks,t=e.getTrackProps;return Object(v.jsx)("div",{className:"slider-tracks",children:n.map((function(e){var n=e.id,a=e.source,r=e.target;return Object(v.jsx)(Be,{source:a,target:r,getTrackProps:t},n)}))})}})]})}):null},qe=function(e,n){var t=e.highBet,a=e.players[e.activePlayerIndex],r=Se(t,a.chips,a.bet),s=a.chips+a.bet,c=t/(a.chips+a.bet+a.stackInvestment)*100,i=a.cards.concat(e.communityCards).sort((function(e,n){return n.value-e.value})),o=Ye(i),l=o.frequencyHistogram,d=o.suitHistogram,u=Je(c),h=a.cards.map((function(e){return e.value})),m=Math.max.apply(Math,Object(M.a)(h)),p=Math.min.apply(Math,Object(M.a)(h));switch(e.phase){case"betting1":var b=Object.entries(d).find((function(e){return 2===e[1]})),f=Ge(m,p,b,m-p<=4),j=f.callLimit,g=f.raiseChance,x=f.raiseRange,v=Xe[u]<=Xe[j],y=a.chips+a.bet>=t?t:a.chips+a.bet;if(v){if(Qe(g)){var w=x[Math.floor(Math.random()*(x.length-0))+0];if(Xe[u]<=Xe[w]){var O=Math.floor(ze(w)*a.chips);return O<t&&t<s&&(O=t),O>s&&(a.canRaise=!1),n(e.activePlayerIndex,"".concat(Me(t,O,a)," ").concat(O)),He(e,O,r,s)}return n(e.activePlayerIndex,"".concat(Me(t,y,a)," ").concat(y>a.bet?y:"")),He(e,y,r,s)}return n(e.activePlayerIndex,"".concat(Me(t,y,a)," ").concat(y>a.bet?y:"")),He(e,y,r,s)}return n(e.activePlayerIndex,"FOLD"),Ce(e);case"betting2":case"betting3":case"betting4":var I=we(i,l),P=I.isPair,_=I.isTwoPair,S=I.isThreeOfAKind,H=I.isFourOfAKind,C=I.isFullHouse,A=I.frequencyHistogramMetaData,k=Ie(i),R=ve(k),F=R.isStraight,N=(R.isLowStraight,R.concurrentCardValues,R.concurrentCardValuesLow,ge(d)),D=N.isFlush,E=N.flushedSuit,L=D&&i.filter((function(e){return e.suit===E})),T=D&&ye(L),B=T.isStraightFlush,V=(T.isLowStraightFlush,T.concurrentSFCardValues,T.concurrentSFCardValuesLow,D&&xe(L)),U=[{name:"Royal Flush",match:V},{name:"Straight Flush",match:B},{name:"Four Of A Kind",match:H},{name:"Full House",match:C},{name:"Flush",match:D},{name:"Straight",match:F},{name:"Three Of A Kind",match:S},{name:"Two Pair",match:_},{name:"Pair",match:P},{name:"No Pair",match:!V&&!B&&!H&&!C&&!D&&!F&&!S&&!_&&!P}],K=U[U.findIndex((function(e){return!0===e.match}))].name,q=We(i,K,A),W=q.callLimit,G=q.raiseChance,J=q.raiseRange,z=Xe[u]<=Xe[W],X=a.chips+a.bet>=t?t:a.chips+a.bet;if(z){if(Qe(G)){var Q=J[Math.floor(Math.random()*(J.length-0))+0];if(Xe[u]<=Xe[Q]){var Y=Math.floor(ze(Q)*a.chips);return Y<t&&(Y=t),a.canRaise=!1,n(e.activePlayerIndex,"".concat(Me(t,Y,a)," ").concat(Y)),He(e,Y,r,s)}return n(e.activePlayerIndex,"".concat(Me(t,X,a)," ").concat(X>a.bet?X:"")),He(e,X,r,s)}return n(e.activePlayerIndex,"".concat(Me(t,X,a)," ").concat(X>a.bet?X:"")),He(e,X,r,s)}return n(e.activePlayerIndex,"FOLD"),Ce(e);default:throw Error("Handle AI Running during incorrect phase")}},We=function(e,n,t){return"Royal Flush"===n?{callLimit:"beware",raiseChance:1,raiseRange:["beware"]}:"Straight Flush"===n||"Four Of A Kind"===n?{callLimit:"beware",raiseChance:1,raiseRange:["strong","aggro","beware"]}:"Full House"===n?{callLimit:"beware",raiseChance:1,raiseRange:["hidraw","strong","aggro","beware"]}:"Flush"===n?{callLimit:"beware",raiseChange:1,raiseRange:["strong","aggro","beware"]}:"Straight"===n||"Three Of A Kind"===n?{callLimit:"beware",raiseChange:1,raiseRange:["lowdraw","meddraw","hidraw, strong"]}:"Two Pair"===n?{callLimit:"beware",raiseChange:.7,raiseRange:["lowdraw","meddraw","hidraw, strong"]}:"Pair"===n?{callLimit:"hidraw",raiseChange:.5,raiseRange:["lowdraw","meddraw","hidraw, strong"]}:"No Pair"===n?{callLimit:"meddraw",raiseChange:.2,raiseRange:["lowdraw","meddraw","hidraw, strong"]}:void 0},Ge=function(e,n,t,a){if(e!==n)return e>9&&n>9?t?{callLimit:"beware",raiseChance:1,raiseRange:["insignificant","lowdraw","meddraw","hidraw"]}:{callLimit:"beware",raiseChance:.75,raiseRange:["insignificant","lowdraw","meddraw","hidraw"]}:e>8&&n>6?t?{callLimit:"beware",raiseChance:.65,raiseRange:["insignificant","lowdraw","meddraw","hidraw"]}:{callLimit:"beware",raiseChance:.45,raiseRange:["insignificant","lowdraw","meddraw","hidraw"]}:e>8&&n<6?t?{callLimit:"major",raiseChance:.45,raiseRange:["insignificant","lowdraw"]}:{callLimit:"aggro",raiseChance:.35,raiseRange:["insignificant","lowdraw"]}:e>5&&n>3?t?{callLimit:"strong",raiseChance:.1,raiseRange:["insignificant","lowdraw"]}:a?{callLimit:"aggro",raiseChance:0}:{callLimit:"strong",raiseChance:0}:t?{callLimit:"strong",raiseChance:.1,raiseRange:["insignificant"]}:a?{callLimit:"strong",raiseChance:0}:{callLimit:"insignificant",raiseChance:0};switch(e){case e>8:return{callLimit:"beware",raiseChance:.9,raiseRange:["lowdraw","meddraw","hidraw","strong"]};case e>5:return{callLimit:"aggro",raiseChance:.75,raiseRange:["insignificant","lowdraw","meddraw"]};case e<5:default:return{callLimit:"aggro",raiseChance:.5,raiseRange:["insignificant","lowdraw","meddraw"]}}},Je=function(e){switch(!0){case e>75:return"beware";case e>40:return"aggro";case e>35:return"major";case e>25:return"strong";case e>15:return"hidraw";case e>10:return"meddraw";case e>3:return"lowdraw";case e>=1:return"insignificant";case e<1:default:return"blind"}},ze=function(e){return"blind"===e?.1*Math.random()+0:"insignificant"===e?Math.random()*(.03-.01)+.01:"lowdraw"===e?.07*Math.random()+.03:"meddraw"===e?Math.random()*(.15-.1)+.1:"hidraw"===e?.1*Math.random()+.15:"strong"===e?Math.random()*(.35-.25)+.25:"major"===e?Math.random()*(.4-.35)+.35:"aggro"===e?.35*Math.random()+.4:"beware"===e?.25*Math.random()+.75:void 0},Xe={blind:0,insignificant:1,lowdraw:2,meddraw:3,hidraw:4,strong:5,major:6,aggro:7,beware:8},Qe=function(e){return Math.random()<e},Ye=function(e){return e.reduce((function(e,n){return e.frequencyHistogram[n.cardFace]=(e.frequencyHistogram[n.cardFace]||0)+1,e.suitHistogram[n.suit]=(e.suitHistogram[n.suit]||0)+1,e}),{frequencyHistogram:{},suitHistogram:{}})},Ze=function(e){var n=e.cardData,t=n.suit,a=n.cardFace,r=(n.animationDelay,e.applyFoldedClassname,t.substring(0,1).toUpperCase());return Object(v.jsx)("div",{className:"poker-card",children:Object(v.jsx)("img",{src:"".concat("","/assets/cardFaces/").concat(a).concat(r,".svg")})})},$e=function(e){return Object(v.jsx)("div",{className:"loading-div",children:Object(v.jsx)("div",{className:"spinner-div",children:Object(v.jsx)("img",{src:"/assets/logo.svg",alt:"Loading game..."})})})},en=function(e){var n=e.cardData,t=n.suit,a=n.cardFace,r=n.animationDelay,s=e.applyFoldedClassname;return Object(v.jsx)("div",{className:"poker-card cardIn agent-card".concat(s?" folded":""),style:{animationDelay:"".concat(s?0:r,"ms")}},"".concat(t," ").concat(a))},nn=t(477);var tn=function(e){var n=e.index,t=e.isActive,a=e.content,r=e.endTransition;return Object(v.jsx)(nn.a,{in:t,timeout:{appear:0,enter:0,exit:1250},classNames:"trans-notification",onEntered:function(){return r(n)},children:Object(v.jsx)("div",{className:"notification",children:"".concat(a)})})},an=function(e){var n,t=e.arrayIndex,a=e.playerAnimationSwitchboard,r=e.endTransition,s=e.hasDealerChip,c=e.isActive,i=e.phase,o=e.clearCards,l=e.player,d=l.robot,u=l.folded,h=l.cards,p=l.avatarURL,b=l.name,f=l.chips,j=l.bet;return Object(v.jsxs)("div",{className:"player-wrapper p".concat(t),children:[Object(v.jsx)(tn,{index:t,isActive:(n=t,!!a[n].Animating),content:a[t].content,endTransition:r}),Object(v.jsx)("div",{className:"flex-row abscard",children:function(){var e;return(u||o)&&(e=!0),d?h.map((function(n,t){if("showdown"!==i)return Object(v.jsx)(en,{cardData:n,applyFoldedClassname:e},t);var a=Object(m.a)(Object(m.a)({},n),{},{animationDelay:0});return Object(v.jsx)(Ze,{cardData:a,applyFoldedClassname:e},t)})):h.map((function(n,t){return Object(v.jsx)(Ze,{cardData:n,applyFoldedClassname:e},t)}))}()}),Object(v.jsx)("div",{className:"player-div",children:Object(v.jsxs)("div",{className:"player-icon-div",children:[Object(v.jsx)("img",{className:"player-icon-image".concat(c?" activePlayer":""),src:p,alt:"Player Avatar"}),Object(v.jsx)("h5",{className:"player-data-name",style:{fontSize:b.length<14?12:10},children:"".concat(b)}),Object(v.jsxs)("div",{className:"player-data-stash-div",children:[Object(v.jsx)("img",{className:"player-data-stash-image",src:"./assets/chips.svg",alt:"Player Stash"}),Object(v.jsx)("h5",{className:"player-data-stash-head",children:"".concat(f)})]}),Object(v.jsxs)("div",{className:"player-data-bet-div",children:[Object(v.jsx)("img",{className:"player-data-bet-image",src:"./assets/pot.svg",alt:"Player Bet"}),Object(v.jsx)("h5",{className:"player-data-bet-head",children:"".concat(j)})]}),s?Object(v.jsx)("div",{className:"dealer-chips-div",children:Object(v.jsx)("img",{src:"/assets/logo.svg",alt:"Dealer Chip"})}):null]})})]})};function rn(e){var n=w().currentUser,t=Object(h.g)(),r=Object(h.h)().search,s=new URLSearchParams(r).get("difficulty");function c(){return(c=Object(S.a)(_.a.mark((function t(a){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Object,x.database().ref().child(n.uid).once("value").then((function(t){var a=0;t.forEach((function(e){var n=e.key,t=e.val();r[n]=t,a+=1})),0==a&&(x.database().ref().child(n.uid).set({num_beginner_games:0,num_beginner_wins:0,num_intermediate_games:0,num_intermediate_wins:0,num_expert_games:0,num_expert_wins:0,num_ultimate_games:0,num_ultimate_wins:0}),r={num_beginner_games:0,num_beginner_wins:0,num_intermediate_games:0,num_intermediate_wins:0,num_expert_games:0,num_expert_wins:0,num_ultimate_games:0,num_ultimate_wins:0}),"beginner"==s?(r.num_beginner_games=r.num_beginner_games+1,e.winner.name==F.username&&(r.num_beginner_wins=r.num_beginner_wins+1)):"intermediate"==s?(r.num_intermediate_games=r.num_intermediate_games+1,e.winner.name==F.username&&(r.num_intermediate_wins=r.num_intermediate_wins+1)):"expert"==s?(r.num_expert_games=r.num_expert_games+1,e.winner.name==F.username&&(r.num_expert_wins=r.num_expert_wins+1)):"ultimate"==s&&(r.num_ultimate_games=r.num_ultimate_games+1,e.winner.name==F.username&&(r.num_ultimate_wins=r.num_ultimate_wins+1)),x.database().ref().child(n.uid).set({num_beginner_games:r.num_beginner_games,num_beginner_wins:r.num_beginner_wins,num_intermediate_games:r.num_intermediate_games,num_intermediate_wins:r.num_intermediate_wins,num_expert_games:r.num_expert_games,num_expert_wins:r.num_expert_wins,num_ultimate_games:r.num_ultimate_games,num_ultimate_wins:r.num_ultimate_wins})}),(function(e){console.log("Error reading player statistics from DB")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(S.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),console.log("Returning to dashboard...");try{t.push("/dashboard")}catch(a){console.log("Error returning to dashboard. Please try again.")}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){c.apply(this,arguments)}()})),Object(v.jsx)(H.a,{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(v.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)("div",{className:"w-200 text-center",children:Object(v.jsx)("img",{className:"logo mr-2",src:"/assets/win-trophy.png"})}),Object(v.jsx)("div",{className:"w-100 m-100",children:Object(v.jsxs)("h2",{children:[e.winner.name," Wins!"]})}),Object(v.jsx)(k.a,{className:"w-100 mt-3",onClick:function(e){return i.apply(this,arguments)},children:"Return to Dashboard"})]})})})})}var sn=function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=n.call.apply(n,[this].concat(s))).state={loading:!0,winnerFound:null,winner:null,players:null,numPlayersActive:null,numPlayersFolded:null,numPlayersAllIn:null,activePlayerIndex:null,dealerIndex:null,blindIndex:null,deck:null,communityCards:[],pot:null,highBet:null,betInputValue:null,sidePots:[],minBet:20,phase:"loading",playerHierarchy:[],showDownMessages:[],playActionMessages:[],playerAnimationSwitchboard:{0:{isAnimating:!1,content:null},1:{isAnimating:!1,content:null},2:{isAnimating:!1,content:null},3:{isAnimating:!1,content:null},4:{isAnimating:!1,content:null},5:{isAnimating:!1,content:null}}},e.cardAnimationDelay=0,e.executeGame=function(){var n=ae(Object(L.cloneDeep)(e.state));e.setState(n,(function(){e.state.players[e.state.activePlayerIndex].robot&&"showdown"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.aiHandler=function(){var n=e.state,t=(n.playerAnimationSwitchboard,Object(p.a)(n,["playerAnimationSwitchboard"])),a=qe(Object(L.cloneDeep)(t),e.changePlayerAnimationState);e.setState(Object(m.a)(Object(m.a)({},a),{},{betInputValue:a.minBet}),(function(){e.state.players[e.state.activePlayerIndex].robot&&"showdown"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.manageBetChange=function(n,t,a){""===n&&(n=t),n>a&&(n=a),e.setState({betInputValue:parseInt(n,10)})},e.manageBetSubmit=function(n,t,a){var r=e.state,s=(r.playerAnimationSwitchboard,Object(p.a)(r,["playerAnimationSwitchboard"])),c=s.activePlayerIndex;e.changePlayerAnimationState(c,"".concat(Me(e.state.highBet,e.state.betInputValue,e.state.players[e.state.activePlayerIndex])," ").concat(n>e.state.players[e.state.activePlayerIndex].bet?n:""));var i=He(Object(L.cloneDeep)(s),parseInt(n,10),parseInt(t,10),parseInt(a,10));e.setState(i,(function(){e.state.players[e.state.activePlayerIndex].robot&&"showdown"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.manageSliderInputChange=function(n){e.setState({betInputValue:n[0]})},e.managePlayerFold=function(){var n=e.state,t=(n.playerAnimationSwitchboard,Object(p.a)(n,["playerAnimationSwitchboard"])),a=Ce(Object(L.cloneDeep)(t));e.setState(a,(function(){e.state.players[e.state.activePlayerIndex].robot&&"showdown"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.manageNextRound=function(){e.setState({clearCards:!0});var n,t=Q(Object(L.cloneDeep)(e.state));if(Y(t.players))return t.players.forEach((function(e){e.chips>0&&(n=e)})),e.setState({winner:n}),void e.setState({winnerFound:!0});e.setState(t,(function(){e.state.players[e.state.activePlayerIndex].robot&&"showdown"!==e.state.phase&&setTimeout((function(){return e.aiHandler()}),1200)}))},e.changePlayerAnimationState=function(n,t){var a=Object.assign({},e.state.playerAnimationSwitchboard,Object(E.a)({},n,{isAnimating:!0,content:t}));e.setState({playerAnimationSwitchboard:a})},e.popPlayerAnimationState=function(n){var t=e.state.playerAnimationSwitchboard[n].content,a=Object.assign({},e.state.playerAnimationSwitchboard,Object(E.a)({},n,{isAnimating:!1,content:t}));e.setState({playerAnimationSwitchboard:a})},e.renderTable=function(){var n=e.state,t=n.players,a=n.activePlayerIndex,r=n.dealerIndex,s=n.clearCards,c=n.phase,i=n.playerAnimationSwitchboard;return t.reduce((function(n,t,o){var l=o===a,d=o===r;return n.unshift(Object(v.jsx)(an,{arrayIndex:o,isActive:l,hasDealerChip:d,player:t,clearCards:s,phase:c,playerAnimationSwitchboard:i,endTransition:e.popPlayerAnimationState},o)),n}),[]).map((function(e){return e}))},e.renderPlayerActionButtons=function(){var n=e.state,t=n.highBet,a=n.players,s=n.activePlayerIndex,c=n.phase,i=n.betInputValue,o=Se(t,a[s].chips,a[s].bet),l=a[s].chips+a[s].bet;return a[s].robot||"showdown"===c?null:Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)("button",{className:"fold-button",onClick:function(){return e.managePlayerFold()},children:"Fold"}),Object(v.jsx)("button",{className:"bet-button",onClick:function(){return e.manageBetSubmit(i,o,l)},children:Me(t,i,a[s])})]})},e.renderTableCommunityCards=function(n){return e.state.communityCards.map((function(e,t){var a=Object(m.a)({},e);return n&&(a.animationDelay=0),Object(v.jsx)(Ze,{cardData:a},t)}))},e.renderPlayerShowdown=function(){return Object(v.jsxs)("div",{className:"showdown-div-wrapper",children:[Object(v.jsx)("h5",{className:"showdown-div-title",children:"Hand Complete!"}),Object(v.jsx)("div",{className:"showdown-div-messages",children:Ue(e.state.showDownMessages)}),Object(v.jsx)("h5",{className:"showdown-div-community-card-label",children:"Community Cards"}),Object(v.jsx)("div",{className:"showdown-div-community-cards",children:e.renderTableCommunityCards(!0)}),Object(v.jsx)("button",{className:"showdown-nextRound-button",onClick:function(){return e.manageNextRound()},children:" Next Hand "}),e.renderBestHands()]})},e.renderBestHands=function(){return e.state.playerHierarchy.map((function(n){return Array.isArray(n)?e.renderHandSplit(n):e.renderHandWinner(n)}))},e.renderHandSplit=function(n){return n.map((function(n){return e.renderHandWinner(n)}))},e.makeCards=function(e){return e.map((function(e,n){var t=Object(m.a)(Object(m.a)({},e),{},{animationDelay:0});return Object(v.jsx)(Ze,{cardData:t},n)}))},e.renderHandWinner=function(n){var t=n.name,a=n.bestHand,r=n.handRank,s=e.state.players.find((function(e){return e.name===t}));return Object(v.jsxs)("table",{class:"showdown-table content-table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Player"}),Object(v.jsx)("th",{children:"Private Cards"}),Object(v.jsx)("th",{children:"Best Hand"}),Object(v.jsx)("th",{children:"Hand Ranking"}),Object(v.jsx)("th",{children:"Win/Loss"})]})}),Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t}),Object(v.jsx)("td",{children:Object(v.jsx)("div",{class:"showdown-player-privateCards",children:Object(v.jsx)("div",{class:"showdown-player-cards",children:e.makeCards(s.cards)})})}),Object(v.jsx)("td",{children:Object(v.jsx)("div",{className:"showdown-player-besthand-div",children:Object(v.jsx)("div",{className:"showdown-player-besthand-cards",style:{alignItems:"center"},children:a.map((function(e,n){var t=Object(m.a)(Object(m.a)({},e),{},{animationDelay:0});return Object(v.jsx)(Ze,{cardData:t},n)}))})})}),Object(v.jsx)("td",{children:r}),Object(v.jsx)("td",{children:Ve(s.roundEndChips,s.roundStartChips)})]})})]})},e.renderGame=function(){var n=e.state,t=n.highBet,a=n.players,r=n.activePlayerIndex,s=n.phase;return Object(v.jsxs)("div",{className:"app-background",children:[Object(v.jsx)("div",{className:"title-text",style:{maxWidth:"400px"}}),Object(v.jsxs)("div",{className:"poker-table-div",children:[Object(v.jsxs)("div",{className:"title-logo",children:[Object(v.jsx)("img",{src:"./assets/logo.svg"}),Object(v.jsx)("h3",{children:"No-Limit Texas Hold'em Poker"}),Object(v.jsxs)(T.a,{id:"dropdown-basic-button",title:"",children:[Object(v.jsxs)(B.a.Item,{href:"#",children:[" ",Object(v.jsx)(u.b,{to:"/dashboard",children:"Return to Dashboard"})]}),Object(v.jsxs)(B.a.Item,{href:"#",children:[" ",Object(v.jsx)(u.b,{to:"/login",children:"Logout"})]})]})]}),Object(v.jsx)("img",{className:"poker-table-image",src:"./assets/table.svg",alt:"Poker Table"}),e.renderTable(),Object(v.jsx)("div",{className:"community-hand-div",children:e.renderTableCommunityCards()}),Object(v.jsxs)("div",{className:"pot-div",children:[Object(v.jsx)("img",{src:"./assets/pot.svg",alt:"Pot Value"}),Object(v.jsxs)("h5",{children:[" ","".concat(e.state.pot)," "]})]})]}),"showdown"===e.state.phase&&e.renderPlayerShowdown(),Object(v.jsxs)("div",{className:"game-bar",children:[Object(v.jsx)("div",{className:"game-buttons",children:e.renderPlayerActionButtons()}),Object(v.jsx)("div",{className:"slider",children:!e.state.loading&&Ke(t,a,r,s,e.manageBetChange)})]})]})},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(_.a.mark((function e(){var n,t,a,r,s,c=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(F.username);case 2:n=e.sent,t=Math.floor(Math.random()*Math.floor(n.length)),a=Pe(t,n.length),r=_e(n,a,this.state.minBet),(s=new XMLHttpRequest).addEventListener("load",(function(e){console.log("".concat(e.type)),console.log(e),console.log("Table Loaded!"),c.setState({loading:!1})})),s.addEventListener("loadstart",(function(e){console.log("".concat(e.type)),console.log(e)})),s.addEventListener("loadend",(function(e){console.log("".concat(e.type)),console.log(e)})),s.addEventListener("progress",(function(e){console.log("".concat(e.type)),console.log(e)})),s.addEventListener("abort",(function(e){console.log("".concat(e.type)),console.log(e)})),s.addEventListener("error",(function(e){console.log("".concat(e.type)),console.log(e)})),s.open("GET","./assets/table.svg"),s.send(),this.setState((function(e){return{players:r,numPlayersActive:n.length,numPlayersFolded:0,numPlayersAllIn:0,activePlayerIndex:t,dealerIndex:t,blindIndex:{big:a.bigBlindIndex,small:a.smallBlindIndex},deck:te(ne()),pot:0,highBet:e.minBet,betInputValue:e.minBet,phase:"initialDeal"}})),this.executeGame();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)("div",{className:"poker-table-wrapper",children:this.state.loading?Object(v.jsx)($e,{}):this.state.winnerFound?Object(v.jsx)(rn,{winner:this.state.winner}):this.renderGame()})})}}]),t}(a.Component);function cn(){var e=Object(a.useRef)(),n=Object(a.useRef)(),t=w().login,r=Object(a.useState)(""),s=Object(b.a)(r,2),c=s[0],i=s[1],o=Object(a.useState)(!1),l=Object(b.a)(o,2),d=l[0],m=l[1],p=Object(h.g)();function f(){return(f=Object(S.a)(_.a.mark((function a(r){return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,i(""),m(!0),a.next=6,t(e.current.value,n.current.value);case 6:p.push("/dashboard"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),i("Invalid email or password");case 12:m(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}function j(){return(j=Object(S.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log("Guest log in"),e.prev=2,i(""),m(!0),e.next=7,t("guest@guest.com","password");case 7:console.log(t),p.push("/dashboard"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),i("Error. Cannot play as guest");case 14:m(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"100vh"},children:[Object(v.jsx)("div",{className:"w-200 text-center",children:Object(v.jsx)(R,{})}),Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),c&&Object(v.jsx)(A.a,{variant:"danger",children:c}),Object(v.jsxs)(N.a,{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:"email",children:[Object(v.jsx)(N.a.Label,{children:"Email"}),Object(v.jsx)(N.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:"password",children:[Object(v.jsx)(N.a.Label,{children:"Password"}),Object(v.jsx)(N.a.Control,{type:"password",ref:n,required:!0})]}),Object(v.jsx)(k.a,{disabled:d,className:"w-100",type:"submit",children:"Log In"})]}),Object(v.jsx)(k.a,{disabled:d,variant:"warning",className:"w-100 mt-3",onClick:function(e){return j.apply(this,arguments)},children:"Play as Guest"}),Object(v.jsx)("div",{className:"w-100 text-center mt-3",children:Object(v.jsx)(u.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(v.jsxs)("div",{className:"help-text text-center mt-2",children:["Don't have an account? ",Object(v.jsx)(u.b,{to:"/signup",children:"Sign Up"})]})]})]})})}function on(){var e=Object(a.useRef)(),n=Object(a.useRef)(),t=Object(a.useRef)(),r=w().signup,s=Object(a.useState)(""),c=Object(b.a)(s,2),i=c[0],o=c[1],l=Object(a.useState)(!1),d=Object(b.a)(l,2),m=d[0],p=d[1],f=Object(h.g)();function j(){return(j=Object(S.a)(_.a.mark((function a(s){return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),n.current.value===t.current.value){a.next=3;break}return a.abrupt("return",o("Passwords do not match"));case 3:return a.prev=3,o(""),p(!0),a.next=8,r(e.current.value,n.current.value);case 8:f.push("/dashboard"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),o("Failed to create an account");case 14:p(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"100vh"},children:[Object(v.jsx)("div",{className:"w-200 text-center",children:Object(v.jsx)(R,{})}),Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),i&&Object(v.jsx)(A.a,{variant:"danger",children:i}),Object(v.jsxs)(N.a,{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:"email",children:[Object(v.jsx)(N.a.Label,{children:"Email"}),Object(v.jsx)(N.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:"password",children:[Object(v.jsx)(N.a.Label,{children:"Password"}),Object(v.jsx)(N.a.Control,{type:"password",ref:n,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:"password-confirm",children:[Object(v.jsx)(N.a.Label,{children:"Password Confirmation"}),Object(v.jsx)(N.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsx)(k.a,{disabled:m,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(v.jsxs)("div",{className:"help-text w-100 text-center mt-2",children:["Already have an account? ",Object(v.jsx)(u.b,{to:"/login",children:"Log In"})]})]})]})})}function ln(e){var n=e.userStatistics,t=Object(h.g)();function a(){return(a=Object(S.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),console.log("Returning to dashboard...");try{t.push("/dashboard")}catch(a){console.log("Error returning to dashboard. Please try again.")}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("table",{class:"content-table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Played"}),Object(v.jsx)("th",{children:"Difficulty"}),Object(v.jsx)("th",{children:"Won"})]})}),Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[" ",n.num_beginner_games]}),Object(v.jsx)("td",{children:"Beginner"}),Object(v.jsx)("td",{children:n.num_beginner_wins})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:n.num_intermediate_games}),Object(v.jsx)("td",{children:"Intermediate"}),Object(v.jsx)("td",{children:n.num_intermediate_wins})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:n.num_expert_games}),Object(v.jsx)("td",{children:"Expert"}),Object(v.jsx)("td",{children:n.num_expert_wins})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:n.num_ultimate_games}),Object(v.jsx)("td",{children:"Ultimate Poker Pro"}),Object(v.jsx)("td",{children:n.num_ultimate_wins})]}),Object(v.jsxs)("tr",{class:"active-row",children:[Object(v.jsx)("td",{children:n.num_beginner_games+n.num_intermediate_games+n.num_expert_games+n.num_ultimate_games}),Object(v.jsx)("td",{children:"Total"}),Object(v.jsx)("td",{children:n.num_beginner_wins+n.num_intermediate_wins+n.num_expert_wins+n.num_ultimate_wins})]})]})]}),Object(v.jsx)(k.a,{className:"w-100 mt-3",onClick:function(e){return a.apply(this,arguments)},children:"Return to Dashboard"})]})}function dn(e){e.userStatistics;var n=Object(h.g)();function t(){return(t=Object(S.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("Returning to dashboard...");try{n.push("/dashboard")}catch(a){console.log("Error returning to dashboard. Please try again.")}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:"No Statistics Recorded for Guest Users"})}),Object(v.jsx)(k.a,{className:"w-100 mt-3",onClick:function(e){return t.apply(this,arguments)},children:"Return to Dashboard"})]})}function un(e){var n=w().currentUser,t=Object(a.useState)(!0),r=Object(b.a)(t,2),s=r[0],c=r[1],i=Object(a.useState)(new Object),o=Object(b.a)(i,2),l=o[0],d=o[1],u=new Object;function h(){return(h=Object(S.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,x.database().ref().child(n.uid).once("value").then((function(e){console.log("snapshot"),console.log(e),e.forEach((function(e){var n=e.key,a=e.val();u[n]=a,t+=1})),0==t&&(u={num_beginner_games:0,num_beginner_wins:0,num_intermediate_games:0,num_intermediate_wins:0,num_expert_games:0,num_expert_wins:0,num_ultimate_games:0,num_ultimate_wins:0}),d(u),8==t&&c(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){h.apply(this,arguments)}()})),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"100vh"},children:[Object(v.jsx)("div",{className:"w-200 text-center",children:Object(v.jsx)(R,{})}),Object(v.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Personal Statistics"}),"guest@guest.com"==n.email?Object(v.jsx)(dn,{}):s?"Loading...":Object(v.jsx)(ln,{userStatistics:l})]})})})]})})}var hn=function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return Object(v.jsx)(u.a,{children:Object(v.jsx)(O,{children:Object(v.jsxs)(h.d,{children:[Object(v.jsx)(I,{exact:!0,path:"/",component:sn}),Object(v.jsx)(I,{exact:!0,path:"/dashboard",component:F}),Object(v.jsx)(I,{exact:!0,path:"/statistics",component:un}),Object(v.jsx)(h.b,{path:"/signup",component:on}),Object(v.jsx)(h.b,{path:"/login",component:cn}),Object(v.jsx)(h.b,{path:"/forgot-password",component:D})]})})})}}]),t}(a.Component);t(466);c.a.render(Object(v.jsx)(hn,{}),document.getElementById("root"))},78:function(e,n,t){}},[[467,1,2]]]);
//# sourceMappingURL=main.a6210303.chunk.js.map