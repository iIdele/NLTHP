{"code":"(this.webpackJsonppoker=this.webpackJsonppoker||[]).push([[0],{444:function(e,n,t){},466:function(e,n,t){},467:function(e,n,t){\"use strict\";t.r(n);t(405);var a=t(0),r=t.n(a),s=t(59),c=t.n(s),i=(t(167),t(178),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(188),t(189),t(190),t(191),t(192),t(194),t(195),t(196),t(197),t(198),t(200),t(201),t(204),t(205),t(103),t(209),t(210),t(212),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(222),t(223),t(224),t(225),t(226),t(229),t(231),t(232),t(233),t(234),t(235),t(236),t(237),t(238),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(249),t(250),t(252),t(253),t(254),t(255),t(256),t(257),t(258),t(259),t(261),t(262),t(263),t(265),t(266),t(267),t(268),t(269),t(270),t(271),t(273),t(274),t(275),t(276),t(277),t(278),t(279),t(280),t(281),t(282),t(283),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(296),t(297),t(298),t(299),t(300),t(301),t(302),t(152),t(304),t(305),t(306),t(307),t(308),t(310),t(311),t(156),t(312),t(313),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(323),t(324),t(325),t(326),t(327),t(328),t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(338),t(339),t(344),t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(379),t(380),t(382),t(383),t(384),t(385),t(387),t(160),t(80)),o=t(81),l=t(86),d=t(84),u=(t(388),t(29)),h=t(24),m=(t(162),t(16)),p=t(90),b=t(26),f=t(398),j=(t(432),t(434),f.a.initializeApp({apiKey:\"AIzaSyA7MqJlI9k9b77XrNNiViGzRqKwubcJJ44\",authDomain:\"poker-auth-development.firebaseapp.com\",databaseURL:Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:\"AIzaSyA7MqJlI9k9b77XrNNiViGzRqKwubcJJ44\",REACT_APP_FIREBASE_APP_ID:\"1:734122281658:web:4b5c724a6e3815a11ed083\",REACT_APP_FIREBASE_AUTH_DOMAIN:\"poker-auth-development.firebaseapp.com\",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:\"734122281658\",REACT_APP_FIREBASE_PROJECT_ID:\"poker-auth-development\",REACT_APP_FIREBASE_STORAGE_BUCKET:\"poker-auth-development.appspot.com\"}).REACT_APP_FIREBASE_DATABASE_URL,projectId:\"poker-auth-development\",storageBucket:\"poker-auth-development.appspot.com\",messagingSenderId:\"734122281658\",appId:\"1:734122281658:web:4b5c724a6e3815a11ed083\"})),g=j.auth(),x=(j.database().ref(),j),v=t(1),y=r.a.createContext();function w(){return Object(a.useContext)(y)}function O(e){var n=e.children,t=Object(a.useState)(),r=Object(b.a)(t,2),s=r[0],c=r[1],i=Object(a.useState)(!0),o=Object(b.a)(i,2),l=o[0],d=o[1];Object(a.useEffect)((function(){return g.onAuthStateChanged((function(e){c(e),d(!1)}))}),[]);var u={currentUser:s,login:function(e,n){return g.signInWithEmailAndPassword(e,n)},signup:function(e,n){return g.createUserWithEmailAndPassword(e,n)},logout:function(){return g.signOut()},resetPassword:function(e){return g.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(v.jsx)(y.Provider,{value:u,children:!l&&n})}function I(e){var n=e.component,t=Object(p.a)(e,[\"component\"]),a=w().currentUser;return Object(v.jsx)(h.b,Object(m.a)(Object(m.a)({},t),{},{render:function(e){return a?Object(v.jsx)(n,Object(m.a)({},e)):Object(v.jsx)(h.a,{to:\"/login\"})}}))}var P=t(13),S=t.n(P),_=t(23),H=t(472),C=t(476),A=t(475),k=t(401),R=(t(79),function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(o.a)(t,[{key:\"render\",value:function(){return Object(v.jsx)(\"div\",{className:\"logo-main mb-4\",children:Object(v.jsxs)(\"span\",{className:\"navbar-brand\",children:[Object(v.jsx)(\"span\",{children:Object(v.jsx)(\"img\",{className:\"logo mr-2\",src:\"/assets/logo.svg\"})}),Object(v.jsx)(\"h3\",{className:\"navbar-text\",children:\"No-Limit Texas Hold'em Poker\"})]})})}}]),t}(a.Component));function F(){var e,n=Object(a.useState)(\"\"),t=Object(b.a)(n,2),r=t[0],s=t[1],c=w(),i=c.currentUser,o=c.logout,l=Object(h.g)();function d(){return(d=Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(\"\"),e.prev=1,e.next=4,o();case 4:l.push(\"/login\"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s(\"Failed to log out\");case 10:case\"end\":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function u(){return(u=Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(\"\");try{l.push(\"/Statistics\")}catch(n){s(\"Failed to view statistics\")}case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return(p=Object(_.a)(S.a.mark((function e(){var n,t=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.length>0&&void 0!==t[0]?t[0]:\"Beginner\",s(\"\");try{l.push(\"/?difficulty=\"+n)}catch(a){s(\"Failed to enter game\")}case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return F.username=(e=i.email).substring(0,e.indexOf(\"@\")),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[Object(v.jsx)(\"div\",{className:\"w-200 text-center\",children:Object(v.jsx)(R,{})}),Object(v.jsxs)(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)(\"h2\",{className:\"text-center mb-4\",children:\"Dashboard\"}),r&&Object(v.jsx)(A.a,{variant:\"danger\",children:r}),Object(v.jsxs)(\"div\",{className:\"text-center mb-2\",children:[\"Welcome \",Object(v.jsxs)(\"strong\",{children:[\" \",F.username]}),\"!\"]}),Object(v.jsxs)(\"div\",{className:\"w-100 text-center mt-2\",children:[Object(v.jsx)(k.a,{className:\"w-100 mb-3\",onClick:function(){return m(\"beginner\")},children:\"Join Beginner Table\"}),Object(v.jsx)(k.a,{className:\"w-100 mb-3\",onClick:function(){return m(\"intermediate\")},children:\"Join Intermediate Table\"}),Object(v.jsx)(k.a,{className:\"w-100 mb-3\",onClick:function(){return m(\"expert\")},children:\"Join Expert Table\"}),Object(v.jsx)(k.a,{className:\"w-100 mb-3\",onClick:function(){return m(\"ultimate\")},children:\"Join Ultimate Poker Pro Table\"}),Object(v.jsx)(k.a,{variant:\"warning\",className:\"w-100\",onClick:function(){return u.apply(this,arguments)},children:\"View Personal Statistics\"})]})]})}),Object(v.jsx)(\"div\",{className:\"w-100 text-center mt-2\",children:Object(v.jsx)(k.a,{variant:\"link\",onClick:function(){return d.apply(this,arguments)},children:\"Log Out\"})})]})]})})}var N=t(474);function D(){var e=Object(a.useRef)(),n=w().resetPassword,t=Object(a.useState)(\"\"),r=Object(b.a)(t,2),s=r[0],c=r[1],i=Object(a.useState)(\"\"),o=Object(b.a)(i,2),l=o[0],d=o[1],h=Object(a.useState)(!1),m=Object(b.a)(h,2),p=m[0],f=m[1];function j(){return(j=Object(_.a)(S.a.mark((function t(a){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,d(\"\"),c(\"\"),f(!0),t.next=7,n(e.current.value);case 7:d(\"Check your inbox for further instructions\"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),c(\"Failed to reset password\");case 13:f(!1);case 14:case\"end\":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(H.a,{className:\"d-flex align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:Object(v.jsxs)(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)(\"h2\",{className:\"text-center mb-4\",children:\"Password Reset\"}),s&&Object(v.jsx)(A.a,{variant:\"danger\",children:s}),l&&Object(v.jsx)(A.a,{variant:\"success\",children:l}),Object(v.jsxs)(N.a,{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:\"email\",children:[Object(v.jsx)(N.a.Label,{children:\"Email\"}),Object(v.jsx)(N.a.Control,{type:\"email\",ref:e,required:!0})]}),Object(v.jsx)(k.a,{disabled:p,className:\"w-100\",type:\"submit\",children:\"Reset Password\"})]}),Object(v.jsx)(\"div\",{className:\"w-100 text-center mt-3\",children:Object(v.jsx)(u.b,{to:\"/login\",children:\"Login\"})})]})}),Object(v.jsxs)(\"div\",{className:\"w-100 text-center mt-2\",children:[\"Need an account? \",Object(v.jsx)(u.b,{to:\"/signup\",children:\"Sign Up\"})]})]})})})}var E=t(109),L=t(42),T=t(473),B=t(403),M=(t(444),t(71)),V=t(43),U=t(72),K=t.n(U),q=(t(447),function(){var e=Object(_.a)(S.a.mark((function e(){var n,t,a=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:\"User\",t=[{id:K()(),name:n,avatarURL:\"/assets/playerIcons/blackUser.svg\",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!1},{id:K()(),name:\"Agent 1\",avatarURL:\"/assets/playerIcons/blueUser.svg\",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0},{id:K()(),name:\"Agent 2\",avatarURL:\"/assets/playerIcons/redUser.svg\",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0},{id:K()(),name:\"Agent 3\",avatarURL:\"/assets/playerIcons/purpleUser.svg\",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0},{id:K()(),name:\"Agent 4\",avatarURL:\"/assets/playerIcons/yellowUser.svg\",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0},{id:K()(),name:\"Agent 5\",avatarURL:\"/assets/playerIcons/yellowUser.svg\",cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:2e4,roundStartChips:2e4,roundEndChips:2e4,currentRoundChipsInvested:0,bet:0,betReconciled:!1,folded:!1,allIn:!1,canRaise:!0,stackInvestment:0,robot:!0}],e.abrupt(\"return\",t);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),W=function(e,n,t,a){switch(a){case\"up\":return(e+n)%t;case\"down\":return(e-n)%t+t;default:throw Error(\"Attempted to overfow index on unfamiliar direction\")}},G=function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?t&&(n.activePlayerIndex=W(n.activePlayerIndex,1,n.players.length,\"up\")):n.activePlayerIndex=W(n.blindIndex.big,1,n.players.length,\"up\"),n.players[n.activePlayerIndex].folded||0===n.players[n.activePlayerIndex].chips?e(n,!0):n},J=function e(n){n.activePlayerIndex=W(n.activePlayerIndex,1,n.players.length,\"up\");var t=n.players[n.activePlayerIndex],a=n.numPlayersActive-n.numPlayersAllIn===1;return 1===n.numPlayersActive?(console.log(\"Only one player active, skipping to showdown.\"),ie(ke(ce(n)))):t.folded?(console.log(\"Current player index is folded, going to next active player.\"),e(n)):a&&!t.folded&&t.betReconciled?ie(ke(ce(n))):0===t.chips?n.numPlayersAllIn===n.numPlayersActive?(console.log(\"All players are all in.\"),ie(ke(ce(n)))):a&&t.allIn?ie(ke(ce(n))):e(n):t.betReconciled?(console.log(\"Player is reconciled with pot, round betting cycle complete, proceed to next round.\"),Ae(n)):n},z=function e(n){n.dealerIndex=W(n.dealerIndex,1,n.players.length,\"up\");var t=n.players[n.dealerIndex];return 0===t.chips?e(n):X(n,t.name)},X=function(e,n){e.players=e.players.filter((function(e){return e.chips>0}));var t=e.players.findIndex((function(e){return e.name===n}));if(e.dealerIndex=t,e.activePlayerIndex=t,1===e.players.length)return e;if(2===e.players.length)e.blindIndex.small=t,e.blindIndex.big=W(t,1,e.players.length,\"up\"),e.players=Se(e.players,{bigBlindIndex:e.blindIndex.big,smallBlindIndex:e.blindIndex.small},e.minBet).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{cards:[],showDownHand:{hand:[],descendingSortHand:[]},roundStartChips:e.chips+e.bet,currentRoundChipsInvested:0,betReconciled:!1,folded:!1,allIn:!1})})),e.numPlayersAllIn=0,e.numPlayersFolded=0,e.numPlayersActive=e.players.length;else{var a=Pe(t,e.players.length);e.blindIndex={big:a.bigBlindIndex,small:a.smallBlindIndex},e.players=Se(e.players,a,e.minBet).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{cards:[],showDownHand:{hand:[],descendingSortHand:[]},roundStartChips:e.chips+e.bet,currentRoundChipsInvested:0,betReconciled:!1,folded:!1,allIn:!1})})),e.numPlayersAllIn=0,e.numPlayersFolded=0,e.numPlayersActive=e.players.length}return ae(e)},Q=function(e){e.communityCards=[],e.sidePots=[],e.playerHierarchy=[],e.showDownMessages=[],e.deck=te(ne()),e.highBet=20,e.betInputValue=20,e.minBet=20;var n=e.players.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{cards:e.cards.map((function(e){}))})}));return e.players=n,z(e)},Y=function(e){return 1===e.filter((function(e){return e.chips>0})).length},Z=[\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"J\",\"Q\",\"K\",\"A\"],$=[\"Heart\",\"Spade\",\"Club\",\"Diamond\"],ee={2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:9,J:10,Q:11,K:12,A:13},ne=function(){var e,n=[],t=Object(V.a)($);try{for(t.s();!(e=t.n()).done;){var a,r=e.value,s=Object(V.a)(Z);try{for(s.s();!(a=s.n()).done;){var c=a.value;n.push({cardFace:c,suit:r,value:ee[c]})}}catch(i){s.e(i)}finally{s.f()}}}catch(i){t.e(i)}finally{t.f()}return n},te=function(e){for(var n=new Array(52),t=[],a=0;a<52;a++)if(51===a){var r=n.findIndex((function(e){return\"undefined\"==typeof e}));n[r]=e[a],t.push(r)}else{for(var s=re(0,51);t.includes(s);)s=re(0,51);n[s]=e[a],t.push(s)}return n},ae=function(e){e.clearCards=!1;for(var n=0;e.players[e.activePlayerIndex].cards.length<2;){var t=se(e.deck,1),a=t.mutableDeckCopy,r=t.chosenCards;r.animationDelay=n,n+=250;var s=Object(M.a)(a);e.players[e.activePlayerIndex].cards.push(r),e.deck=s,e.activePlayerIndex=W(e.activePlayerIndex,1,e.players.length,\"up\")}if(2===e.players[e.activePlayerIndex].cards.length)return e.activePlayerIndex=W(e.blindIndex.big,1,e.players.length,\"up\"),e.phase=\"betting1\",e},re=function(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e},se=function(e,n){var t,a=Object(M.a)(e);if(1===n)t=a.pop();else{t=[];for(var r=0;r<n;r++)t.push(a.pop())}return{mutableDeckCopy:a,chosenCards:t}},ce=function(e){var n=5-e.communityCards.length;if(n>=1){var t,a=0,r=oe(e.deck,n),s=r.mutableDeckCopy,c=r.chosenCards,i=Object(V.a)(c);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.animationDelay=a,a+=250,e.communityCards.push(o)}}catch(l){i.e(l)}finally{i.f()}e.deck=s}return e.phase=\"showdown\",e},ie=function(e){var n,t=Object(V.a)(e.players);try{var a=function(){var t=n.value,a={},r={};t.showDownHand.hand=t.cards.concat(e.communityCards),t.showDownHand.descendingSortHand=t.showDownHand.hand.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),t.showDownHand.descendingSortHand.forEach((function(e){a[e.cardFace]=a[e.cardFace]+1||1,r[e.suit]=r[e.suit]+1||1})),t.frequencyHistogram=a,t.suitHistogram=r;var s=Ie(t.showDownHand.descendingSortHand),c=ge(r),i=c.isFlush,o=c.flushedSuit,l=i&&t.showDownHand.descendingSortHand.filter((function(e){return e.suit===o})),d=i&&xe(l),u=i&&ye(l),h=u.isStraightFlush,m=u.isLowStraightFlush,p=u.concurrentSFCardValues,b=u.concurrentSFCardValuesLow,f=ve(s),j=f.isStraight,g=f.isLowStraight,x=f.concurrentCardValues,v=f.concurrentCardValuesLow,y=we(t.showDownHand.descendingSortHand,a),w=y.isFourOfAKind,O=y.isFullHouse,I=y.isThreeOfAKind,P=y.isTwoPair,S=y.isPair,_=y.frequencyHistogramMetaData,H=!d&&!h&&!w&&!O&&!i&&!j&&!I&&!P&&!S;t.showDownHand.bools={isRoyalFlush:d,isStraightFlush:h,isFourOfAKind:w,isFullHouse:O,isFlush:i,isStraight:j,isThreeOfAKind:I,isTwoPair:P,isPair:S,isNoPair:H},t.showDownHand.heldRankHierarchy=[{name:\"Royal Flush\",match:d},{name:\"Straight Flush\",match:h},{name:\"Four Of A Kind\",match:w},{name:\"Full House\",match:O},{name:\"Flush\",match:i},{name:\"Straight\",match:j},{name:\"Three Of A Kind\",match:I},{name:\"Two Pair\",match:P},{name:\"Pair\",match:S},{name:\"No Pair\",match:H}],t.metaData=_;var C=t.showDownHand.heldRankHierarchy.findIndex((function(e){return!0===e.match}));t.showDownHand.bestHandRank=t.showDownHand.heldRankHierarchy[C].name,t.showDownHand.bestHand=le(t.showDownHand.descendingSortHand,t.showDownHand.bestHandRank,o,l,x,v,g,m,p,b,_)};for(t.s();!(n=t.n()).done;)a()}catch(r){t.e(r)}finally{t.f()}return pe(e)},oe=function(e,n){var t,a=Object(M.a)(e);if(1===n)t=[a.pop()];else{t=[];for(var r=0;r<n;r++)t.push(a.pop())}return{mutableDeckCopy:a,chosenCards:t}},le=function(e,n,t,a,r,s,c,i,o,l,d){switch(n){case\"Royal Flush\":return a.slice(0,5);case\"Straight Flush\":return i&&o.length<5?(l[0]=13,l.reduce((function(e,n,t){return t<5&&e.push(a[a.findIndex((function(e){return e.value===n}))]),e}),[]).reverse()):o.reduce((function(e,n,t){return t<5&&e.push(a[a.findIndex((function(e){return e.value===n}))]),e}),[]);case\"Four Of A Kind\":for(var u=[],h=Object(L.cloneDeep)(e),m=function(e){var n=h.findIndex((function(e){return e.cardFace===d.quads[0].face}));u.push(h[n]),h=h.filter((function(e,t){return t!==n}))},p=0;p<4;p++)m();return u.concat(h.slice(0,1));case\"Full House\":var b=[],f=Object(L.cloneDeep)(e);if(d.tripples.length>1){for(var j=function(e){var n=f.findIndex((function(e){return e.cardFace===d.tripples[0].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},g=0;g<3;g++)j();for(var x=function(e){var n=f.findIndex((function(e){return e.cardFace===d.tripples[1].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},v=0;v<2;v++)x();return b}for(var y=function(e){var n=f.findIndex((function(e){return e.cardFace===d.tripples[0].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},w=0;w<3;w++)y();for(var O=function(e){var n=f.findIndex((function(e){return e.cardFace===d.pairs[0].face}));b.push(f[n]),f=f.filter((function(e,t){return t!==n}))},I=0;I<2;I++)O();return b;case\"Flush\":return a.slice(0,5);case\"Straight\":return c&&r.length<5?(s[0]=13,s.reduce((function(n,t,a){return a<5&&n.push(e[e.findIndex((function(e){return e.value===t}))]),n}),[]).reverse()):r.reduce((function(n,t,a){return a<5&&n.push(e[e.findIndex((function(e){return e.value===t}))]),n}),[]);case\"Three Of A Kind\":for(var P=[],S=Object(L.cloneDeep)(e),_=function(e){var n=S.findIndex((function(e){return e.cardFace===d.tripples[0].face}));P.push(S[n]),S=S.filter((function(e,t){return t!==n}))},H=0;H<3;H++)_();return P.concat(S.slice(0,2));case\"Two Pair\":for(var C=[],A=Object(L.cloneDeep)(e),k=function(e){var n=A.findIndex((function(e){return e.cardFace===d.pairs[0].face}));C.push(A[n]),A=A.filter((function(e,t){return t!==n}))},R=0;R<2;R++)k();for(var F=function(e){var n=A.findIndex((function(e){return e.cardFace===d.pairs[1].face}));C.push(A[n]),A=A.filter((function(e,t){return t!==n}))},N=0;N<2;N++)F();return C.concat(A.slice(0,1));case\"Pair\":for(var D=[],E=Object(L.cloneDeep)(e),T=function(e){var n=E.findIndex((function(e){return e.cardFace===d.pairs[0].face}));D.push(E[n]),E=E.filter((function(e,t){return t!==n}))},B=0;B<2;B++)T();return D.concat(E.slice(0,3));case\"No Pair\":return e.slice(0,5);default:throw Error(\"Recieved unfamiliar rank argument in findBestHand()\")}},de=function(e){var n=e.players.filter((function(e){return!e.folded})),t=[],a=new Map([[\"Royal Flush\",[]],[\"Straight Flush\",[]],[\"Four Of A Kind\",[]],[\"Full House\",[]],[\"Flush\",[]],[\"Straight\",[]],[\"Three Of A Kind\",[]],[\"Two Pair\",[]],[\"Pair\",[]],[\"No Pair\",[]]]);n.forEach((function(e,n){var t=e.name,r=e.showDownHand,s=r.bestHandRank,c=r.bestHand;a.get(s).push({name:t,bestHand:c,playerIndex:n})}));var r,s=Object(V.a)(a);try{var c=function(){var e=Object(b.a)(r.value,2),n=e[0],a=e[1];if(a.length>0){if(\"Royal Flush\"===n){var s=a.map((function(e){return{name:e.name,bestHand:e.bestHand,handRank:n}}));return t=t.concat(s),\"continue\"}if(1===a.length){var c=a[0],i=c.name,o=c.bestHand;t=t.concat([{name:i,bestHand:o,handRank:n}])}else if(a.length>1){var l=function(e,n){var t=[],a=[],r=function r(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(1!==s[0].length){var i=e.map((function(e){return e})),o=s[c],l=he(o),d=l.winningFrame,u=l.losingFrame;if(u.length>0){var h=i.map((function(e){return e.filter((function(e){return u.some((function(n){return n.name===e.name}))}))}));a=[h].concat(a)}if(1===d.length){var m=d[0],p=m.name,b=m.bestHand;t=t.concat([{name:p,bestHand:b,handRank:n}])}else if(c===e.length-1){var f=d.map((function(e){return{name:e.name,bestHand:e.bestHand,handRank:n}}));t=t.concat([f])}else{r(i.map((function(e){return e.filter((function(e){return d.some((function(n){return n.name===e.name}))}))})),c+1)}}else{var j=s[0][0],g=j.name,x=j.bestHand;t=t.concat([{name:g,bestHand:x,handRank:n}])}};return r(e),function e(n){if(a.length>0){var t=n[0];a=n.slice(1),r(t),e(a)}}(a),t}(fe(n,a).map((function(e){return e.sort((function(e,n){return n.card.value-e.card.value}))})),n);t=t.concat(l)}}};for(s.s();!(r=s.n()).done;)c()}catch(i){s.e(i)}finally{s.f()}return t},ue=function(e,n){var t,a=new Map([[\"Royal Flush\",[]],[\"Straight Flush\",[]],[\"Four Of A Kind\",[]],[\"Full House\",[]],[\"Flush\",[]],[\"Straight\",[]],[\"Three Of A Kind\",[]],[\"Two Pair\",[]],[\"Pair\",[]],[\"No Pair\",[]]]),r=Object(V.a)(n);try{var s=function(){var n=t.value,r=e.players.findIndex((function(e){return e.name===n})),s=e.players[r];s.folded||a.get(s.showDownHand.bestHandRank).push({name:s.name,playerIndex:r,bestHand:s.showDownHand.bestHand})};for(r.s();!(t=r.n()).done;)s()}catch(c){r.e(c)}finally{r.f()}return a},he=function(e){var n=e[0].card.value;return{winningFrame:e.filter((function(e){return e.card.value===n})),losingFrame:e.filter((function(e){return e.card.value<n}))}},me=function(e,n,t){var a=!1;return n.forEach((function(n,r,s){if(!a)if(1===n.length)a=!0,console.log(\"Winner, \",n[0].name,\" , beating out the competition with a \",r),e=be(e,n,t,r);else if(n.length>1){console.log(n),a=!0;var c=je(fe(r,n),r);1===c.length?(console.log(\"Winner, \",c[0].name,\" , beating out the competition with a \",r),e=be(e,c,t,r)):(console.log(\"We have a tie! Split the pot amongst \",c,\" Who will take the pot with their \",r),e=be(e,c,t,r))}})),e},pe=function(e){e.playerHierarchy=de(e),console.log(\"Ultimate Player Hierarchy Determined:\"),console.log(e.playerHierarchy);var n,t=Object(V.a)(e.sidePots);try{for(t.s();!(n=t.n()).done;){var a=n.value,r=ue(e,a.contestants);e=me(e,r,a.potValue)}}catch(s){t.e(s)}finally{t.f()}return e.players=e.players.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{roundEndChips:e.chips})})),e},be=function(e,n,t,a){if(1===n.length)e.showDownMessages=e.showDownMessages.concat([{users:[n[0].name],prize:t,rank:a}]),console.log(\"Transferring \",t,\" chips to \",n[0].name),e.players[n[0].playerIndex].chips+=t,e.pot-=t;else if(n.length>1){var r=t%n.length,s=Math.floor(t/n.length);console.log(\"Mediating Tie. Total Prize \",t,\" split into \",n.length,\" portions with an overflow of \",r),e.showDownMessages=e.showDownMessages.concat([{users:n.map((function(e){return e.name})),prize:s,rank:a}]),n.forEach((function(n){e.players[n.playerIndex].chips+=s,e.pot-=s}))}return e},fe=function(e,n){var t;switch(e){case\"Royal Flush\":t=Array.from({length:1}),n.forEach((function(e,a){t.push({name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case\"Four Of A Kind\":t=Array.from({length:2},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case\"Full House\":t=Array.from({length:2},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[3],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case\"Flush\":case\"No Pair\":t=Array.from({length:5},(function(){return Array.from({length:0})})),n.forEach((function(e,a){for(var r=0;r<5;r++)t[r].push({card:n[a].bestHand[r],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case\"Three Of A Kind\":t=Array.from({length:3},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[3],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[2].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case\"Straight\":case\"Straight Flush\":t=Array.from({length:1},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case\"Two Pair\":t=Array.from({length:3},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[2],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[2].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;case\"Pair\":t=Array.from({length:4},(function(){return Array.from({length:0})})),n.forEach((function(e,a){t[0].push({card:n[a].bestHand[0],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[1].push({card:n[a].bestHand[2],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[2].push({card:n[a].bestHand[3],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand}),t[3].push({card:n[a].bestHand[4],name:n[a].name,playerIndex:n[a].playerIndex,bestHand:n[a].bestHand})}));break;default:throw Error(\"Recieved unfamiliar rank argument in createRankingsComparator()\")}return t},je=function(e,n){var t;if(\"Royal Flush\"===n)return e;for(var a=function(n){var a=0,r=[];if(1===(t=e[n].sort((function(e,n){return n.card.value-e.card.value})).reduce((function(e,n,t){return n.card.value>a?(a=n.card.value,e.push({name:n.name,playerIndex:n.playerIndex}),e):n.card.value===a?(e.push({name:n.name,playerIndex:n.playerIndex}),e):n.card.value<a?(r.push(n.name),e):void 0}),[])).length||n===e.length)return{v:t};r.length>=1&&r.forEach((function(n){e=e.map((function(e){return e.filter((function(e){return e.name!==n}))}))}))},r=0;r<e.length;r++){var s=a(r);if(\"object\"===typeof s)return s.v}return t},ge=function(e){for(var n in e)if(e[n]>=5)return{isFlush:!0,flushedSuit:n};return{isFlush:!1,flushedSuit:null}},xe=function(e){return 13===e[0].value&&12===e[1].value&&11===e[2].value&&10===e[3].value&&10===e[4].value},ve=function(e){if(e.length<5)return!1;for(var n=0,t=[],a=1;a<e.length;a++){if(5===n)return{isStraight:!0,concurrentCardValues:t};e[a]-e[a-1]===-1?0===n?(n=2,t.push(e[a-1]),t.push(e[a])):(n++,t.push(e[a])):(n=0,t=[])}if(n>=5)return{isStraight:!0,concurrentCardValues:t};if(13===e[0]){var r=Oe(Object(L.cloneDeep)(e)),s=r.isLowStraight,c=r.concurrentCardValuesLow;if(s)return{isStraight:!0,isLowStraight:s,concurrentCardValues:t,concurrentCardValuesLow:c}}return{isStraight:!1,isLowStraight:!1,concurrentCardValues:t}},ye=function(e){var n=Ie(e),t=ve(n);return{isStraightFlush:t.isStraight,isLowStraightFlush:t.isLowStraight,concurrentSFCardValues:t.concurrentCardValues,concurrentSFCardValuesLow:t.concurrentCardValuesLow}},we=function(e,n){var t=!1,a=!1,r=!1,s=!1,c=!1,i=0,o=0,l={pairs:[],tripples:[],quads:[]};for(var d in n)4===n[d]&&(t=!0,l.quads.push({face:d,value:ee[d]})),3===n[d]&&(r=!0,i++,l.tripples.push({face:d,value:ee[d]})),2===n[d]&&(c=!0,o++,l.pairs.push({face:d,value:ee[d]}));return l.pairs=l.pairs.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),l.tripples=l.tripples.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),l.quads=l.quads.map((function(e){return e})).sort((function(e,n){return n.value-e.value})),(i>=2||o>=1&&i>=1)&&(a=!0),o>=2&&(s=!0),{isFourOfAKind:t,isFullHouse:a,isThreeOfAKind:r,isTwoPair:s,isPair:c,frequencyHistogramMetaData:l}},Oe=function(e){var n=0,t=[];e[0]=0;for(var a=e.map((function(e){return e})).sort((function(e,n){return e-n})),r=1;r<5;r++){if(n>=5)return{isLowStraight:!0,concurrentCardValuesLow:t};a[r]-a[r-1]===1?0===n?(n=2,t.push(a[r-1]),t.push(a[r])):(n++,t.push(a[r])):(n=0,t=[])}return n>=5?{isLowStraight:!0,concurrentCardValuesLow:t}:{isLowStraight:!1,concurrentCardValuesLow:t}},Ie=function(e){return Array.from(new Set(e.map((function(e){return e.value}))))},Pe=function(e,n){return{bigBlindIndex:(e+2)%n,smallBlindIndex:(e+1)%n}},Se=function(e,n,t){var a=n.bigBlindIndex,r=n.smallBlindIndex;return e[a].bet=t,e[a].chips=e[a].chips-t,e[r].bet=t/2,e[r].chips=e[r].chips-t/2,e},_e=function(e,n,t){var a=n+t;return a<e?a:e},He=function(e,n,t,a){if(n<t)return e.betInputValue=t,console.log(\"Invalid Bet\");if(n>a)return e.betInputValue=a,console.log(\"Invalid Bet\");if(n>e.highBet){e.highBet=n,e.minBet=e.highBet;var r,s=Object(V.a)(e.players);try{for(s.s();!(r=s.n()).done;){var c=r.value;c.folded&&0!==!c.chips||(c.betReconciled=!1)}}catch(l){s.e(l)}finally{s.f()}}var i=e.players[e.activePlayerIndex],o=n-i.bet;return i.bet=n,i.chips=i.chips-o,0===i.chips&&(i.allIn=!0,e.numPlayersAllIn++),i.betReconciled=!0,J(e)},Ce=function(e){var n=e.players[e.activePlayerIndex];return n.folded=!0,n.betReconciled=!0,e.numPlayersFolded++,e.numPlayersActive--,J(e)},Ae=function(e){switch(e.phase){case\"betting1\":return e.phase=\"flop\",function(e){var n,t=0,a=se(e.deck,3),r=a.mutableDeckCopy,s=a.chosenCards,c=Object(V.a)(s);try{for(c.s();!(n=c.n()).done;){var i=n.value;i.animationDelay=t,t+=250,e.communityCards.push(i)}}catch(o){c.e(o)}finally{c.f()}return e.deck=r,(e=G(e)).phase=\"betting2\",e}(ke(e));case\"betting2\":return e.phase=\"turn\",function(e){var n=se(e.deck,1),t=n.mutableDeckCopy,a=n.chosenCards;return a.animationDelay=0,e.communityCards.push(a),e.deck=t,(e=G(e)).phase=\"betting3\",e}(ke(e));case\"betting3\":return e.phase=\"river\",function(e){var n=se(e.deck,1),t=n.mutableDeckCopy,a=n.chosenCards;return a.animationDelay=0,e.communityCards.push(a),e.deck=t,(e=G(e)).phase=\"betting4\",e}(ke(e));case\"betting4\":return e.phase=\"showdown\",ie(ke(e));default:throw Error(\"managePhaseShift() called from non-betting phase\")}},ke=function(e){var n,t=Object(V.a)(e.players);try{for(t.s();!(n=t.n()).done;){var a=n.value;e.pot=e.pot+a.bet,a.sidePotStack=a.bet,a.betReconciled=!1}}catch(i){t.e(i)}finally{t.f()}e=Fe(Re(e,e.players));var r,s=Object(V.a)(e.players);try{for(s.s();!(r=s.n()).done;){var c=r.value;c.currentRoundChipsInvested+=c.bet,c.bet=0}}catch(i){s.e(i)}finally{s.f()}return e.minBet=0,e.highBet=0,e.betInputValue=0,e},Re=function e(n,t){var a=t.filter((function(e){return e.sidePotStack>0}));if(0===a.length)return n;if(1===a.length){var r=n.players[n.players.findIndex((function(e){return e.name===a[0].name}))];return r.chips=r.chips+a[0].sidePotStack,n.pot-=a[0].sidePotStack,n}var s=a.sort((function(e,n){return e.sidePotStack-n.sidePotStack})),c=s[0].sidePotStack,i=s.reduce((function(e,n){return n.folded||e.contestants.push(n.name),e.potValue=e.potValue+c,n.sidePotStack=n.sidePotStack-c,e}),{contestants:[],potValue:0});return n.sidePots.push(i),e(n,s)},Fe=function(e){if(e.sidePots.length>1)for(var n=0;n<e.sidePots.length;n++)for(var t=function(t){Ne(e.sidePots[n].contestants,e.sidePots[t].contestants)&&(e.sidePots[n].potValue=e.sidePots[n].potValue+e.sidePots[t].potValue,e.sidePots=e.sidePots.filter((function(e,n){return n!==t})))},a=n+1;a<e.sidePots.length;a++)t(a);return e},Ne=function(e,n){return e.length===n.length&&0===e.map((function(e){return n.includes(e)})).filter((function(e){return!0!==e})).length},De=t(113);var Ee=function(e){var n=e.handle,t=n.id,a=n.value,r=n.percent,s=e.getHandleProps;return Object(v.jsx)(\"div\",Object(m.a)(Object(m.a)({style:{left:\"\".concat(r,\"%\"),position:\"absolute\",marginLeft:-15,marginTop:25,zIndex:2,width:50,height:25,border:\"3px solid #7177A3\",textAlign:\"center\",cursor:\"pointer\",borderRadius:\"15px\",backgroundColor:\"#FFEB49\",color:\"#aaa\"}},s(t)),{},{children:Object(v.jsx)(\"div\",{style:{display:\"flex\",textShadow:\"2px 2px 8px rgba(0,0,0,0.95)\",justifyContent:\"center\",fontFamily:\"Roboto\",fontSize:11,marginTop:30},children:a})}))},Le={position:\"relative\",width:\"100%\",height:80},Te={position:\"absolute\",width:\"100%\",height:10,marginTop:35,borderRadius:5,backgroundColor:\"#7177A3\"};var Be=function(e){var n=e.source,t=e.target,a=e.getTrackProps;return Object(v.jsx)(\"div\",Object(m.a)({style:{position:\"absolute\",height:10,zIndex:1,marginTop:35,backgroundColor:\"#FFEB49\",borderRadius:5,cursor:\"pointer\",left:\"\".concat(n.percent,\"%\"),width:\"\".concat(t.percent-n.percent,\"%\")}},a()))},Me=function(e,n,t){return 0===e&&0===n?\"Check\":e===n?\"Call\":n<e||n===t.chips+t.bet?\"All-in!\":n>e?\"Raise\":void 0},Ve=function(e,n){var t=e-n,a=t>0,r=0===t;return Object(v.jsx)(\"div\",{class:\"showdown-player-earnings \".concat(a?\"positive\":r?\"\":\"negative\"),children:\"\".concat(a?\"+\":\"\").concat(t)})},Ue=function(e){return e.map((function(e,n){var t=e.users,a=e.prize,s=e.rank;return t.length>1?Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsxs)(\"div\",{className:\"message-div\",children:[Object(v.jsx)(\"span\",{className:\"message-user\",children:\"\".concat(t.length,\" players \")}),Object(v.jsx)(\"span\",{className:\"message-content\",children:\"split the pot with a \"}),Object(v.jsx)(\"span\",{className:\"message-rank\",children:\"\".concat(s,\"!\")})]}),t.map((function(e){return Object(v.jsxs)(\"div\",{class:\"message-div\",children:[Object(v.jsx)(\"span\",{className:\"message-player\",children:\"\".concat(e,\" \")}),Object(v.jsx)(\"span\",{className:\"message-content\",children:\"takes \"}),Object(v.jsx)(\"span\",{className:\"message-earnings\",children:\"\".concat(a,\" chips \")}),Object(v.jsx)(\"span\",{className:\"message-content\",children:\"from the pot.\"})]},n+e)}))]},n):1===t.length?Object(v.jsxs)(\"div\",{className:\"message-div\",children:[Object(v.jsx)(\"span\",{className:\"message-player\",children:\"\".concat(t[0],\" \")}),Object(v.jsx)(\"span\",{className:\"message-content\",children:\"wins \"}),Object(v.jsx)(\"span\",{className:\"message-earnings\",children:\"\".concat(a,\" chips \")}),Object(v.jsx)(\"span\",{className:\"message-content\",children:\"from the pot with a \"}),Object(v.jsx)(\"span\",{className:\"message-rank\",children:\"\".concat(s,\"!\")})]},n):void 0}))},Ke=function(e,n,t,a,s){var c=_e(e,n[t].chips,n[t].bet),i=n[t].chips+n[t].bet;return\"betting1\"===a||\"betting2\"===a||\"betting3\"===a||\"betting4\"===a?n[t].robot?Object(v.jsxs)(\"h4\",{className:\"current-move-head\",children:[\" \",\"Current Move: \".concat(n[t].name)]}):Object(v.jsx)(r.a.Fragment,{children:Object(v.jsxs)(De.c,{rootStyle:Le,domain:[c,i],values:[c],step:1,onChange:s,mode:2,children:[Object(v.jsx)(De.b,{children:function(e){var n=e.getRailProps;return Object(v.jsx)(\"div\",Object(m.a)({style:Te},n()))}}),Object(v.jsx)(De.a,{children:function(e){var n=e.handles,t=e.getHandleProps;return Object(v.jsx)(\"div\",{className:\"slider-handles\",children:n.map((function(e){return Object(v.jsx)(Ee,{handle:e,getHandleProps:t},e.id)}))})}}),Object(v.jsx)(De.d,{right:!1,children:function(e){var n=e.tracks,t=e.getTrackProps;return Object(v.jsx)(\"div\",{className:\"slider-tracks\",children:n.map((function(e){var n=e.id,a=e.source,r=e.target;return Object(v.jsx)(Be,{source:a,target:r,getTrackProps:t},n)}))})}})]})}):null},qe=function(e,n){var t=e.highBet,a=e.players[e.activePlayerIndex],r=_e(t,a.chips,a.bet),s=a.chips+a.bet,c=t/(a.chips+a.bet+a.stackInvestment)*100,i=a.cards.concat(e.communityCards).sort((function(e,n){return n.value-e.value})),o=Ye(i),l=o.frequencyHistogram,d=o.suitHistogram,u=Je(c),h=a.cards.map((function(e){return e.value})),m=Math.max.apply(Math,Object(M.a)(h)),p=Math.min.apply(Math,Object(M.a)(h));switch(e.phase){case\"betting1\":var b=Object.entries(d).find((function(e){return 2===e[1]})),f=Ge(m,p,b,m-p<=4),j=f.callLimit,g=f.raiseChance,x=f.raiseRange,v=Xe[u]<=Xe[j],y=a.chips+a.bet>=t?t:a.chips+a.bet;if(v){if(Qe(g)){var w=x[Math.floor(Math.random()*(x.length-0))+0];if(Xe[u]<=Xe[w]){var O=Math.floor(ze(w)*a.chips);return O<t&&t<s&&(O=t),O>s&&(a.canRaise=!1),n(e.activePlayerIndex,\"\".concat(Me(t,O,a),\" \").concat(O)),He(e,O,r,s)}return n(e.activePlayerIndex,\"\".concat(Me(t,y,a),\" \").concat(y>a.bet?y:\"\")),He(e,y,r,s)}return n(e.activePlayerIndex,\"\".concat(Me(t,y,a),\" \").concat(y>a.bet?y:\"\")),He(e,y,r,s)}return n(e.activePlayerIndex,\"FOLD\"),Ce(e);case\"betting2\":case\"betting3\":case\"betting4\":var I=we(i,l),P=I.isPair,S=I.isTwoPair,_=I.isThreeOfAKind,H=I.isFourOfAKind,C=I.isFullHouse,A=I.frequencyHistogramMetaData,k=Ie(i),R=ve(k),F=R.isStraight,N=(R.isLowStraight,R.concurrentCardValues,R.concurrentCardValuesLow,ge(d)),D=N.isFlush,E=N.flushedSuit,L=D&&i.filter((function(e){return e.suit===E})),T=D&&ye(L),B=T.isStraightFlush,V=(T.isLowStraightFlush,T.concurrentSFCardValues,T.concurrentSFCardValuesLow,D&&xe(L)),U=[{name:\"Royal Flush\",match:V},{name:\"Straight Flush\",match:B},{name:\"Four Of A Kind\",match:H},{name:\"Full House\",match:C},{name:\"Flush\",match:D},{name:\"Straight\",match:F},{name:\"Three Of A Kind\",match:_},{name:\"Two Pair\",match:S},{name:\"Pair\",match:P},{name:\"No Pair\",match:!V&&!B&&!H&&!C&&!D&&!F&&!_&&!S&&!P}],K=U[U.findIndex((function(e){return!0===e.match}))].name,q=We(i,K,A),W=q.callLimit,G=q.raiseChance,J=q.raiseRange,z=Xe[u]<=Xe[W],X=a.chips+a.bet>=t?t:a.chips+a.bet;if(z){if(Qe(G)){var Q=J[Math.floor(Math.random()*(J.length-0))+0];if(Xe[u]<=Xe[Q]){var Y=Math.floor(ze(Q)*a.chips);return Y<t&&(Y=t),a.canRaise=!1,n(e.activePlayerIndex,\"\".concat(Me(t,Y,a),\" \").concat(Y)),He(e,Y,r,s)}return n(e.activePlayerIndex,\"\".concat(Me(t,X,a),\" \").concat(X>a.bet?X:\"\")),He(e,X,r,s)}return n(e.activePlayerIndex,\"\".concat(Me(t,X,a),\" \").concat(X>a.bet?X:\"\")),He(e,X,r,s)}return n(e.activePlayerIndex,\"FOLD\"),Ce(e);default:throw Error(\"Handle AI Running during incorrect phase\")}},We=function(e,n,t){return\"Royal Flush\"===n?{callLimit:\"beware\",raiseChance:1,raiseRange:[\"beware\"]}:\"Straight Flush\"===n||\"Four Of A Kind\"===n?{callLimit:\"beware\",raiseChance:1,raiseRange:[\"strong\",\"aggro\",\"beware\"]}:\"Full House\"===n?{callLimit:\"beware\",raiseChance:1,raiseRange:[\"hidraw\",\"strong\",\"aggro\",\"beware\"]}:\"Flush\"===n?{callLimit:\"beware\",raiseChange:1,raiseRange:[\"strong\",\"aggro\",\"beware\"]}:\"Straight\"===n||\"Three Of A Kind\"===n?{callLimit:\"beware\",raiseChange:1,raiseRange:[\"lowdraw\",\"meddraw\",\"hidraw, strong\"]}:\"Two Pair\"===n?{callLimit:\"beware\",raiseChange:.7,raiseRange:[\"lowdraw\",\"meddraw\",\"hidraw, strong\"]}:\"Pair\"===n?{callLimit:\"hidraw\",raiseChange:.5,raiseRange:[\"lowdraw\",\"meddraw\",\"hidraw, strong\"]}:\"No Pair\"===n?{callLimit:\"meddraw\",raiseChange:.2,raiseRange:[\"lowdraw\",\"meddraw\",\"hidraw, strong\"]}:void 0},Ge=function(e,n,t,a){if(e!==n)return e>9&&n>9?t?{callLimit:\"beware\",raiseChance:1,raiseRange:[\"insignificant\",\"lowdraw\",\"meddraw\",\"hidraw\"]}:{callLimit:\"beware\",raiseChance:.75,raiseRange:[\"insignificant\",\"lowdraw\",\"meddraw\",\"hidraw\"]}:e>8&&n>6?t?{callLimit:\"beware\",raiseChance:.65,raiseRange:[\"insignificant\",\"lowdraw\",\"meddraw\",\"hidraw\"]}:{callLimit:\"beware\",raiseChance:.45,raiseRange:[\"insignificant\",\"lowdraw\",\"meddraw\",\"hidraw\"]}:e>8&&n<6?t?{callLimit:\"major\",raiseChance:.45,raiseRange:[\"insignificant\",\"lowdraw\"]}:{callLimit:\"aggro\",raiseChance:.35,raiseRange:[\"insignificant\",\"lowdraw\"]}:e>5&&n>3?t?{callLimit:\"strong\",raiseChance:.1,raiseRange:[\"insignificant\",\"lowdraw\"]}:a?{callLimit:\"aggro\",raiseChance:0}:{callLimit:\"strong\",raiseChance:0}:t?{callLimit:\"strong\",raiseChance:.1,raiseRange:[\"insignificant\"]}:a?{callLimit:\"strong\",raiseChance:0}:{callLimit:\"insignificant\",raiseChance:0};switch(e){case e>8:return{callLimit:\"beware\",raiseChance:.9,raiseRange:[\"lowdraw\",\"meddraw\",\"hidraw\",\"strong\"]};case e>5:return{callLimit:\"aggro\",raiseChance:.75,raiseRange:[\"insignificant\",\"lowdraw\",\"meddraw\"]};case e<5:default:return{callLimit:\"aggro\",raiseChance:.5,raiseRange:[\"insignificant\",\"lowdraw\",\"meddraw\"]}}},Je=function(e){switch(!0){case e>75:return\"beware\";case e>40:return\"aggro\";case e>35:return\"major\";case e>25:return\"strong\";case e>15:return\"hidraw\";case e>10:return\"meddraw\";case e>3:return\"lowdraw\";case e>=1:return\"insignificant\";case e<1:default:return\"blind\"}},ze=function(e){return\"blind\"===e?.1*Math.random()+0:\"insignificant\"===e?Math.random()*(.03-.01)+.01:\"lowdraw\"===e?.07*Math.random()+.03:\"meddraw\"===e?Math.random()*(.15-.1)+.1:\"hidraw\"===e?.1*Math.random()+.15:\"strong\"===e?Math.random()*(.35-.25)+.25:\"major\"===e?Math.random()*(.4-.35)+.35:\"aggro\"===e?.35*Math.random()+.4:\"beware\"===e?.25*Math.random()+.75:void 0},Xe={blind:0,insignificant:1,lowdraw:2,meddraw:3,hidraw:4,strong:5,major:6,aggro:7,beware:8},Qe=function(e){return Math.random()<e},Ye=function(e){return e.reduce((function(e,n){return e.frequencyHistogram[n.cardFace]=(e.frequencyHistogram[n.cardFace]||0)+1,e.suitHistogram[n.suit]=(e.suitHistogram[n.suit]||0)+1,e}),{frequencyHistogram:{},suitHistogram:{}})},Ze=function(e){var n=e.cardData,t=n.suit,a=n.cardFace,r=(n.animationDelay,e.applyFoldedClassname,t.substring(0,1).toUpperCase());return Object(v.jsx)(\"div\",{className:\"poker-card\",children:Object(v.jsx)(\"img\",{src:\"\".concat(\"\",\"/assets/cardFaces/\").concat(a).concat(r,\".svg\")})})},$e=function(e){return Object(v.jsx)(\"div\",{className:\"loading-div\",children:Object(v.jsx)(\"div\",{className:\"spinner-div\",children:Object(v.jsx)(\"img\",{src:\"/assets/logo.svg\",alt:\"Loading game...\"})})})},en=function(e){var n=e.cardData,t=n.suit,a=n.cardFace,r=n.animationDelay,s=e.applyFoldedClassname;return Object(v.jsx)(\"div\",{className:\"poker-card cardIn agent-card\".concat(s?\" folded\":\"\"),style:{animationDelay:\"\".concat(s?0:r,\"ms\")}},\"\".concat(t,\" \").concat(a))},nn=t(477);var tn=function(e){var n=e.index,t=e.isActive,a=e.content,r=e.endTransition;return Object(v.jsx)(nn.a,{in:t,timeout:{appear:0,enter:0,exit:1250},classNames:\"trans-notification\",onEntered:function(){return r(n)},children:Object(v.jsx)(\"div\",{className:\"notification\",children:\"\".concat(a)})})},an=function(e){var n,t=e.arrayIndex,a=e.playerAnimationSwitchboard,r=e.endTransition,s=e.hasDealerChip,c=e.isActive,i=e.phase,o=e.clearCards,l=e.player,d=l.robot,u=l.folded,h=l.cards,p=l.avatarURL,b=l.name,f=l.chips,j=l.bet;return Object(v.jsxs)(\"div\",{className:\"player-wrapper p\".concat(t),children:[Object(v.jsx)(tn,{index:t,isActive:(n=t,!!a[n].Animating),content:a[t].content,endTransition:r}),Object(v.jsx)(\"div\",{className:\"flex-row abscard\",children:function(){var e;return(u||o)&&(e=!0),d?h.map((function(n,t){if(\"showdown\"!==i)return Object(v.jsx)(en,{cardData:n,applyFoldedClassname:e},t);var a=Object(m.a)(Object(m.a)({},n),{},{animationDelay:0});return Object(v.jsx)(Ze,{cardData:a,applyFoldedClassname:e},t)})):h.map((function(n,t){return Object(v.jsx)(Ze,{cardData:n,applyFoldedClassname:e},t)}))}()}),Object(v.jsx)(\"div\",{className:\"player-div\",children:Object(v.jsxs)(\"div\",{className:\"player-icon-div\",children:[Object(v.jsx)(\"img\",{className:\"player-icon-image\".concat(c?\" activePlayer\":\"\"),src:p,alt:\"Player Avatar\"}),Object(v.jsx)(\"h5\",{className:\"player-data-name\",style:{fontSize:b.length<14?12:10},children:\"\".concat(b)}),Object(v.jsxs)(\"div\",{className:\"player-data-stash-div\",children:[Object(v.jsx)(\"img\",{className:\"player-data-stash-image\",src:\"./assets/chips.svg\",alt:\"Player Stash\"}),Object(v.jsx)(\"h5\",{className:\"player-data-stash-head\",children:\"\".concat(f)})]}),Object(v.jsxs)(\"div\",{className:\"player-data-bet-div\",children:[Object(v.jsx)(\"img\",{className:\"player-data-bet-image\",src:\"./assets/pot.svg\",alt:\"Player Bet\"}),Object(v.jsx)(\"h5\",{className:\"player-data-bet-head\",children:\"\".concat(j)})]}),s?Object(v.jsx)(\"div\",{className:\"dealer-chips-div\",children:Object(v.jsx)(\"img\",{src:\"/assets/logo.svg\",alt:\"Dealer Chip\"})}):null]})})]})};function rn(e){var n=w().currentUser,t=Object(h.g)(),r=Object(h.h)().search,s=new URLSearchParams(r).get(\"difficulty\");function c(){return(c=Object(_.a)(S.a.mark((function t(a){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Object,x.database().ref().child(n.uid).once(\"value\").then((function(t){var a=0;t.forEach((function(e){var n=e.key,t=e.val();r[n]=t,a+=1})),0==a&&(x.database().ref().child(n.uid).set({num_beginner_games:0,num_beginner_wins:0,num_intermediate_games:0,num_intermediate_wins:0,num_expert_games:0,num_expert_wins:0,num_ultimate_games:0,num_ultimate_wins:0}),r={num_beginner_games:0,num_beginner_wins:0,num_intermediate_games:0,num_intermediate_wins:0,num_expert_games:0,num_expert_wins:0,num_ultimate_games:0,num_ultimate_wins:0}),\"beginner\"==s?(r.num_beginner_games=r.num_beginner_games+1,e.winner.name==F.username&&(r.num_beginner_wins=r.num_beginner_wins+1)):\"intermediate\"==s?(r.num_intermediate_games=r.num_intermediate_games+1,e.winner.name==F.username&&(r.num_intermediate_wins=r.num_intermediate_wins+1)):\"expert\"==s?(r.num_expert_games=r.num_expert_games+1,e.winner.name==F.username&&(r.num_expert_wins=r.num_expert_wins+1)):\"ultimate\"==s&&(r.num_ultimate_games=r.num_ultimate_games+1,e.winner.name==F.username&&(r.num_ultimate_wins=r.num_ultimate_wins+1)),x.database().ref().child(n.uid).set({num_beginner_games:r.num_beginner_games,num_beginner_wins:r.num_beginner_wins,num_intermediate_games:r.num_intermediate_games,num_intermediate_wins:r.num_intermediate_wins,num_expert_games:r.num_expert_games,num_expert_wins:r.num_expert_wins,num_ultimate_games:r.num_ultimate_games,num_ultimate_wins:r.num_ultimate_wins})}),(function(e){console.log(\"Error reading player statistics from DB\")}));case 2:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(_.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),console.log(\"Returning to dashboard...\");try{t.push(\"/dashboard\")}catch(a){console.log(\"Error returning to dashboard. Please try again.\")}case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){c.apply(this,arguments)}()})),Object(v.jsx)(H.a,{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:Object(v.jsx)(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)(\"div\",{className:\"w-200 text-center\",children:Object(v.jsx)(\"img\",{className:\"logo mr-2\",src:\"/assets/win-trophy.png\"})}),Object(v.jsx)(\"div\",{className:\"w-100 m-100\",children:Object(v.jsxs)(\"h2\",{children:[e.winner.name,\" Wins!\"]})}),Object(v.jsx)(k.a,{className:\"w-100 mt-3\",onClick:function(e){return i.apply(this,arguments)},children:\"Return to Dashboard\"})]})})})})}var sn=function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){var e;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=n.call.apply(n,[this].concat(s))).state={loading:!0,winnerFound:null,winner:null,players:null,numPlayersActive:null,numPlayersFolded:null,numPlayersAllIn:null,activePlayerIndex:null,dealerIndex:null,blindIndex:null,deck:null,communityCards:[],pot:null,highBet:null,betInputValue:null,sidePots:[],minBet:20,phase:\"loading\",playerHierarchy:[],showDownMessages:[],playActionMessages:[],playerAnimationSwitchboard:{0:{isAnimating:!1,content:null},1:{isAnimating:!1,content:null},2:{isAnimating:!1,content:null},3:{isAnimating:!1,content:null},4:{isAnimating:!1,content:null},5:{isAnimating:!1,content:null}}},e.cardAnimationDelay=0,e.executeGame=function(){var n=ae(Object(L.cloneDeep)(e.state));e.setState(n,(function(){e.state.players[e.state.activePlayerIndex].robot&&\"showdown\"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.aiHandler=function(){var n=e.state,t=(n.playerAnimationSwitchboard,Object(p.a)(n,[\"playerAnimationSwitchboard\"])),a=qe(Object(L.cloneDeep)(t),e.changePlayerAnimationState);e.setState(Object(m.a)(Object(m.a)({},a),{},{betInputValue:a.minBet}),(function(){e.state.players[e.state.activePlayerIndex].robot&&\"showdown\"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.manageBetChange=function(n,t,a){\"\"===n&&(n=t),n>a&&(n=a),e.setState({betInputValue:parseInt(n,10)})},e.manageBetSubmit=function(n,t,a){var r=e.state,s=(r.playerAnimationSwitchboard,Object(p.a)(r,[\"playerAnimationSwitchboard\"])),c=s.activePlayerIndex;e.changePlayerAnimationState(c,\"\".concat(Me(e.state.highBet,e.state.betInputValue,e.state.players[e.state.activePlayerIndex]),\" \").concat(n>e.state.players[e.state.activePlayerIndex].bet?n:\"\"));var i=He(Object(L.cloneDeep)(s),parseInt(n,10),parseInt(t,10),parseInt(a,10));e.setState(i,(function(){e.state.players[e.state.activePlayerIndex].robot&&\"showdown\"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.manageSliderInputChange=function(n){e.setState({betInputValue:n[0]})},e.managePlayerFold=function(){var n=e.state,t=(n.playerAnimationSwitchboard,Object(p.a)(n,[\"playerAnimationSwitchboard\"])),a=Ce(Object(L.cloneDeep)(t));e.setState(a,(function(){e.state.players[e.state.activePlayerIndex].robot&&\"showdown\"!==e.state.phase&&setTimeout((function(){e.aiHandler()}),1200)}))},e.manageNextRound=function(){e.setState({clearCards:!0});var n,t=Q(Object(L.cloneDeep)(e.state));if(Y(t.players))return t.players.forEach((function(e){e.chips>0&&(n=e)})),e.setState({winner:n}),void e.setState({winnerFound:!0});e.setState(t,(function(){e.state.players[e.state.activePlayerIndex].robot&&\"showdown\"!==e.state.phase&&setTimeout((function(){return e.aiHandler()}),1200)}))},e.changePlayerAnimationState=function(n,t){var a=Object.assign({},e.state.playerAnimationSwitchboard,Object(E.a)({},n,{isAnimating:!0,content:t}));e.setState({playerAnimationSwitchboard:a})},e.popPlayerAnimationState=function(n){var t=e.state.playerAnimationSwitchboard[n].content,a=Object.assign({},e.state.playerAnimationSwitchboard,Object(E.a)({},n,{isAnimating:!1,content:t}));e.setState({playerAnimationSwitchboard:a})},e.renderTable=function(){var n=e.state,t=n.players,a=n.activePlayerIndex,r=n.dealerIndex,s=n.clearCards,c=n.phase,i=n.playerAnimationSwitchboard;return t.reduce((function(n,t,o){var l=o===a,d=o===r;return n.unshift(Object(v.jsx)(an,{arrayIndex:o,isActive:l,hasDealerChip:d,player:t,clearCards:s,phase:c,playerAnimationSwitchboard:i,endTransition:e.popPlayerAnimationState},o)),n}),[]).map((function(e){return e}))},e.renderPlayerActionButtons=function(){var n=e.state,t=n.highBet,a=n.players,s=n.activePlayerIndex,c=n.phase,i=n.betInputValue,o=_e(t,a[s].chips,a[s].bet),l=a[s].chips+a[s].bet;return a[s].robot||\"showdown\"===c?null:Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(\"button\",{className:\"fold-button\",onClick:function(){return e.managePlayerFold()},children:\"Fold\"}),Object(v.jsx)(\"button\",{className:\"bet-button\",onClick:function(){return e.manageBetSubmit(i,o,l)},children:Me(t,i,a[s])})]})},e.renderTableCommunityCards=function(n){return e.state.communityCards.map((function(e,t){var a=Object(m.a)({},e);return n&&(a.animationDelay=0),Object(v.jsx)(Ze,{cardData:a},t)}))},e.renderPlayerShowdown=function(){return Object(v.jsxs)(\"div\",{className:\"showdown-div-wrapper\",children:[Object(v.jsx)(\"h5\",{className:\"showdown-div-title\",children:\"Hand Complete!\"}),Object(v.jsx)(\"div\",{className:\"showdown-div-messages\",children:Ue(e.state.showDownMessages)}),Object(v.jsx)(\"h5\",{className:\"showdown-div-community-card-label\",children:\"Community Cards\"}),Object(v.jsx)(\"div\",{className:\"showdown-div-community-cards\",children:e.renderTableCommunityCards(!0)}),Object(v.jsx)(\"button\",{className:\"showdown-nextRound-button\",onClick:function(){return e.manageNextRound()},children:\" Next Hand \"}),e.renderBestHands()]})},e.renderBestHands=function(){return e.state.playerHierarchy.map((function(n){return Array.isArray(n)?e.renderHandSplit(n):e.renderHandWinner(n)}))},e.renderHandSplit=function(n){return n.map((function(n){return e.renderHandWinner(n)}))},e.makeCards=function(e){return e.map((function(e,n){var t=Object(m.a)(Object(m.a)({},e),{},{animationDelay:0});return Object(v.jsx)(Ze,{cardData:t},n)}))},e.renderHandWinner=function(n){var t=n.name,a=n.bestHand,r=n.handRank,s=e.state.players.find((function(e){return e.name===t}));return Object(v.jsxs)(\"table\",{class:\"showdown-table content-table\",children:[Object(v.jsx)(\"thead\",{children:Object(v.jsxs)(\"tr\",{children:[Object(v.jsx)(\"th\",{children:\"Player\"}),Object(v.jsx)(\"th\",{children:\"Private Cards\"}),Object(v.jsx)(\"th\",{children:\"Best Hand\"}),Object(v.jsx)(\"th\",{children:\"Hand Ranking\"}),Object(v.jsx)(\"th\",{children:\"Win/Loss\"})]})}),Object(v.jsx)(\"tbody\",{children:Object(v.jsxs)(\"tr\",{children:[Object(v.jsx)(\"td\",{children:t}),Object(v.jsx)(\"td\",{children:Object(v.jsx)(\"div\",{class:\"showdown-player-privateCards\",children:Object(v.jsx)(\"div\",{class:\"showdown-player-cards\",children:e.makeCards(s.cards)})})}),Object(v.jsx)(\"td\",{children:Object(v.jsx)(\"div\",{className:\"showdown-player-besthand-div\",children:Object(v.jsx)(\"div\",{className:\"showdown-player-besthand-cards\",style:{alignItems:\"center\"},children:a.map((function(e,n){var t=Object(m.a)(Object(m.a)({},e),{},{animationDelay:0});return Object(v.jsx)(Ze,{cardData:t},n)}))})})}),Object(v.jsx)(\"td\",{children:r}),Object(v.jsx)(\"td\",{children:Ve(s.roundEndChips,s.roundStartChips)})]})})]})},e.renderGame=function(){var n=e.state,t=n.highBet,a=n.players,r=n.activePlayerIndex,s=n.phase;return Object(v.jsxs)(\"div\",{className:\"app-background\",children:[Object(v.jsx)(\"div\",{className:\"title-text\",style:{maxWidth:\"400px\"}}),Object(v.jsxs)(\"div\",{className:\"poker-table-div\",children:[Object(v.jsxs)(\"div\",{className:\"title-logo\",children:[Object(v.jsx)(\"img\",{src:\"./assets/logo.svg\"}),Object(v.jsx)(\"h3\",{children:\"No-Limit Texas Hold'em Poker\"}),Object(v.jsxs)(T.a,{id:\"dropdown-basic-button\",title:\"\",children:[Object(v.jsxs)(B.a.Item,{href:\"#\",children:[\" \",Object(v.jsx)(u.b,{to:\"/dashboard\",children:\"Return to Dashboard\"})]}),Object(v.jsxs)(B.a.Item,{href:\"#\",children:[\" \",Object(v.jsx)(u.b,{to:\"/login\",children:\"Logout\"})]})]})]}),Object(v.jsx)(\"img\",{className:\"poker-table-image\",src:\"./assets/table.svg\",alt:\"Poker Table\"}),e.renderTable(),Object(v.jsx)(\"div\",{className:\"community-hand-div\",children:e.renderTableCommunityCards()}),Object(v.jsxs)(\"div\",{className:\"pot-div\",children:[Object(v.jsx)(\"img\",{src:\"./assets/pot.svg\",alt:\"Pot Value\"}),Object(v.jsxs)(\"h5\",{children:[\" \",\"\".concat(e.state.pot),\" \"]})]})]}),\"showdown\"===e.state.phase&&e.renderPlayerShowdown(),Object(v.jsxs)(\"div\",{className:\"game-bar\",children:[Object(v.jsx)(\"div\",{className:\"game-buttons\",children:e.renderPlayerActionButtons()}),Object(v.jsx)(\"div\",{className:\"slider\",children:!e.state.loading&&Ke(t,a,r,s,e.manageBetChange)})]})]})},e}return Object(o.a)(t,[{key:\"componentDidMount\",value:function(){var e=Object(_.a)(S.a.mark((function e(){var n,t,a,r,s,c=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(F.username);case 2:n=e.sent,t=Math.floor(Math.random()*Math.floor(n.length)),a=Pe(t,n.length),r=Se(n,a,this.state.minBet),(s=new XMLHttpRequest).addEventListener(\"load\",(function(e){console.log(\"\".concat(e.type)),console.log(e),console.log(\"Table Loaded!\"),c.setState({loading:!1})})),s.addEventListener(\"loadstart\",(function(e){console.log(\"\".concat(e.type)),console.log(e)})),s.addEventListener(\"loadend\",(function(e){console.log(\"\".concat(e.type)),console.log(e)})),s.addEventListener(\"progress\",(function(e){console.log(\"\".concat(e.type)),console.log(e)})),s.addEventListener(\"abort\",(function(e){console.log(\"\".concat(e.type)),console.log(e)})),s.addEventListener(\"error\",(function(e){console.log(\"\".concat(e.type)),console.log(e)})),s.open(\"GET\",\"./assets/table.svg\"),s.send(),this.setState((function(e){return{players:r,numPlayersActive:n.length,numPlayersFolded:0,numPlayersAllIn:0,activePlayerIndex:t,dealerIndex:t,blindIndex:{big:a.bigBlindIndex,small:a.smallBlindIndex},deck:te(ne()),pot:0,highBet:e.minBet,betInputValue:e.minBet,phase:\"initialDeal\"}})),this.executeGame();case 17:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){return Object(v.jsx)(\"div\",{className:\"App\",children:Object(v.jsx)(\"div\",{className:\"poker-table-wrapper\",children:this.state.loading?Object(v.jsx)($e,{}):this.state.winnerFound?Object(v.jsx)(rn,{winner:this.state.winner}):this.renderGame()})})}}]),t}(a.Component);function cn(){var e=Object(a.useRef)(),n=Object(a.useRef)(),t=w().login,r=Object(a.useState)(\"\"),s=Object(b.a)(r,2),c=s[0],i=s[1],o=Object(a.useState)(!1),l=Object(b.a)(o,2),d=l[0],m=l[1],p=Object(h.g)();function f(){return(f=Object(_.a)(S.a.mark((function a(r){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,i(\"\"),m(!0),a.next=6,t(e.current.value,n.current.value);case 6:p.push(\"/dashboard\"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),i(\"Invalid email or password\");case 12:m(!1);case 13:case\"end\":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}function j(){return(j=Object(_.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(\"Guest log in\"),e.prev=2,i(\"\"),m(!0),e.next=7,t(\"guest@guest.com\",\"password\");case 7:console.log(t),p.push(\"/dashboard\"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),i(\"Error. Cannot play as guest\");case 14:m(!1);case 15:case\"end\":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[Object(v.jsx)(\"div\",{className:\"w-200 text-center\",children:Object(v.jsx)(R,{})}),Object(v.jsxs)(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)(\"h2\",{className:\"text-center mb-4\",children:\"Log In\"}),c&&Object(v.jsx)(A.a,{variant:\"danger\",children:c}),Object(v.jsxs)(N.a,{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:\"email\",children:[Object(v.jsx)(N.a.Label,{children:\"Email\"}),Object(v.jsx)(N.a.Control,{type:\"email\",ref:e,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:\"password\",children:[Object(v.jsx)(N.a.Label,{children:\"Password\"}),Object(v.jsx)(N.a.Control,{type:\"password\",ref:n,required:!0})]}),Object(v.jsx)(k.a,{disabled:d,className:\"w-100\",type:\"submit\",children:\"Log In\"})]}),Object(v.jsx)(k.a,{disabled:d,variant:\"warning\",className:\"w-100 mt-3\",onClick:function(e){return j.apply(this,arguments)},children:\"Play as Guest\"}),Object(v.jsx)(\"div\",{className:\"w-100 text-center mt-3\",children:Object(v.jsx)(u.b,{to:\"/forgot-password\",children:\"Forgot Password?\"})})]})}),Object(v.jsxs)(\"div\",{className:\"help-text text-center mt-2\",children:[\"Don't have an account? \",Object(v.jsx)(u.b,{to:\"/signup\",children:\"Sign Up\"})]})]})]})})}function on(){var e=Object(a.useRef)(),n=Object(a.useRef)(),t=Object(a.useRef)(),r=w().signup,s=Object(a.useState)(\"\"),c=Object(b.a)(s,2),i=c[0],o=c[1],l=Object(a.useState)(!1),d=Object(b.a)(l,2),m=d[0],p=d[1],f=Object(h.g)();function j(){return(j=Object(_.a)(S.a.mark((function a(s){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),n.current.value===t.current.value){a.next=3;break}return a.abrupt(\"return\",o(\"Passwords do not match\"));case 3:return a.prev=3,o(\"\"),p(!0),a.next=8,r(e.current.value,n.current.value);case 8:f.push(\"/dashboard\"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),o(\"Failed to create an account\");case 14:p(!1);case 15:case\"end\":return a.stop()}}),a,null,[[3,11]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[Object(v.jsx)(\"div\",{className:\"w-200 text-center\",children:Object(v.jsx)(R,{})}),Object(v.jsxs)(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)(\"h2\",{className:\"text-center mb-4\",children:\"Sign Up\"}),i&&Object(v.jsx)(A.a,{variant:\"danger\",children:i}),Object(v.jsxs)(N.a,{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:\"email\",children:[Object(v.jsx)(N.a.Label,{children:\"Email\"}),Object(v.jsx)(N.a.Control,{type:\"email\",ref:e,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:\"password\",children:[Object(v.jsx)(N.a.Label,{children:\"Password\"}),Object(v.jsx)(N.a.Control,{type:\"password\",ref:n,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:\"password-confirm\",children:[Object(v.jsx)(N.a.Label,{children:\"Password Confirmation\"}),Object(v.jsx)(N.a.Control,{type:\"password\",ref:t,required:!0})]}),Object(v.jsx)(k.a,{disabled:m,className:\"w-100\",type:\"submit\",children:\"Sign Up\"})]})]})}),Object(v.jsxs)(\"div\",{className:\"help-text w-100 text-center mt-2\",children:[\"Already have an account? \",Object(v.jsx)(u.b,{to:\"/login\",children:\"Log In\"})]})]})]})})}function ln(e){var n=e.userStatistics,t=Object(h.g)();function a(){return(a=Object(_.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),console.log(\"Returning to dashboard...\");try{t.push(\"/dashboard\")}catch(a){console.log(\"Error returning to dashboard. Please try again.\")}case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(\"table\",{class:\"content-table\",children:[Object(v.jsx)(\"thead\",{children:Object(v.jsxs)(\"tr\",{children:[Object(v.jsx)(\"th\",{children:\"Played\"}),Object(v.jsx)(\"th\",{children:\"Difficulty\"}),Object(v.jsx)(\"th\",{children:\"Won\"})]})}),Object(v.jsxs)(\"tbody\",{children:[Object(v.jsxs)(\"tr\",{children:[Object(v.jsxs)(\"td\",{children:[\" \",n.num_beginner_games]}),Object(v.jsx)(\"td\",{children:\"Beginner\"}),Object(v.jsx)(\"td\",{children:n.num_beginner_wins})]}),Object(v.jsxs)(\"tr\",{children:[Object(v.jsx)(\"td\",{children:n.num_intermediate_games}),Object(v.jsx)(\"td\",{children:\"Intermediate\"}),Object(v.jsx)(\"td\",{children:n.num_intermediate_wins})]}),Object(v.jsxs)(\"tr\",{children:[Object(v.jsx)(\"td\",{children:n.num_expert_games}),Object(v.jsx)(\"td\",{children:\"Expert\"}),Object(v.jsx)(\"td\",{children:n.num_expert_wins})]}),Object(v.jsxs)(\"tr\",{children:[Object(v.jsx)(\"td\",{children:n.num_ultimate_games}),Object(v.jsx)(\"td\",{children:\"Ultimate Poker Pro\"}),Object(v.jsx)(\"td\",{children:n.num_ultimate_wins})]}),Object(v.jsxs)(\"tr\",{class:\"active-row\",children:[Object(v.jsx)(\"td\",{children:n.num_beginner_games+n.num_intermediate_games+n.num_expert_games+n.num_ultimate_games}),Object(v.jsx)(\"td\",{children:\"Total\"}),Object(v.jsx)(\"td\",{children:n.num_beginner_wins+n.num_intermediate_wins+n.num_expert_wins+n.num_ultimate_wins})]})]})]}),Object(v.jsx)(k.a,{className:\"w-100 mt-3\",onClick:function(e){return a.apply(this,arguments)},children:\"Return to Dashboard\"})]})}function dn(e){e.userStatistics;var n=Object(h.g)();function t(){return(t=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(\"Returning to dashboard...\");try{n.push(\"/dashboard\")}catch(a){console.log(\"Error returning to dashboard. Please try again.\")}case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(\"div\",{children:Object(v.jsx)(\"div\",{children:\"No Statistics Recorded for Guest Users\"})}),Object(v.jsx)(k.a,{className:\"w-100 mt-3\",onClick:function(e){return t.apply(this,arguments)},children:\"Return to Dashboard\"})]})}function un(e){var n=w().currentUser,t=Object(a.useState)(!0),r=Object(b.a)(t,2),s=r[0],c=r[1],i=Object(a.useState)(new Object),o=Object(b.a)(i,2),l=o[0],d=o[1],u=new Object;function h(){return(h=Object(_.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,x.database().ref().child(n.uid).once(\"value\").then((function(e){console.log(\"snapshot\"),console.log(e),e.forEach((function(e){var n=e.key,a=e.val();u[n]=a,t+=1})),0==t&&(u={num_beginner_games:0,num_beginner_wins:0,num_intermediate_games:0,num_intermediate_wins:0,num_expert_games:0,num_expert_wins:0,num_ultimate_games:0,num_ultimate_wins:0}),d(u),8==t&&c(!1)}));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){h.apply(this,arguments)}()})),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(H.a,{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[Object(v.jsx)(\"div\",{className:\"w-200 text-center\",children:Object(v.jsx)(R,{})}),Object(v.jsx)(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)(\"h2\",{className:\"text-center mb-4\",children:\"Personal Statistics\"}),\"guest@guest.com\"==n.email?Object(v.jsx)(dn,{}):s?\"Loading...\":Object(v.jsx)(ln,{userStatistics:l})]})})})]})})}var hn=function(e){Object(l.a)(t,e);var n=Object(d.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(o.a)(t,[{key:\"render\",value:function(){return Object(v.jsx)(u.a,{children:Object(v.jsx)(O,{children:Object(v.jsxs)(h.d,{children:[Object(v.jsx)(I,{exact:!0,path:\"/\",component:sn}),Object(v.jsx)(I,{exact:!0,path:\"/dashboard\",component:F}),Object(v.jsx)(I,{exact:!0,path:\"/statistics\",component:un}),Object(v.jsx)(h.b,{path:\"/signup\",component:on}),Object(v.jsx)(h.b,{path:\"/login\",component:cn}),Object(v.jsx)(h.b,{path:\"/forgot-password\",component:D})]})})})}}]),t}(a.Component);t(466);c.a.render(Object(v.jsx)(hn,{}),document.getElementById(\"root\"))},79:function(e,n,t){}},[[467,1,2]]]);","name":"static/js/main.f0a936f7.chunk.js","map":{"version":3,"sources":["static/js/main.f0a936f7.chunk.js"],"names":["this","push","444","module","exports","__webpack_require__","466","467","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","react_router_dom","react_router","objectSpread2","objectWithoutProperties","slicedToArray","index_esm","app","initializeApp","apiKey","authDomain","databaseURL","Object","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","undefined","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_APP_ID","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_DATABASE_URL","projectId","storageBucket","messagingSenderId","appId","auth","firebase","database","ref","jsx_runtime","AuthContext","a","createContext","useAuth","AuthProvider","_ref","children","_useState","_useState2","currentUser","setCurrentUser","_useState3","_useState4","loading","setLoading","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","PrivateRoute","Component","component","rest","render","props","to","regenerator","regenerator_default","asyncToGenerator","Container","esm_Card","Alert","Button","helpers_Logo","_Component","Logo","_super","apply","arguments","key","className","src","Dashboard","emailAddress","error","setError","_useAuth","history","_handleLogout","mark","_callee","wrap","_context","prev","next","t0","stop","_viewStatistics","_callee2","_context2","_unused2","playPoker","_playPoker","_callee3","difficulty","_args3","_context3","length","_unused3","username","substring","indexOf","style","minHeight","maxWidth","Body","variant","onClick","Form","ForgotPassword","emailRef","message","setMessage","_useState5","_useState6","_handleSubmit","e","preventDefault","current","onSubmit","_x","Group","id","Label","Control","type","required","disabled","defineProperty","lodash","DropdownButton","Dropdown","toConsumableArray","createForOfIteratorHelper","v1","v1_default","makeTable","playerName","users","_args","name","avatarURL","cards","showDownHand","hand","descendingSortHand","chips","roundStartChips","roundEndChips","currentRoundChipsInvested","bet","betReconciled","folded","allIn","canRaise","stackInvestment","robot","abrupt","manageOverflowIndex","currentIndex","incrementBy","arrayLength","direction","Error","choosePhaseStartActivePlayer","state","recursion","activePlayerIndex","players","blindIndex","big","playersService_chooseNextActivePlayer","chooseNextActivePlayer","activePlayer","allButOnePlayersAreAllIn","numPlayersActive","numPlayersAllIn","console","log","cardsService_playerShowDown","betService_remakePot","cardsService_dealOtherCommunityCards","betService_managePhaseShift","moveDealerChip","dealerIndex","nextDealer","playersService_findBrokePlayers","dealerID","filter","player","newDealerIndex","findIndex","small","anteUpBlinds","bigBlindIndex","smallBlindIndex","minBet","map","numPlayersFolded","blindIndicies","calculateBlindIndices","cardsService_dealPlayerCards","playersService_startNextRound","communityCards","sidePots","playerHierarchy","showDownMessages","deck","shuffleCards","cardsService_makeDeckOfCards","highBet","betInputValue","clearPlayerCards","card","checkWin","cardsService_cards","suits","VALUE_MAP","2","3","4","5","6","7","8","9","10","J","Q","K","A","_step","_iterator","s","done","_step2","suit","_iterator2","cardFace","err","f","shuffledDeck","Array","filledSlots","i","lastSlot","el","shuffleToPosition","randomStartPosition","totalNumCards","includes","clearCards","animationDelay","_getCards","cardsService_getCards","mutableDeckCopy","chosenCards","newDeck","phase","min","max","Math","ceil","floor","random","numToGet","pop","cardsToPop","_step4","_getShowdownCards","cardsService_getShowdownCards","_iterator4","_step5","_iterator5","_loop","frequencyHistogram","suitHistogram","concat","sort","b","forEach","valueSet","generateValueSet","_checkIfFlush","checkIfFlush","isFlush","flushedSuit","flushCards","isRoyalFlush","checkIfRoyalFlush","checkIfStraightFlush","isStraightFlush","isLowStraightFlush","concurrentSFCardValues","concurrentSFCardValuesLow","_checkIfStraight","cardsService_checkIfStraight","isStraight","isLowStraight","concurrentCardValues","concurrentCardValuesLow","_checkFrequencyHistog","checkFrequencyHistogram","isFourOfAKind","isFullHouse","isThreeOfAKind","isTwoPair","isPair","frequencyHistogramMetaData","isNoPair","bools","heldRankHierarchy","match","metaData","highRankPosition","bestHandRank","bestHand","cardsService_findBestHand","cardsService_assignSidePots","numToPop","bestRank","slice","reduce","acc","cur","index","reverse","mutableHand","_loop2","indexOfQuad","quads","face","_bestHand","_mutableHand","tripples","_loop3","_i","indexOfTripple","_loop4","_i2","indexOfPair","_loop5","_i3","_loop6","_i4","pairs","_bestHand2","_mutableHand2","_loop7","_i5","_bestHand3","_mutableHand3","_loop8","_i6","_loop9","_i7","_bestHand4","_mutableHand4","_loop10","_i8","cardsService_buildPlayerRankings","activePlayers","hierarchy","rankMap","Map","playerIndex","_player$showDownHand","get","_step6","_iterator6","_loop11","_step6$value","handRank","playersWhoHoldThisRank","formattedPlayersWhoHoldThisRank","_playersWhoHoldThisRa","winnerHierarchy","sortedComparator","loserHierarchy","processComparator","comparator","round","filterableComparator","frame","_handleSnapshotFrame","handleSnapshotFrame","winningFrame","losingFrame","lowerTierComparator","snapshot","some","snapshotToMatchName","_winningFrame$","_name","_bestHand5","filteredWinnerSnapshots","_comparator$0$","processLowTierComparators","loserHierarchyFrame","loserComparatorToProcess","determinePlayerHandsHierarchy","createRankingsComparator","cardsService_rankPlayersHands","contestants","_step7","_iterator7","_loop12","contestant","highValue","assignWinnings","prize","winnerFound","rank","payWinnings","winners","findHandWinner","_step8","_iterator8","sidePot","potValue","pot","overflow","splitPot","winner","playerData","from","playerShowdownData","_loop13","losers","v","nameToExtract","_ret2","flushMatchCards","numConcurrentCards","_checkIfLowerStraight","checkIfLowerStraight","_checkIfStraight2","numTripples","numPairs","valueSetCopy","sortedValueSetCopy","Set","cardInfo","numPlayers","blindIndices","calculateMinBet","playerChipsStack","playerBet","playerTotalChips","betService_manageBet","subtractableChips","betService_managePlayerFold","_step3","_getCards2","_iterator3","cardsService_dealFlopCards","_getCards3","cardsService_dealTurnCards","_getCards4","cardsService_dealRiverCards","sidePotStack","condensePots","calculatePots","_player","playerStacks","investedPlayers","playerToRefund","ascBetPlayers","smallStackValue","builtSidePot","arrayIdentical","arr1","arr2","bool","es","raiseBar_Controller","_ref$handle","handle","percent","getHandleProps","left","position","marginLeft","marginTop","zIndex","width","height","border","textAlign","cursor","borderRadius","backgroundColor","color","display","textShadow","justifyContent","fontFamily","fontSize","sliderStyle","railStyle","raiseBar_Tracker","source","target","getTrackProps","makeActionButtonText","uiService_makeNetPlayerEarnings","endChips","startChips","netChipEarnings","win","none","class","uiService_makeShowdownMessages","Fragment","uiService_makeActionMenu","changeSliderInputFn","rootStyle","domain","values","step","onChange","mode","getRailProps","_ref2","handles","right","_ref3","tracks","_ref4","aiService_aiHandler","moveAnimationState","investmentRequiredToRemain","_makeHistogram","makeHistogram","stakes","groupStakes","preFlopValues","highCard","lowCard","suited","entries","find","keyValuePair","_createPreFlopDetermi","createPreFlopDeterminant","_callLimit","callLimit","_raiseChance","raiseChance","_raiseRange","raiseRange","_willCall","betting_hierarchy","_callValue","willRaise","determinedRaiseRange","betValue","chooseBetProportion","handHierarchy","highRank","_createGeneralizedDet","createGeneralizedDeterminant","willCall","callValue","_determinedRaiseRange","_betValue","raiseChange","straightGap","percentage","blind","insignificant","lowdraw","meddraw","hidraw","strong","major","aggro","beware","chance","cards_Card","_props$cardData","cardData","cardSuit","applyFoldedClassname","toUpperCase","helpers_SpinnerLoading","alt","cards_BackOfCard","CSSTransition","players_PlayerStatus","isActive","content","endTransition","in","timeout","appear","enter","exit","classNames","onEntered","players_Player","playerBoxIndex","arrayIndex","playerAnimationSwitchboard","hasDealerChip","_props$player","Animating","makePlayerCards","PlayerWin","search","URLSearchParams","_recordUserStatistics","userStatistics","child","uid","once","then","countValues","childSnapshot","childData","val","set","num_beginner_games","num_beginner_wins","num_intermediate_games","num_intermediate_wins","num_expert_games","num_expert_wins","num_ultimate_games","num_ultimate_wins","_handleReturnToDashboard","_unused","recordUserStatistics","_x2","interfaces_Game","Game","_this","_len","args","_key","call","playActionMessages","0","isAnimating","1","cardAnimationDelay","executeGame","newState","setState","setTimeout","aiHandler","_this$state","appState","changePlayerAnimationState","manageBetChange","parseInt","manageBetSubmit","_this$state2","manageSliderInputChange","managePlayerFold","_this$state3","manageNextRound","element","newAnimationSwitchboard","assign","popPlayerAnimationState","persistContent","renderTable","_this$state4","result","unshift","renderPlayerActionButtons","_this$state5","renderTableCommunityCards","purgeAnimation","renderPlayerShowdown","renderBestHands","rankSnapshot","isArray","renderHandSplit","renderHandWinner","makeCards","playerStateData","statePlayer","alignItems","renderGame","_this$state6","title","Item","href","_componentDidMount","playersBoughtIn","imageLoaderRequest","_this2","sent","XMLHttpRequest","addEventListener","open","send","prevState","Login","passwordRef","_handleSubmitGuest","Signup","passwordConfirmRef","UserStatistics","GuestUserStatistics","_handleReturnToDashboard2","Statistics","userStats","setUserStats","_setUserStatistics","setUserStatistics","src_App_0","App","exact","path","document","getElementById","79"],"mappings":"CAACA,KAAwB,kBAAIA,KAAwB,mBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAElEC,IACA,SAAUC,EAAQC,EAASC,KAM3BC,IACA,SAAUH,EAAQC,EAASC,KAM3BE,IACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aAEAA,EAAoBI,EAAED,GAGFH,EAAoB,KAAxC,IAGIK,EAAQL,EAAoB,GAC5BM,EAA6BN,EAAoBO,EAAEF,GAGnDG,EAAYR,EAAoB,IAChCS,EAAiCT,EAAoBO,EAAEC,GA2iBvDE,GAxiBYV,EAAoB,KAGRA,EAAoB,KAGjBA,EAAoB,KAGtBA,EAAoB,KAGZA,EAAoB,KAGhCA,EAAoB,KAGvBA,EAAoB,KAGlBA,EAAoB,KAGrBA,EAAoB,KAGnBA,EAAoB,KAGtBA,EAAoB,KAGbA,EAAoB,KAGnBA,EAAoB,KAGtBA,EAAoB,KAG1BA,EAAoB,KAGfA,EAAoB,KAG3BA,EAAoB,KAGlBA,EAAoB,KAGtBA,EAAoB,KAGdA,EAAoB,KAG1BA,EAAoB,KAGhBA,EAAoB,KAGxBA,EAAoB,KAGhBA,EAAoB,KAGpBA,EAAoB,KAGpBA,EAAoB,KAGxBA,EAAoB,KAGXA,EAAoB,KAG9BA,EAAoB,KAGrBA,EAAoB,KAGhBA,EAAoB,KAGdA,EAAoB,KAG3BA,EAAoB,KAGrBA,EAAoB,KAGjBA,EAAoB,KAGrBA,EAAoB,KAGVA,EAAoB,KAGhBA,EAAoB,KAG7BA,EAAoB,KAGhBA,EAAoB,KAG5BA,EAAoB,KAGfA,EAAoB,KAGnCA,EAAoB,KAGbA,EAAoB,KAGpBA,EAAoB,KAGpBA,EAAoB,KAGrBA,EAAoB,KAGnBA,EAAoB,KAGrBA,EAAoB,KAGnBA,EAAoB,KAGnBA,EAAoB,KAGrBA,EAAoB,KAGrBA,EAAoB,KAGnBA,EAAoB,KAGpBA,EAAoB,KAGrBA,EAAoB,KAGpBA,EAAoB,KAGpBA,EAAoB,KAGpBA,EAAoB,KAGXA,EAAoB,KAG5BA,EAAoB,KAGhBA,EAAoB,KAGlBA,EAAoB,KAGnBA,EAAoB,KAGxBA,EAAoB,KAGXA,EAAoB,KAGnBA,EAAoB,KAGpBA,EAAoB,KAGzBA,EAAoB,KAGtBA,EAAoB,KAGrBA,EAAoB,KAGtBA,EAAoB,KAGbA,EAAoB,KAGpBA,EAAoB,KAG1BA,EAAoB,KAGrBA,EAAoB,KAGdA,EAAoB,KAGLA,EAAoB,KAGnBA,EAAoB,KAG1BA,EAAoB,KAG1BA,EAAoB,KAGlCA,EAAoB,KAGTA,EAAoB,KAGxBA,EAAoB,KAGpBA,EAAoB,KAGzBA,EAAoB,KAGXA,EAAoB,KAGpBA,EAAoB,KAGfA,EAAoB,KAGlCA,EAAoB,KAGfA,EAAoB,KAGvBA,EAAoB,KAG1BA,EAAoB,KAGZA,EAAoB,KAGtBA,EAAoB,KAGhBA,EAAoB,KAGdA,EAAoB,KAGpBA,EAAoB,KAGhCA,EAAoB,KAGIA,EAAoB,KAG/BA,EAAoB,KAGjCA,EAAoB,KAGVA,EAAoB,KAGzBA,EAAoB,KAGVA,EAAoB,KAGnCA,EAAoB,KAGPA,EAAoB,KAGjCA,EAAoB,KAGnBA,EAAoB,KAGhBA,EAAoB,KAGjCA,EAAoB,KAGHA,EAAoB,KAGxBA,EAAoB,KAGdA,EAAoB,KAG3BA,EAAoB,KAGpBA,EAAoB,KAGvBA,EAAoB,KAGlBA,EAAoB,KAGlBA,EAAoB,KAG1BA,EAAoB,KAGjBA,EAAoB,KAGnBA,EAAoB,KAGrBA,EAAoB,KAGrBA,EAAoB,KAGdA,EAAoB,KAG3BA,EAAoB,KAGhBA,EAAoB,KAGlBA,EAAoB,KAGxBA,EAAoB,KAGvBA,EAAoB,KAGlBA,EAAoB,KAGrBA,EAAoB,KAGnBA,EAAoB,KAGhBA,EAAoB,KAGrBA,EAAoB,KAGrBA,EAAoB,KAGvBA,EAAoB,KAGnBA,EAAoB,KAGnBA,EAAoB,KAGvBA,EAAoB,KAGpBA,EAAoB,KAGLA,EAAoB,KAGpBA,EAAoB,KAGvBA,EAAoB,KAGnBA,EAAoB,KAGpBA,EAAoB,KAGpBA,EAAoB,KAGZA,EAAoB,KAG3BA,EAAoB,KAGpBA,EAAoB,KAGrBA,EAAoB,KAG1BA,EAAoB,KAGrBA,EAAoB,KAGlBA,EAAoB,KAGtBA,EAAoB,KAGdA,EAAoB,KAGtBA,EAAoB,KAGxBA,EAAoB,KAGhBA,EAAoB,KAGpBA,EAAoB,KAGpBA,EAAoB,KAGxBA,EAAoB,KAGXA,EAAoB,KAG9BA,EAAoB,KAGrBA,EAAoB,KAGhBA,EAAoB,KAGdA,EAAoB,KAGzBA,EAAoB,KAGxBA,EAAoB,KAGlBA,EAAoB,KAGrBA,EAAoB,KAGpBA,EAAoB,KAGhBA,EAAoB,KAGZA,EAAoB,KAG3BA,EAAoB,KAGjCA,EAAoB,KAGpBA,EAAoB,KAGHA,EAAoB,KAGpBA,EAAoB,KAGnCA,EAAoB,KAGdA,EAAoB,KAGhCA,EAAoB,KAGZA,EAAoB,KAGdA,EAAoB,KAG3BA,EAAoB,KAGrCW,EAAcX,EAAoB,IAGlCY,EAAWZ,EAAoB,IAG/Ba,EAAcb,EAAoB,IAMlCc,GAHWd,EAAoB,KAGZA,EAAoB,KAGvCe,EAAef,EAAoB,IAMnCgB,GAHUhB,EAAoB,KAGdA,EAAoB,KAGpCiB,EAA0BjB,EAAoB,IAG9CkB,EAAgBlB,EAAoB,IAGpCmB,EAAYnB,EAAoB,KAW7BoB,GARcpB,EAAoB,KAGXA,EAAoB,KAKvCmB,EAA2B,EAAEE,cAAc,CAACC,OAAO,0CAA0CC,WAAW,yCAAyCC,YAAYC,OAAO,CAACC,SAAW,aAAaC,WAAa,GAAGC,qBAAkBC,EAAUC,qBAAkBD,EAAUE,qBAAkBF,EAAUG,cAAe,EAAKC,2BAA6B,0CAA0CC,0BAA4B,4CAA4CC,+BAAiC,yCAAyCC,uCAAyC,eAAeC,8BAAgC,yBAAyBC,kCAAoC,uCAAuCC,gCAAgCC,UAAU,yBAAyBC,cAAc,qCAAqCC,kBAAkB,eAAeC,MAAM,+CAAkDC,EAAKxB,EAAIwB,OAA4EC,GAAtDzB,EAAI0B,WAAWC,MAAkD,GAEhgCC,EAAchD,EAAoB,GAM/BiD,EAAyB3C,EAAc4C,EAAEC,gBAAgB,SAASC,IAAU,OAAO3B,OAAOpB,EAAkB,WAAzBoB,CAA4BwB,GAEpH,SAASI,EAAaC,GAAM,IAAIC,EAASD,EAAKC,SAAaC,EAAU/B,OAAOpB,EAAgB,SAAvBoB,GAA4BgC,EAAWhC,OAAOP,EAA+B,EAAtCO,CAAyC+B,EAAU,GAAGE,EAAYD,EAAW,GAAGE,EAAeF,EAAW,GAAOG,EAAWnC,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAMoC,EAAWpC,OAAOP,EAA+B,EAAtCO,CAAyCmC,EAAW,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAYrSpC,OAAOpB,EAAiB,UAAxBoB,EAA2B,WAA4G,OAAjFmB,EAAKoB,oBAAmB,SAASC,GAAMN,EAAeM,GAAMF,GAAW,QAA+B,IAAI,IAAIG,EAAM,CAACR,YAAYA,EAAYS,MARlR,SAAeC,EAAMC,GAAU,OAAOzB,EAAK0B,2BAA2BF,EAAMC,IAQkNE,OAV9R,SAAgBH,EAAMC,GAAU,OAAOzB,EAAK4B,+BAA+BJ,EAAMC,IAU2NI,OAN5S,WAAkB,OAAO7B,EAAK8B,WAM4RC,cAJ1T,SAAuBP,GAAO,OAAOxB,EAAKgC,uBAAuBR,IAIqRS,YAFtV,SAAqBT,GAAO,OAAOV,EAAYmB,YAAYT,IAEmTU,eAA9W,SAAwBT,GAAU,OAAOX,EAAYoB,eAAeT,KAAyU,OAAmB5C,OAAOuB,EAAiB,IAAxBvB,CAA2BwB,EAAY8B,SAAS,CAACb,MAAMA,EAAMX,UAAUO,GAASP,IAKjf,SAASyB,EAAa1B,GAAM,IAAI2B,EAAU3B,EAAK4B,UAAUC,EAAK1D,OAAOR,EAAyC,EAAhDQ,CAAmD6B,EAAK,CAAC,cAAqCI,EAAVN,IAA+BM,YAAY,OAAmBjC,OAAOuB,EAAiB,IAAxBvB,CAA2BV,EAA4B,EAAEU,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAG0D,GAAM,GAAG,CAACC,OAAO,SAAgBC,GAAO,OAAO3B,EAAyBjC,OAAOuB,EAAiB,IAAxBvB,CAA2BwD,EAAUxD,OAAOT,EAA+B,EAAtCS,CAAyC,GAAG4D,IAAqB5D,OAAOuB,EAAiB,IAAxBvB,CAA2BV,EAA+B,EAAE,CAACuE,GAAG,eAE/kB,IAAIC,EAAcvF,EAAoB,IAClCwF,EAAmCxF,EAAoBO,EAAEgF,GAGzDE,EAAmBzF,EAAoB,IAGvC0F,EAAY1F,EAAoB,KAGhC2F,EAAW3F,EAAoB,KAG/B4F,EAAQ5F,EAAoB,KAG5B6F,EAAS7F,EAAoB,KAS+zB8F,GANj1B9F,EAAoB,IAML,SAAS+F,GAAYtE,OAAOb,EAA0B,EAAjCa,CAAoCuE,EAAKD,GAAY,IAAIE,EAAOxE,OAAOZ,EAA6B,EAApCY,CAAuCuE,GAAM,SAASA,IAA4D,OAArDvE,OAAOf,EAAgC,EAAvCe,CAA0C9B,KAAKqG,GAAaC,EAAOC,MAAMvG,KAAKwG,WAA+hB,OAAnhB1E,OAAOd,EAA6B,EAApCc,CAAuCuE,EAAK,CAAC,CAACI,IAAI,SAASlC,MAAM,WAAkB,OAAmBzC,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,iBAAiB9C,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,OAAO,CAAC4E,UAAU,eAAe9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC8B,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,YAAYC,IAAI,uBAAoC7E,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,cAAc9C,SAAS,0CAAkDyC,EAAtwB,CAA6wB3F,EAAiB,YAMzzB,SAASkG,IAAY,IAQ0jBC,EARtjBhD,EAAU/B,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIgC,EAAWhC,OAAOP,EAA+B,EAAtCO,CAAyC+B,EAAU,GAAGiD,EAAMhD,EAAW,GAAGiD,EAASjD,EAAW,GAAOkD,EAASvD,IAAUM,EAAYiD,EAASjD,YAAYe,EAAOkC,EAASlC,OAAWmC,EAAQnF,OAAOV,EAAiC,EAAxCU,GAIrQ,SAASoF,IAAsgB,OAAtfA,EAAcpF,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,IAAU,OAAOvB,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAA+C,OAA7CT,EAAS,IAAIO,EAASC,KAAK,EAAED,EAASE,KAAK,EAAS1C,IAAS,KAAK,EAAEmC,EAAQhH,KAAK,UAAUqH,EAASE,KAAK,GAAG,MAAM,KAAK,EAAEF,EAASC,KAAK,EAAED,EAASG,GAAGH,EAAgB,MAAE,GAAGP,EAAS,qBAAqB,KAAK,GAAG,IAAI,MAAM,OAAOO,EAASI,UAAWN,EAAQ,KAAK,CAAC,CAAC,EAAE,UAA8Bb,MAAMvG,KAAKwG,WAE/iB,SAASmB,IAAga,OAA9YA,EAAgB7F,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASS,IAAW,OAAO/B,EAAoBtC,EAAE8D,MAAK,SAAmBQ,GAAW,OAAS,OAAOA,EAAUN,KAAKM,EAAUL,MAAM,KAAK,EAAET,EAAS,IAAI,IAAIE,EAAQhH,KAAK,eAAgB,MAAM6H,GAAUf,EAAS,6BAA8B,KAAK,EAAE,IAAI,MAAM,OAAOc,EAAUH,UAAWE,QAAqCrB,MAAMvG,KAAKwG,WAAY,SAASuB,IAAY,OAAOC,EAAWzB,MAAMvG,KAAKwG,WAEzgB,SAASwB,IAAqgB,OAAxfA,EAAWlG,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASc,IAAW,IAAIC,EAAWC,EAAO3B,UAAU,OAAOX,EAAoBtC,EAAE8D,MAAK,SAAmBe,GAAW,OAAS,OAAOA,EAAUb,KAAKa,EAAUZ,MAAM,KAAK,EAAEU,EAAWC,EAAOE,OAAO,QAAenG,IAAZiG,EAAO,GAAeA,EAAO,GAAG,WAAWpB,EAAS,IAAI,IAAIE,EAAQhH,KAAK,gBAAgBiI,GAAa,MAAMI,GAAUvB,EAAS,wBAAyB,KAAK,EAAE,IAAI,MAAM,OAAOqB,EAAUV,UAAWO,QAAgC1B,MAAMvG,KAAKwG,WAA2G,OARpWI,EAAU2B,UAQgR1B,EAR3P9C,EAAYU,OAQiR+D,UAAU,EAAE3B,EAAa4B,QAAQ,MAA0B3G,OAAOuB,EAAiB,IAAxBvB,CAA2BuB,EAAsB,SAAE,CAACO,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BiE,EAA2B,EAAE,CAACW,UAAU,+DAA+DgC,MAAM,CAACC,UAAU,SAAS/E,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,oBAAoB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BqE,EAAa,MAAmBrE,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,QAAQgC,MAAM,CAACE,SAAS,SAAShF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkE,EAA0B,EAAE,CAACpC,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkE,EAA0B,EAAE6C,KAAK,CAACjF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,mBAAmB9C,SAAS,cAAckD,GAAoBhF,OAAOuB,EAAiB,IAAxBvB,CAA2BmE,EAAuB,EAAE,CAAC6C,QAAQ,SAASlF,SAASkD,IAAqBhF,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,mBAAmB9C,SAAS,CAAC,WAAwB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,SAAS,CAAC8B,SAAS,CAAC,IAAIgD,EAAU2B,YAAY,OAAoBzG,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,yBAAyB9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACQ,UAAU,aAAaqC,QAAQ,WAAmB,OAAOhB,EAAU,aAAcnE,SAAS,wBAAqC9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACQ,UAAU,aAAaqC,QAAQ,WAAmB,OAAOhB,EAAU,iBAAkBnE,SAAS,4BAAyC9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACQ,UAAU,aAAaqC,QAAQ,WAAmB,OAAOhB,EAAU,WAAYnE,SAAS,sBAAmC9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACQ,UAAU,aAAaqC,QAAQ,WAAmB,OAAOhB,EAAU,aAAcnE,SAAS,kCAA+C9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAAC4C,QAAQ,UAAUpC,UAAU,QAAQqC,QAJ3iE,WAA0B,OAAOpB,EAAgBpB,MAAMvG,KAAKwG,YAIsgE5C,SAAS,qCAAkD9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,yBAAyB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAAC4C,QAAQ,OAAOC,QANx1F,WAAwB,OAAO7B,EAAcX,MAAMvG,KAAKwG,YAMqzF5C,SAAS,sBAE53F,IAAIoF,EAAO3I,EAAoB,KAM5B,SAAS4I,IAAiB,IAAIC,EAASpH,OAAOpB,EAAc,OAArBoB,GAAiDkD,EAAVvB,IAAiCuB,cAAkBnB,EAAU/B,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIgC,EAAWhC,OAAOP,EAA+B,EAAtCO,CAAyC+B,EAAU,GAAGiD,EAAMhD,EAAW,GAAGiD,EAASjD,EAAW,GAAOG,EAAWnC,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIoC,EAAWpC,OAAOP,EAA+B,EAAtCO,CAAyCmC,EAAW,GAAGkF,EAAQjF,EAAW,GAAGkF,EAAWlF,EAAW,GAAOmF,EAAWvH,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAOwH,EAAWxH,OAAOP,EAA+B,EAAtCO,CAAyCuH,EAAW,GAAGlF,EAAQmF,EAAW,GAAGlF,EAAWkF,EAAW,GAE1gB,SAASC,IAA4pB,OAA5oBA,EAAczH,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,EAAQoC,GAAG,OAAO3D,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAkG,OAAhGgC,EAAEC,iBAAiBnC,EAASC,KAAK,EAAE6B,EAAW,IAAIrC,EAAS,IAAI3C,GAAW,GAAMkD,EAASE,KAAK,EAASxC,EAAckE,EAASQ,QAAQnF,OAAO,KAAK,EAAE6E,EAAW,6CAA6C9B,EAASE,KAAK,GAAG,MAAM,KAAK,GAAGF,EAASC,KAAK,GAAGD,EAASG,GAAGH,EAAgB,MAAE,GAAGP,EAAS,4BAA4B,KAAK,GAAG3C,GAAW,GAAO,KAAK,GAAG,IAAI,MAAM,OAAOkD,EAASI,UAAWN,EAAQ,KAAK,CAAC,CAAC,EAAE,WAA+Bb,MAAMvG,KAAKwG,WAAY,OAAmB1E,OAAOuB,EAAiB,IAAxBvB,CAA2BuB,EAAsB,SAAE,CAACO,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BiE,EAA2B,EAAE,CAACW,UAAU,mDAAmDgC,MAAM,CAACC,UAAU,SAAS/E,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,QAAQgC,MAAM,CAACE,SAAS,SAAShF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkE,EAA0B,EAAE,CAACpC,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkE,EAA0B,EAAE6C,KAAK,CAACjF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,mBAAmB9C,SAAS,mBAAmBkD,GAAoBhF,OAAOuB,EAAiB,IAAxBvB,CAA2BmE,EAAuB,EAAE,CAAC6C,QAAQ,SAASlF,SAASkD,IAAQqC,GAAsBrH,OAAOuB,EAAiB,IAAxBvB,CAA2BmE,EAAuB,EAAE,CAAC6C,QAAQ,UAAUlF,SAASuF,IAAuBrH,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAE,CAACW,SAAzpD,SAAsBC,GAAI,OAAOL,EAAchD,MAAMvG,KAAKwG,YAAqnD5C,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAEa,MAAM,CAACC,GAAG,QAAQlG,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEe,MAAM,CAACnG,SAAS,UAAuB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEgB,QAAQ,CAACC,KAAK,QAAQ7G,IAAI8F,EAASgB,UAAS,OAAuBpI,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACiE,SAAShG,EAAQuC,UAAU,QAAQuD,KAAK,SAASrG,SAAS,sBAAmC9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,yBAAyB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAA+B,EAAE,CAACwE,GAAG,SAAS/B,SAAS,iBAA8B9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,yBAAyB9C,SAAS,CAAC,oBAAiC9B,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAA+B,EAAE,CAACwE,GAAG,UAAU/B,SAAS,sBAEzhF,IAAIwG,EAAiB/J,EAAoB,KAGrCgK,EAAShK,EAAoB,IAG7BiK,EAAiBjK,EAAoB,KAGrCkK,EAAWlK,EAAoB,KAM/BmK,GAHUnK,EAAoB,KAGVA,EAAoB,KAGxCoK,EAA4BpK,EAAoB,IAGhDqK,EAAKrK,EAAoB,IACzBsK,EAA0BtK,EAAoBO,EAAE8J,GASXE,GAA7BvK,EAAoB,KAAgC,WAAW,IAAIsD,EAAK7B,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,IAAU,IAAIyD,EAAWC,EAAMC,EAAMvE,UAAU,OAAOX,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EACogD,OADlgDqD,EAAWE,EAAM1C,OAAO,QAAcnG,IAAX6I,EAAM,GAAeA,EAAM,GAAG,OAC3YD,EAAM,CAAC,CAAChB,GAAGa,GAAAA,GAAeK,KAAKH,EAAWI,UAAU,oCAAoCC,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIC,MAAM,IAAMC,gBAAgB,IAAMC,cAAc,IAAMC,0BAA0B,EAAEC,IAAI,EAAEC,eAAc,EAAMC,QAAO,EAAMC,OAAM,EAAMC,UAAS,EAAKC,gBAAgB,EAAEC,OAAM,GAAO,CAAClC,GAAGa,GAAAA,GAAeK,KAAK,UAAUC,UAAU,mCAAmCC,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIC,MAAM,IAAMC,gBAAgB,IAAMC,cAAc,IAAMC,0BAA0B,EAAEC,IAAI,EAAEC,eAAc,EAAMC,QAAO,EAAMC,OAAM,EAAMC,UAAS,EAAKC,gBAAgB,EAAEC,OAAM,GAAM,CAAClC,GAAGa,GAAAA,GAAeK,KAAK,UAAUC,UAAU,kCAAkCC,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIC,MAAM,IAAMC,gBAAgB,IAAMC,cAAc,IAAMC,0BAA0B,EAAEC,IAAI,EAAEC,eAAc,EAAMC,QAAO,EAAMC,OAAM,EAAMC,UAAS,EAAKC,gBAAgB,EAAEC,OAAM,GAAM,CAAClC,GAAGa,GAAAA,GAAeK,KAAK,UAAUC,UAAU,qCAAqCC,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIC,MAAM,IAAMC,gBAAgB,IAAMC,cAAc,IAAMC,0BAA0B,EAAEC,IAAI,EAAEC,eAAc,EAAMC,QAAO,EAAMC,OAAM,EAAMC,UAAS,EAAKC,gBAAgB,EAAEC,OAAM,GAAM,CAAClC,GAAGa,GAAAA,GAAeK,KAAK,UAAUC,UAAU,qCAAqCC,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIC,MAAM,IAAMC,gBAAgB,IAAMC,cAAc,IAAMC,0BAA0B,EAAEC,IAAI,EAAEC,eAAc,EAAMC,QAAO,EAAMC,OAAM,EAAMC,UAAS,EAAKC,gBAAgB,EAAEC,OAAM,GAAM,CAAClC,GAAGa,GAAAA,GAAeK,KAAK,UAAUC,UAAU,qCAAqCC,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIC,MAAM,IAAMC,gBAAgB,IAAMC,cAAc,IAAMC,0BAA0B,EAAEC,IAAI,EAAEC,eAAc,EAAMC,QAAO,EAAMC,OAAM,EAAMC,UAAS,EAAKC,gBAAgB,EAAEC,OAAM,IAAc1E,EAAS2E,OAAO,SAASnB,GAAO,KAAK,EAAE,IAAI,MAAM,OAAOxD,EAASI,UAAWN,OAAa,OAAO,WAAqB,OAAOzD,EAAK4C,MAAMvG,KAAKwG,YADv6D,IAM5B0F,EAAoB,SAA6BC,EAAaC,EAAYC,EAAYC,GAAW,OAAOA,GAAW,IAAI,KAAM,OAAOH,EAAaC,GAAaC,EAAa,IAAI,OAAQ,OAAOF,EAAaC,GAAaC,EAAYA,EAAa,QAAQ,MAAME,MAAM,wDAElSC,EAA6B,SAASA,EAA6BC,GAAO,IAAIC,EAAUlG,UAAU6B,OAAO,QAAkBnG,IAAfsE,UAAU,IAAeA,UAAU,GAA4O,OAA/NkG,EAAkHA,IAAWD,EAAME,kBAAkBT,EAAoBO,EAAME,kBAAkB,EAAEF,EAAMG,QAAQvE,OAAO,OAA7MoE,EAAME,kBAAkBT,EAAoBO,EAAMI,WAAWC,IAAI,EAAEL,EAAMG,QAAQvE,OAAO,MAA+HoE,EAAMG,QAAQH,EAAME,mBAAmBf,QAA2G,IAA/Ca,EAAMG,QAAQH,EAAME,mBAAmBrB,MAApFkB,EAA6BC,GAAM,GAAoHA,GAE3kBM,EAAsC,SAASC,EAAuBP,GAAOA,EAAME,kBAAkBT,EAAoBO,EAAME,kBAAkB,EAAEF,EAAMG,QAAQvE,OAAO,MAAM,IAAI4E,EAAaR,EAAMG,QAAQH,EAAME,mBAAuBO,EAAyBT,EAAMU,iBAAiBV,EAAMW,kBAAkB,EAAE,OAA4B,IAAzBX,EAAMU,kBAAsBE,QAAQC,IAAI,iDAAwDC,GAA4BC,GAAqBC,GAAqChB,MAAaQ,EAAarB,QAAQyB,QAAQC,IAAI,gEAAuEN,EAAuBP,IAAWS,IAA2BD,EAAarB,QAAQqB,EAAatB,cAAsB4B,GAA4BC,GAAqBC,GAAqChB,KAAkC,IAArBQ,EAAa3B,MAAcmB,EAAMW,kBAAkBX,EAAMU,kBAAkBE,QAAQC,IAAI,2BAAkCC,GAA4BC,GAAqBC,GAAqChB,MAAkBS,GAA0BD,EAAapB,MAAc0B,GAA4BC,GAAqBC,GAAqChB,KAAsBO,EAAuBP,GAAYQ,EAAatB,eAAe0B,QAAQC,IAAI,uFAA8FI,GAA4BjB,IAAeA,GAIh5CkB,EAAe,SAASA,EAAelB,GAAOA,EAAMmB,YAAY1B,EAAoBO,EAAMmB,YAAY,EAAEnB,EAAMG,QAAQvE,OAAO,MAAM,IAAIwF,EAAWpB,EAAMG,QAAQH,EAAMmB,aAAa,OAAsB,IAAnBC,EAAWvC,MAAkBqC,EAAelB,GAAeqB,EAAgCrB,EAAMoB,EAAW7C,OAIlS8C,EAAgC,SAA0BrB,EAAMsB,GAAUtB,EAAMG,QAAQH,EAAMG,QAAQoB,QAAO,SAASC,GAAQ,OAAOA,EAAO3C,MAAM,KAAK,IAAI4C,EAAezB,EAAMG,QAAQuB,WAAU,SAASF,GAAQ,OAAOA,EAAOjD,OAAO+C,KAAoF,GAAxEtB,EAAMmB,YAAYM,EAAezB,EAAME,kBAAkBuB,EAAyC,IAAvBzB,EAAMG,QAAQvE,OACpV,OAAOoE,EAAY,GAA0B,IAAvBA,EAAMG,QAAQvE,OAAYoE,EAAMI,WAAWuB,MAAMF,EAAezB,EAAMI,WAAWC,IAAIZ,EAAoBgC,EAAe,EAAEzB,EAAMG,QAAQvE,OAAO,MAAMoE,EAAMG,QAAQyB,GAAa5B,EAAMG,QAAQ,CAAC0B,cAAc7B,EAAMI,WAAWC,IAAIyB,gBAAgB9B,EAAMI,WAAWuB,OAAO3B,EAAM+B,QAAQC,KAAI,SAASR,GAAQ,OAAOnM,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAGmM,GAAQ,GAAG,CAAC/C,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIE,gBAAgB0C,EAAO3C,MAAM2C,EAAOvC,IAAID,0BAA0B,EAAEE,eAAc,EAAMC,QAAO,EAAMC,OAAM,OAAWY,EAAMW,gBAAgB,EAAEX,EAAMiC,iBAAiB,EAAEjC,EAAMU,iBAAiBV,EAAMG,QAAQvE,WAAY,CAAC,IAAIsG,EAAcC,GAAsBV,EAAezB,EAAMG,QAAQvE,QAAQoE,EAAMI,WAAW,CAACC,IAAI6B,EAAcL,cAAcF,MAAMO,EAAcJ,iBAAiB9B,EAAMG,QAAQyB,GAAa5B,EAAMG,QAAQ+B,EAAclC,EAAM+B,QAAQC,KAAI,SAASR,GAAQ,OAAOnM,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAGmM,GAAQ,GAAG,CAAC/C,MAAM,GAAGC,aAAa,CAACC,KAAK,GAAGC,mBAAmB,IAAIE,gBAAgB0C,EAAO3C,MAAM2C,EAAOvC,IAAID,0BAA0B,EAAEE,eAAc,EAAMC,QAAO,EAAMC,OAAM,OAAWY,EAAMW,gBAAgB,EAAEX,EAAMiC,iBAAiB,EAAEjC,EAAMU,iBAAiBV,EAAMG,QAAQvE,OAAQ,OAAOwG,GAA6BpC,IAGv0CqC,EAA8B,SAAwBrC,GAAOA,EAAMsC,eAAe,GAAGtC,EAAMuC,SAAS,GAAGvC,EAAMwC,gBAAgB,GAAGxC,EAAMyC,iBAAiB,GAAGzC,EAAM0C,KAAKC,GAAaC,MAAgC5C,EAAM6C,QAAQ,GAAG7C,EAAM8C,cAAc,GAAG9C,EAAM+B,OAAO,GAE9Q,IAA8BgB,EAAlB/C,EAAMG,QAAqC6B,KAAI,SAASR,GAAQ,OAAOnM,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAGmM,GAAQ,GAAG,CAAC/C,MAAM+C,EAAO/C,MAAMuD,KAAI,SAASgB,YAA6C,OAA/BhD,EAAMG,QAAQ4C,EAAwB7B,EAAelB,IAEhRiD,EAAS,SAAkB9C,GAAS,OAAyE,IAAlEA,EAAQoB,QAAO,SAASC,GAAQ,OAAOA,EAAO3C,MAAM,KAAKjD,QAO/EsH,EAAmB,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAASC,EAAM,CAAC,QAAQ,QAAQ,OAAO,WACpIC,GAAU,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,GAAG,EAAEC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,IAE9DrB,GAA6B,WAA2B,IACWsB,EADPxB,EAAK,GACpEyB,EAAU9O,OAAO2I,EAA2C,EAAlD3I,CAAqD8N,GAAa,IAAI,IAAIgB,EAAUC,MAAMF,EAAMC,EAAUhQ,KAAKkQ,MAAM,CAAC,IAA6GC,EAAzGC,EAAKL,EAAMpM,MAAU0M,EAAWnP,OAAO2I,EAA2C,EAAlD3I,CAAqD6N,GAA2B,IAAI,IAAIsB,EAAWJ,MAAME,EAAOE,EAAWrQ,KAAKkQ,MAAM,CAAC,IAAIrB,EAAKsB,EAAOxM,MAAM4K,EAAKlP,KAAK,CAACiR,SAASzB,EAAKuB,KAAKA,EAAKzM,MAAMsL,GAAUJ,MAAU,MAAM0B,GAAKF,EAAWzH,EAAE2H,GAAM,QAAQF,EAAWG,MAAO,MAAMD,GAAKP,EAAUpH,EAAE2H,GAAM,QAAQP,EAAUQ,IAAK,OAAOjC,GAE9eC,GAAa,SAAsBD,GAAmE,IAA7D,IAAIkC,EAAa,IAAIC,MANhD,IAMyEC,EAAY,GAAWC,EAAE,EAAEA,EANpG,GAMoHA,IACzI,GAAO,KAAJA,EAAO,CACV,IAAIC,EAASJ,EAAalD,WAAU,SAASuD,GAAI,MAAkB,oBAAJA,KAAmBL,EAAaI,GAAUtC,EAAKqC,GAAGD,EAAYtR,KAAKwR,OAAe,CACpF,IAA7D,IAAIE,EAAkBC,GAAoB,EAAEC,IAAuBN,EAAYO,SAASH,IAAoBA,EAAkBC,GAAoB,EAAEC,IAAkBR,EAAaM,GAAmBxC,EAAKqC,GAAGD,EAAYtR,KAAK0R,GAAqB,OAAON,GAEpPxC,GAA6B,SAAyBpC,GAAOA,EAAMsF,YAAW,EACrF,IAD2F,IAAIC,EAAe,EACxGvF,EAAMG,QAAQH,EAAME,mBAAmBzB,MAAM7C,OAAO,GAAE,CAAC,IAAI4J,EAAUC,GAAsBzF,EAAM0C,KAAK,GAAGgD,EAAgBF,EAAUE,gBAAgBC,EAAYH,EAAUG,YAC/KA,EAAYJ,eAAeA,EAAeA,GAA8B,IAAI,IAAIK,EAAQvQ,OAAO0I,EAAmC,EAA1C1I,CAA6CqQ,GAAiB1F,EAAMG,QAAQH,EAAME,mBAAmBzB,MAAMjL,KAAKmS,GAAa3F,EAAM0C,KAAKkD,EAAQ5F,EAAME,kBAAkBT,EAAoBO,EAAME,kBAAkB,EAAEF,EAAMG,QAAQvE,OAAO,MAAO,GAAyD,IAAtDoE,EAAMG,QAAQH,EAAME,mBAAmBzB,MAAM7C,OACnW,OAD+WoE,EAAME,kBAAkBT,EAAoBO,EAAMI,WAAWC,IAAI,EAAEL,EAAMG,QAAQvE,OAAO,MAC9doE,EAAM6F,MAAM,WAAkB7F,GAEvBmF,GAAoB,SAA6BW,EAAIC,GAA4C,OAAvCD,EAAIE,KAAKC,KAAKH,GAAKC,EAAIC,KAAKE,MAAMH,GAAYC,KAAKE,MAAMF,KAAKG,UAAUJ,EAAID,EAAI,IAAIA,GAE9IL,GAAsB,SAAkB/C,EAAK0D,GACpD,IAA2ET,EAAvED,EAAgBrQ,OAAO0I,EAAmC,EAA1C1I,CAA6CqN,GAAsB,GAAc,IAAX0D,EAC1FT,EAAYD,EAAgBW,UAAW,CACvCV,EAAY,GAAG,IAAI,IAAIZ,EAAE,EAAEA,EAAEqB,EAASrB,IAAKY,EAAYnS,KAAKkS,EAAgBW,OAAS,MAAM,CAACX,gBAAgBA,EAAgBC,YAAYA,IAajI3E,GAAqC,SAAiChB,GAC7E,IAAIsG,EAAW,EAAEtG,EAAMsC,eAAe1G,OAAO,GAAG0K,GAAY,EAAE,CAAC,IAA6QC,EAAzQhB,EAAe,EAAMiB,EAAkBC,GAA8BzG,EAAM0C,KAAK4D,GAAYZ,EAAgBc,EAAkBd,gBAAgBC,EAAYa,EAAkBb,YAAgBe,EAAWrR,OAAO2I,EAA2C,EAAlD3I,CAAqDsQ,GAAoB,IAAI,IAAIe,EAAWtC,MAAMmC,EAAOG,EAAWvS,KAAKkQ,MAAM,CAAC,IAAIrB,EAAKuD,EAAOzO,MAAMkL,EAAKuC,eAAeA,EAAeA,GAA8B,IAAIvF,EAAMsC,eAAe9O,KAAKwP,IAAQ,MAAM0B,GAAKgC,EAAW3J,EAAE2H,GAAM,QAAQgC,EAAW/B,IAAK3E,EAAM0C,KAAKgD,EACjjB,OAAvB1F,EAAM6F,MAAM,WAAkB7F,GAEvBc,GAA4B,SAAwBd,GAC3D,IAAmF2G,EAA/EC,EAAWvR,OAAO2I,EAA2C,EAAlD3I,CAAqD2K,EAAMG,SAAgB,IAAI,IAAI0G,EAAM,WAAiB,IAAIrF,EAAOmF,EAAO7O,MAAUgP,EAAmB,GAAOC,EAAc,GAC7LvF,EAAO9C,aAAaC,KAAK6C,EAAO/C,MAAMuI,OAAOhH,EAAMsC,gBAAgBd,EAAO9C,aAAaE,mBAAmB4C,EAAO9C,aAAaC,KAAKqD,KAAI,SAASiD,GAAI,OAAOA,KAAMgC,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOA,EAAEpP,MAAMhB,EAAEgB,SACrM0J,EAAO9C,aAAaE,mBAAmBuI,SAAQ,SAASnE,GAAM8D,EAAmB9D,EAAKyB,UAAUqC,EAAmB9D,EAAKyB,UAAU,GAAG,EAAEsC,EAAc/D,EAAKuB,MAAMwC,EAAc/D,EAAKuB,MAAM,GAAG,KAAK/C,EAAOsF,mBAAmBA,EAAmBtF,EAAOuF,cAAcA,EAAc,IAAIK,EAASC,GAAiB7F,EAAO9C,aAAaE,oBAC/T0I,EAAcC,GAAaR,GAAeS,EAAQF,EAAcE,QAAQC,EAAYH,EAAcG,YAAgBC,EAAWF,GAAShG,EAAO9C,aAAaE,mBAAmB2C,QAAO,SAASyB,GAAM,OAAOA,EAAKuB,OAAOkD,KAAmBE,EAAaH,GAASI,GAAkBF,GAAgBxQ,EAAKsQ,GAASK,GAAqBH,GAAYI,EAAgB5Q,EAAK4Q,gBAAgBC,EAAmB7Q,EAAK6Q,mBAAmBC,EAAuB9Q,EAAK8Q,uBAAuBC,EAA0B/Q,EAAK+Q,0BAA8BC,EAAiBC,GAA6Bf,GAAUgB,EAAWF,EAAiBE,WAAWC,EAAcH,EAAiBG,cAAcC,EAAqBJ,EAAiBI,qBAAqBC,EAAwBL,EAAiBK,wBAA4BC,EAAsBC,GAAwBjH,EAAO9C,aAAaE,mBAAmBkI,GAAoB4B,EAAcF,EAAsBE,cAAcC,EAAYH,EAAsBG,YAAYC,EAAeJ,EAAsBI,eAAeC,EAAUL,EAAsBK,UAAUC,EAAON,EAAsBM,OAAOC,EAA2BP,EAAsBO,2BAA+BC,GAAUrB,IAAeG,IAAkBY,IAAgBC,IAAcnB,IAAUY,IAAaQ,IAAiBC,IAAYC,EACxzCtH,EAAO9C,aAAauK,MAAM,CAACtB,aAAaA,EAAaG,gBAAgBA,EAAgBY,cAAcA,EAAcC,YAAYA,EAAYnB,QAAQA,EAAQY,WAAWA,EAAWQ,eAAeA,EAAeC,UAAUA,EAAUC,OAAOA,EAAOE,SAASA,GAAUxH,EAAO9C,aAAawK,kBAAkB,CAAC,CAAC3K,KAAK,cAAc4K,MAAMxB,GAAc,CAACpJ,KAAK,iBAAiB4K,MAAMrB,GAAiB,CAACvJ,KAAK,iBAAiB4K,MAAMT,GAAe,CAACnK,KAAK,aAAa4K,MAAMR,GAAa,CAACpK,KAAK,QAAQ4K,MAAM3B,GAAS,CAACjJ,KAAK,WAAW4K,MAAMf,GAAY,CAAC7J,KAAK,kBAAkB4K,MAAMP,GAAgB,CAACrK,KAAK,WAAW4K,MAAMN,GAAW,CAACtK,KAAK,OAAO4K,MAAML,GAAQ,CAACvK,KAAK,UAAU4K,MAAMH,IAAWxH,EAAO4H,SAASL,EAC7qB,IAAIM,EAAiB7H,EAAO9C,aAAawK,kBAAkBxH,WAAU,SAASuD,GAAI,OAAkB,IAAXA,EAAGkE,SAAgB3H,EAAO9C,aAAa4K,aAAa9H,EAAO9C,aAAawK,kBAAkBG,GAAkB9K,KAAKiD,EAAO9C,aAAa6K,SAASC,GAA0BhI,EAAO9C,aAAaE,mBAAmB4C,EAAO9C,aAAa4K,aAAa7B,EAAYC,EAAWY,EAAqBC,EAAwBF,EAAcN,EAAmBC,EAAuBC,EAA0Bc,IAA8B,IAAInC,EAAWxC,MAAMuC,EAAOC,EAAWzS,KAAKkQ,MAAOwC,IAAU,MAAMnC,GAAKkC,EAAW7J,EAAE2H,GAAM,QAAQkC,EAAWjC,IAAK,OAAO8E,GAA4BzJ,IAE5oByG,GAA8B,SAA0B/D,EAAKgH,GACpE,IAA2E/D,EAAvED,EAAgBrQ,OAAO0I,EAAmC,EAA1C1I,CAA6CqN,GACjE,GAAc,IAAXgH,EAAc/D,EAAY,CAACD,EAAgBW,WAAY,CAC1DV,EAAY,GAAG,IAAI,IAAIZ,EAAE,EAAEA,EAAE2E,EAAS3E,IAAKY,EAAYnS,KAAKkS,EAAgBW,OAAS,MAAM,CAACX,gBAAgBA,EAAgBC,YAAYA,IAEjI6D,GAA0B,SAAsB7K,EAAKgL,EAASlC,EAAYC,EAAWY,EAAqBC,EAAwBF,EAAcN,EAAmBC,EAAuBC,EAA0Bc,GAC3N,OAAOY,GACP,IAAI,cAAe,OAAOjC,EAAWkC,MAAM,EAAE,GAC7C,IAAI,iBAAkB,OAAG7B,GAAoBC,EAAuBpM,OAAO,GAAGqM,EAA0B,GAAG,GAAUA,EAA0B4B,QAAO,SAASC,EAAIC,EAAIC,GAA2G,OAAjGA,EAAM,GAAGF,EAAItW,KAAKkU,EAAWA,EAAWhG,WAAU,SAASyH,GAAO,OAAOA,EAAMrR,QAAQiS,OAAiBD,IAAM,IAAIG,WAAuBjC,EAAuB6B,QAAO,SAASC,EAAIC,EAAIC,GAA2G,OAAjGA,EAAM,GAAGF,EAAItW,KAAKkU,EAAWA,EAAWhG,WAAU,SAASyH,GAAO,OAAOA,EAAMrR,QAAQiS,OAAiBD,IAAM,IACje,IAAI,iBAAyW,IAAvV,IAAIP,EAAS,GAAOW,EAAY7U,OAAOuI,EAAkB,UAAzBvI,CAA4BsJ,GAAUwL,EAAO,SAAgBpF,GAAG,IAAIqF,EAAYF,EAAYxI,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2BsB,MAAM,GAAGC,QAAQf,EAAS/V,KAAK0W,EAAYE,IAAcF,EAAYA,EAAY3I,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQI,MAAyBrF,EAAE,EAAEA,EAAE,EAAEA,IAAKoF,IAAW,OAAOZ,EAASvC,OAAOkD,EAAYN,MAAM,EAAE,IACxb,IAAI,aAAc,IAAIW,EAAU,GAAOC,EAAanV,OAAOuI,EAAkB,UAAzBvI,CAA4BsJ,GAAM,GAAGoK,EAA2B0B,SAAS7O,OAAO,EAAE,CAAwS,IAAvS,IAAI8O,EAAO,SAAgBC,GAAI,IAAIC,EAAeJ,EAAa9I,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2B0B,SAAS,GAAGH,QAAQC,EAAU/W,KAAKgX,EAAaI,IAAiBJ,EAAaA,EAAajJ,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQY,MAA4BD,EAAG,EAAEA,EAAG,EAAEA,IAAMD,IAA2S,IAA/R,IAAIG,EAAO,SAAgBC,GAAK,IAAIC,EAAYP,EAAa9I,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2B0B,SAAS,GAAGH,QAAQC,EAAU/W,KAAKgX,EAAaO,IAAcP,EAAaA,EAAajJ,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQe,MAAyBD,EAAI,EAAEA,EAAI,EAAEA,IAAOD,IAAa,OAAON,EAAwT,IAAxS,IAAIS,EAAO,SAAgBC,GAAK,IAAIL,EAAeJ,EAAa9I,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2B0B,SAAS,GAAGH,QAAQC,EAAU/W,KAAKgX,EAAaI,IAAiBJ,EAAaA,EAAajJ,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQY,MAA4BK,EAAI,EAAEA,EAAI,EAAEA,IAAOD,IAAyS,IAA5R,IAAIE,EAAO,SAAgBC,GAAK,IAAIJ,EAAYP,EAAa9I,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2BqC,MAAM,GAAGd,QAAQC,EAAU/W,KAAKgX,EAAaO,IAAcP,EAAaA,EAAajJ,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQe,MAAyBI,EAAI,EAAEA,EAAI,EAAEA,IAAOD,IAAa,OAAOX,EAC38C,IAAI,QAAS,OAAO7C,EAAWkC,MAAM,EAAE,GACvC,IAAI,WAAY,OAAGvB,GAAeC,EAAqB1M,OAAO,GAAG2M,EAAwB,GAAG,GAAUA,EAAwBsB,QAAO,SAASC,EAAIC,EAAIC,GAA+F,OAArFA,EAAM,GAAGF,EAAItW,KAAKmL,EAAKA,EAAK+C,WAAU,SAASyH,GAAO,OAAOA,EAAMrR,QAAQiS,OAAiBD,IAAM,IAAIG,WAAuB3B,EAAqBuB,QAAO,SAASC,EAAIC,EAAIC,GAA+F,OAArFA,EAAM,GAAGF,EAAItW,KAAKmL,EAAKA,EAAK+C,WAAU,SAASyH,GAAO,OAAOA,EAAMrR,QAAQiS,OAAiBD,IAAM,IACtb,IAAI,kBAAsY,IAAnX,IAAIuB,EAAW,GAAOC,EAAcjW,OAAOuI,EAAkB,UAAzBvI,CAA4BsJ,GAAU4M,EAAO,SAAgBC,GAAK,IAAIZ,EAAeU,EAAc5J,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2B0B,SAAS,GAAGH,QAAQe,EAAW7X,KAAK8X,EAAcV,IAAiBU,EAAcA,EAAc/J,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQY,MAA4BY,EAAI,EAAEA,EAAI,EAAEA,IAAOD,IAAa,OAAOF,EAAWrE,OAAOsE,EAAc1B,MAAM,EAAE,IACje,IAAI,WAAmX,IAAvW,IAAI6B,EAAW,GAAOC,EAAcrW,OAAOuI,EAAkB,UAAzBvI,CAA4BsJ,GAAUgN,EAAO,SAAgBC,GAAK,IAAIb,EAAYW,EAAchK,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2BqC,MAAM,GAAGd,QAAQmB,EAAWjY,KAAKkY,EAAcX,IAAcW,EAAcA,EAAcnK,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQe,MAAyBa,EAAI,EAAEA,EAAI,EAAEA,IAAOD,IAA8S,IAAjS,IAAIE,EAAO,SAAgBC,GAAK,IAAIf,EAAYW,EAAchK,WAAU,SAASyH,GAAO,OAAOA,EAAM1E,WAAWsE,EAA2BqC,MAAM,GAAGd,QAAQmB,EAAWjY,KAAKkY,EAAcX,IAAcW,EAAcA,EAAcnK,QAAO,SAAS4H,EAAMa,GAAO,OAAOA,IAAQe,MAAyBe,EAAI,EAAEA,EAAI,EAAEA,IAAOD,IAAa,OAAOJ,EAAWzE,OAAO0E,EAAc9B,MAAM,EAAE,IACvxB,IAAI,OACgI,IADxH,IAAImC,EAAW,GAAOC,EAAc3W,OAAOuI,EAAkB,UAAzBvI,CAA4BsJ,GAAUsN,EAAQ,SAAiBC,GAAK,IAAInB,EAAYiB,EAActK,WAAU,SAASsB,GAAM,OAAOA,EAAKyB,WAAWsE,EAA2BqC,MAAM,GAAGd,QACtOyB,EAAWvY,KAAKwY,EAAcjB,IAAciB,EAAcA,EAAczK,QAAO,SAASyB,EAAKgH,GAAO,OAAOA,IAAQe,MAAyBmB,EAAI,EAAEA,EAAI,EAAEA,IAAOD,IAAc,OAAOF,EAAW/E,OAAOgF,EAAcpC,MAAM,EAAE,IAC5N,IAAI,UAAW,OAAOjL,EAAKiL,MAAM,EAAE,GAAI,QAAQ,MAAM9J,MAAM,yDAQpDqM,GAAiC,SAA6BnM,GACrE,IAAIoM,EAAcpM,EAAMG,QAAQoB,QAAO,SAASC,GAAQ,OAAOA,EAAOrC,UAAckN,EAAU,GAC1FC,EAAQ,IAAIC,IAAI,CAAC,CAAC,cAAc,IAAI,CAAC,iBAAiB,IAAI,CAAC,iBAAiB,IAAI,CAAC,aAAa,IAAI,CAAC,QAAQ,IAAI,CAAC,WAAW,IAAI,CAAC,kBAAkB,IAAI,CAAC,WAAW,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU,MACjMH,EAAcjF,SAAQ,SAAS3F,EAAOgL,GAAa,IAAIjO,EAAKiD,EAAOjD,KAAKkO,EAAqBjL,EAAO9C,aAAa4K,EAAamD,EAAqBnD,aAAaC,EAASkD,EAAqBlD,SAAS+C,EAAQI,IAAIpD,GAAc9V,KAAK,CAAC+K,KAAKA,EAAKgL,SAASA,EAASiD,YAAYA,OAAiB,IAA6EG,EAAzEC,EAAWvX,OAAO2I,EAA2C,EAAlD3I,CAAqDiX,GAAgB,IAAI,IAAIO,EAAQ,WAAmB,IAAIC,EAAazX,OAAOP,EAA+B,EAAtCO,CAAyCsX,EAAO7U,MAAM,GAAGiV,EAASD,EAAa,GAAGE,EAAuBF,EAAa,GAAG,GAAGE,EAAuBpR,OAAO,EAAE,CACpkB,GAAc,gBAAXmR,EAAyB,CAAC,IAAIE,EAAgCD,EAAuBhL,KAAI,SAASR,GAAQ,MAAM,CAACjD,KAAKiD,EAAOjD,KAAKgL,SAAS/H,EAAO+H,SAASwD,SAASA,MAAyE,OAA5DV,EAAUA,EAAUrF,OAAOiG,GAAuC,WACtP,GAAmC,IAAhCD,EAAuBpR,OAAW,CAAC,IAAIsR,EAAsBF,EAAuB,GAAGzO,EAAK2O,EAAsB3O,KAAKgL,EAAS2D,EAAsB3D,SAAS8C,EAAUA,EAAUrF,OAAO,CAAC,CAACzI,KAAKA,EAAKgL,SAASA,EAASwD,SAASA,UAC9N,GAAGC,EAAuBpR,OAAO,EAAE,CAAC,IAAoLuR,EAZzL,SAAuCC,EAAiBL,GAAU,IAAII,EAAgB,GAAOE,EAAe,GAAOC,EAAkB,SAASA,EAAkBC,GAAY,IAAIC,EAAMzT,UAAU6B,OAAO,QAAkBnG,IAAfsE,UAAU,GAAeA,UAAU,GAAG,EAAE,GAA0B,IAAvBwT,EAAW,GAAG3R,OAAjB,CAA6N,IAAI6R,EAAqBL,EAAiBpL,KAAI,SAASiD,GAAI,OAAOA,KAAUyI,EAAMH,EAAWC,GAAWG,EAAqBC,GAAoBF,GAAOG,EAAaF,EAAqBE,aAAaC,EAAYH,EAAqBG,YAC5tB,GAAGA,EAAYlS,OAAO,EAAE,CAAC,IAAImS,EAAoBN,EAAqBzL,KAAI,SAAS0L,GAAO,OAAOA,EAAMnM,QAAO,SAASyM,GAAU,OAAOF,EAAYG,MAAK,SAASC,GAAqB,OAAOA,EAAoB3P,OAAOyP,EAASzP,cAClO8O,EAAe,CAACU,GAAqB/G,OAAOqG,GAC5C,GAAyB,IAAtBQ,EAAajS,OAAW,CAAC,IAAIuS,EAAeN,EAAa,GAAGO,EAAMD,EAAe5P,KAAK8P,EAAWF,EAAe5E,SAAS4D,EAAgBA,EAAgBnG,OAAO,CAAC,CAACzI,KAAK6P,EAAM7E,SAAS8E,EAAWtB,SAASA,UACvM,GAAGS,IAAQJ,EAAiBxR,OAAO,EAAE,CAAC,IAAI0S,EAAwBT,EAAa7L,KAAI,SAASgM,GAAU,MAAM,CAACzP,KAAKyP,EAASzP,KAAKgL,SAASyE,EAASzE,SAASwD,SAASA,MAAaI,EAAgBA,EAAgBnG,OAAO,CAACsH,QAA+B,CAA0NhB,EAAhMG,EAAqBzL,KAAI,SAAS0L,GAAO,OAAOA,EAAMnM,QAAO,SAASyM,GAAU,OAAOH,EAAaI,MAAK,SAASC,GAAqB,OAAOA,EAAoB3P,OAAOyP,EAASzP,cAAqDiP,EAAM,QAJ9O,CAA6B,IAAIe,EAAehB,EAAW,GAAG,GAAGhP,EAAKgQ,EAAehQ,KAAKgL,EAASgF,EAAehF,SAAS4D,EAAgBA,EAAgBnG,OAAO,CAAC,CAACzI,KAAKA,EAAKgL,SAASA,EAASwD,SAASA,OAIoa,OAA9EO,EAAkBF,GAA/R,SAASoB,EAA0BC,GAAqB,GAAGpB,EAAezR,OAAO,EAAE,CAAC,IAAI8S,EAAyBD,EAAoB,GAAGpB,EAAeoB,EAAoB7E,MAAM,GAAG0D,EAAkBoB,GAA0BF,EAA0BnB,IAAuDmB,CAA0BnB,GAAuBF,EAQ7pBwB,CAA/KC,GAAyB7B,EAASC,GAAwBhL,KAAI,SAASgM,GAAU,OAAOA,EAAS/G,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOA,EAAElE,KAAKlL,MAAMhB,EAAEkM,KAAKlL,YAA+EiV,GAAUV,EAAUA,EAAUrF,OAAOmG,MAAqB,IAAIP,EAAWxI,MAAMuI,EAAOC,EAAWzY,KAAKkQ,MAAgBwI,IAA0C,MAAMnI,GAAKkI,EAAW7P,EAAE2H,GAAM,QAAQkI,EAAWjI,IAAK,OAAO0H,GAEnfwC,GAA8B,SAA0B7O,EAAM8O,GACrE,IAAwRC,EAApRzC,EAAQ,IAAIC,IAAI,CAAC,CAAC,cAAc,IAAI,CAAC,iBAAiB,IAAI,CAAC,iBAAiB,IAAI,CAAC,aAAa,IAAI,CAAC,QAAQ,IAAI,CAAC,WAAW,IAAI,CAAC,kBAAkB,IAAI,CAAC,WAAW,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU,MAAUyC,EAAW3Z,OAAO2I,EAA2C,EAAlD3I,CAAqDyZ,GAAoB,IAAI,IAAIG,EAAQ,WAAmB,IAAIC,EAAWH,EAAOjX,MAAU0U,EAAYxM,EAAMG,QAAQuB,WAAU,SAASF,GAAQ,OAAOA,EAAOjD,OAAO2Q,KAAkB1N,EAAOxB,EAAMG,QAAQqM,GAC/chL,EAAOrC,QACXmN,EAAQI,IAAIlL,EAAO9C,aAAa4K,cAAc9V,KAAK,CAAC+K,KAAKiD,EAAOjD,KAAKiO,YAAYA,EAAYjD,SAAS/H,EAAO9C,aAAa6K,YAAc,IAAIyF,EAAW5K,MAAM2K,EAAOC,EAAW7a,KAAKkQ,MAAO4K,IAAY,MAAMvK,GAAKsK,EAAWjS,EAAE2H,GAAM,QAAQsK,EAAWrK,IAAK,OAAO2H,GAE7PsB,GAAoB,SAA6BF,GAAO,IAAIyB,EAAUzB,EAAM,GAAG1K,KAAKlL,MAAyL,MAAM,CAAC+V,aAAzKH,EAAMnM,QAAO,SAASyM,GAAU,OAAOA,EAAShL,KAAKlL,QAAQqX,KAAsIrB,YAAzGJ,EAAMnM,QAAO,SAASyM,GAAU,OAAOA,EAAShL,KAAKlL,MAAMqX,OAEhQC,GAAe,SAAwBpP,EAAMsM,EAAQ+C,GAAO,IAAIC,GAAY,EAM4E,OAL/JhD,EAAQnF,SAAQ,SAAS2H,EAAYS,EAAKvN,GAAK,IAAIsN,EACnD,GAAwB,IAArBR,EAAYlT,OAAY0T,GAAY,EAAK1O,QAAQC,IAAI,WAAWiO,EAAY,GAAGvQ,KAAK,yCAAyCgR,GAAMvP,EAAMwP,GAAYxP,EAAM8O,EAAYO,EAAME,QAC1K,GAAGT,EAAYlT,OAAO,EAAE,CAACgF,QAAQC,IAAIiO,GAAaQ,GAAY,EACpE,IAAIG,EAAQC,GAAed,GAAyBW,EAAKT,GAAaS,GAClD,IAAjBE,EAAQ7T,QAAYgF,QAAQC,IAAI,WAAW4O,EAAQ,GAAGlR,KAAK,yCAAyCgR,GAAMvP,EAAMwP,GAAYxP,EAAMyP,EAAQJ,EAAME,KAC7I3O,QAAQC,IAAI,wCAAwC4O,EAAQ,qCAAqCF,GAAMvP,EAAMwP,GAAYxP,EAAMyP,EAAQJ,EAAME,QAAmBvP,GAE/JyJ,GAA4B,SAAwBzJ,GAC3DA,EAAMwC,gBAAgB2J,GAAiCnM,GAAOY,QAAQC,IAAI,yCAAyCD,QAAQC,IAAIb,EAAMwC,iBACrI,IAAoFmN,EAAhFC,EAAWva,OAAO2I,EAA2C,EAAlD3I,CAAqD2K,EAAMuC,UAAiB,IAAI,IAAIqN,EAAWxL,MAAMuL,EAAOC,EAAWzb,KAAKkQ,MAAM,CAAC,IAAIwL,EAAQF,EAAO7X,MAAUwU,EAAQuC,GAA8B7O,EAAM6P,EAAQf,aAAa9O,EAAMoP,GAAepP,EAAMsM,EAAQuD,EAAQC,WAAY,MAAMpL,GAAKkL,EAAW7S,EAAE2H,GAAM,QAAQkL,EAAWjL,IAA8L,OAAzL3E,EAAMG,QAAQH,EAAMG,QAAQ6B,KAAI,SAASR,GAAQ,OAAOnM,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAGmM,GAAQ,GAAG,CAACzC,cAAcyC,EAAO3C,WAAkBmB,GAEthBwP,GAAY,SAAqBxP,EAAMyP,EAAQJ,EAAME,GAC5D,GAAoB,IAAjBE,EAAQ7T,OAAYoE,EAAMyC,iBAAiBzC,EAAMyC,iBAAiBuE,OAAO,CAAC,CAAC3I,MAAM,CAACoR,EAAQ,GAAGlR,MAAM8Q,MAAMA,EAAME,KAAKA,KAAQ3O,QAAQC,IAAI,gBAAgBwO,EAAM,aAAaI,EAAQ,GAAGlR,MAAMyB,EAAMG,QAAQsP,EAAQ,GAAGjD,aAAa3N,OAAOwQ,EAAMrP,EAAM+P,KAAKV,OACvP,GAAGI,EAAQ7T,OAAO,EAAE,CAAC,IAAIoU,EAASX,EAAMI,EAAQ7T,OAAWqU,EAASjK,KAAKE,MAAMmJ,EAAMI,EAAQ7T,QAAQgF,QAAQC,IAAI,8BAA8BwO,EAAM,eAAeI,EAAQ7T,OAAO,iCAAiCoU,GAAUhQ,EAAMyC,iBAAiBzC,EAAMyC,iBAAiBuE,OAAO,CAAC,CAAC3I,MAAMoR,EAAQzN,KAAI,SAASkO,GAAQ,OAAOA,EAAO3R,QAAQ8Q,MAAMY,EAASV,KAAKA,KAAQE,EAAQtI,SAAQ,SAAS+I,GAAQlQ,EAAMG,QAAQ+P,EAAO1D,aAAa3N,OAAOoR,EAASjQ,EAAM+P,KAAKE,KAAa,OAAOjQ,GAE3d4O,GAAyB,SAAkCW,EAAKY,GAAY,IAAI5C,EAAW,OAAOgC,GACzG,IAAI,cAAehC,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAIuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAOuD,EAAW/Z,KAAK,CAC3H+K,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAc,MAC/G,IAAI,iBAAkBgE,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAG,WAAW,OAAOiJ,MAAMuL,KAAK,CAACxU,OAAO,OAAOuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAOuD,EAAW,GAAG/Z,KAAK,CAC5KwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAc,MAClJ,IAAI,aAAcgE,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAG,WAAW,OAAOiJ,MAAMuL,KAAK,CAACxU,OAAO,OAAOuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAOuD,EAAW,GAAG/Z,KAAK,CACxKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAc,MAElJ,IAAI,QAAQ,IAAI,UAAWgE,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAG,WAAW,OAAOiJ,MAAMuL,KAAK,CAACxU,OAAO,OAAOuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAO,IAAI,IAAIjF,EAAE,EAAEA,EAAE,EAAEA,IAAKwI,EAAWxI,GAAGvR,KAAK,CACtMwP,KAAKmN,EAAWnG,GAAOT,SAASxE,GAAGxG,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAe,MACnJ,IAAI,kBAAmBgE,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAG,WAAW,OAAOiJ,MAAMuL,KAAK,CAACxU,OAAO,OAAOuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAOuD,EAAW,GAAG/Z,KAAK,CAC7KwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAc,MAElJ,IAAI,WAAW,IAAI,iBAAkBgE,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAG,WAAW,OAAOiJ,MAAMuL,KAAK,CAACxU,OAAO,OAAOuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAOuD,EAAW,GAAG/Z,KAAK,CAC3LwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAc,MAClJ,IAAI,WAAYgE,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAG,WAAW,OAAOiJ,MAAMuL,KAAK,CAACxU,OAAO,OAAOuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAOuD,EAAW,GAAG/Z,KAAK,CACtKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAc,MAClJ,IAAI,OAAQgE,EAAW1I,MAAMuL,KAAK,CAACxU,OAAO,IAAG,WAAW,OAAOiJ,MAAMuL,KAAK,CAACxU,OAAO,OAAOuU,EAAWhJ,SAAQ,SAASkJ,EAAmBrG,GAAOuD,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,WAAWgE,EAAW,GAAG/Z,KAAK,CAClKwP,KAAKmN,EAAWnG,GAAOT,SAAS,GAAGhL,KAAK4R,EAAWnG,GAAOzL,KAAKiO,YAAY2D,EAAWnG,GAAOwC,YAAYjD,SAAS4G,EAAWnG,GAAOT,cAAc,MAAO,QAAQ,MAAMzJ,MAAM,mEAAoE,OAAOyN,GAEjPmC,GAAe,SAAwBnC,EAAWgC,GAAM,IAAIE,EAAQ,GAAU,gBAAPF,EAAqB,OAAOhC,EAGgO,IAHrN,IAAI+C,EAAQ,SAAiBvL,GAAG,IAAIoK,EAAU,EAAMoB,EAAO,GAGrG,GAAoB,KAF/Fd,EAAQlC,EAAWxI,GAAGkC,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOA,EAAElE,KAAKlL,MAAMhB,EAAEkM,KAAKlL,SAAS+R,QAAO,SAASC,EAAIC,EAAIC,GACrG,OAAGD,EAAI/G,KAAKlL,MAAMqX,GAAWA,EAAUpF,EAAI/G,KAAKlL,MAAMgS,EAAItW,KAAK,CAAC+K,KAAKwL,EAAIxL,KAAKiO,YAAYzC,EAAIyC,cAAqB1C,GAAaC,EAAI/G,KAAKlL,QAAQqX,GAAWrF,EAAItW,KAAK,CAAC+K,KAAKwL,EAAIxL,KAAKiO,YAAYzC,EAAIyC,cAAqB1C,GAChNC,EAAI/G,KAAKlL,MAAMqX,GAAWoB,EAAO/c,KAAKuW,EAAIxL,MAAauL,QAA1D,IAAiE,KAAelO,QAAYmJ,IAAIwI,EAAW3R,OAAQ,MAAM,CAAC4U,EAAEf,GAAkBc,EAAO3U,QAAQ,GAAG2U,EAAOpJ,SAAQ,SAASsJ,GAAelD,EAAWA,EAAWvL,KAAI,SAASgM,GAAU,OAAOA,EAASzM,QAAO,SAAS0D,GAAI,OAAOA,EAAG1G,OAAOkS,YAAmC1L,EAAE,EAAEA,EAAEwI,EAAW3R,OAAOmJ,IAAI,CAAC,IAAI2L,EAAMJ,EAAQvL,GAAG,GAAkB,kBAAR2L,EAAiB,OAAOA,EAAMF,EAAG,OAAOf,GAE/alI,GAAa,SAAsBR,GAC1C,IAAI,IAAIxC,KAAQwC,EAAe,GAAGA,EAAcxC,IAAO,EAAG,MAAM,CAACiD,SAAQ,EAAKC,YAAYlD,GAAQ,MAAM,CAACiD,SAAQ,EAAMC,YAAY,OAE5HG,GAAkB,SAA2B+I,GACpD,OAA8B,KAA3BA,EAAgB,GAAG7Y,OAAuC,KAA3B6Y,EAAgB,GAAG7Y,OAAuC,KAA3B6Y,EAAgB,GAAG7Y,OAAuC,KAA3B6Y,EAAgB,GAAG7Y,OAAuC,KAA3B6Y,EAAgB,GAAG7Y,OAE3IqQ,GAA6B,SAAyBf,GAC7D,GAAGA,EAASxL,OAAO,EAAE,OAAO,EAC5B,IADkC,IAAIgV,EAAmB,EAAMtI,EAAqB,GAC5EvD,EAAE,EAAEA,EAAEqC,EAASxL,OAAOmJ,IAAI,CAAC,GAAwB,IAArB6L,EAAwB,MAAM,CAACxI,YAAW,EAAKE,qBAAqBA,GAA0BlB,EAASrC,GAAGqC,EAASrC,EAAE,MAAM,EAA2B,IAArB6L,GAAwBA,EAAmB,EAAEtI,EAAqB9U,KAAK4T,EAASrC,EAAE,IAAIuD,EAAqB9U,KAAK4T,EAASrC,MAAU6L,IAAqBtI,EAAqB9U,KAAK4T,EAASrC,MAAW6L,EAAmB,EAAEtI,EAAqB,IAAK,GAAGsI,GAAoB,EAAG,MAAM,CAACxI,YAAW,EAAKE,qBAAqBA,GACle,GAAiB,KAAdlB,EAAS,GAAQ,CAAC,IAAIyJ,EAAsBC,GAAqBzb,OAAOuI,EAAkB,UAAzBvI,CAA4B+R,IAAWiB,EAAcwI,EAAsBxI,cAAcE,EAAwBsI,EAAsBtI,wBAAwB,GAAGF,EAAc,MAAM,CAACD,YAAW,EAAKC,cAAcA,EAAcC,qBAAqBA,EAAqBC,wBAAwBA,GAA0B,MAAM,CAACH,YAAW,EAAMC,eAAc,EAAMC,qBAAqBA,IAE7bT,GAAqB,SAA8B8I,GAC1D,IAAIvJ,EAASC,GAAiBsJ,GAAqBI,EAAkB5I,GAA6Bf,GAA8N,MAAM,CAACU,gBAAhNiJ,EAAkB3I,WAAyNL,mBAAhMgJ,EAAkB1I,cAA+ML,uBAA5K+I,EAAkBzI,qBAAsML,0BAAzJ8I,EAAkBxI,0BAGjSE,GAAwB,SAAiC9J,EAAKmI,GACrE,IAAI4B,GAAc,EAAUC,GAAY,EAAUC,GAAe,EAAUC,GAAU,EAAUC,GAAO,EAAUkI,EAAY,EAAMC,EAAS,EAAMlI,EAA2B,CAACqC,MAAM,GAAGX,SAAS,GAAGJ,MAAM,IACxM,IAAI,IAAI5F,KAAYqC,EAAsD,IAA/BA,EAAmBrC,KAAeiE,GAAc,EAAKK,EAA2BsB,MAAM7W,KAAK,CAAC8W,KAAK7F,EAAS3M,MAAMsL,GAAUqB,MACnI,IAA/BqC,EAAmBrC,KAAemE,GAAe,EAAKoI,IAAcjI,EAA2B0B,SAASjX,KAAK,CAAC8W,KAAK7F,EAAS3M,MAAMsL,GAAUqB,MAC7G,IAA/BqC,EAAmBrC,KAAeqE,GAAO,EAAKmI,IAAWlI,EAA2BqC,MAAM5X,KAAK,CAAC8W,KAAK7F,EAAS3M,MAAMsL,GAAUqB,MAGjG,OAFhCsE,EAA2BqC,MAAMrC,EAA2BqC,MAAMpJ,KAAI,SAASiD,GAAI,OAAOA,KAAMgC,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOA,EAAEpP,MAAMhB,EAAEgB,SAASiR,EAA2B0B,SAAS1B,EAA2B0B,SAASzI,KAAI,SAASiD,GAAI,OAAOA,KAAMgC,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOA,EAAEpP,MAAMhB,EAAEgB,SAASiR,EAA2BsB,MAAMtB,EAA2BsB,MAAMrI,KAAI,SAASiD,GAAI,OAAOA,KAAMgC,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOA,EAAEpP,MAAMhB,EAAEgB,UACjakZ,GAAa,GAAGC,GAAU,GAAGD,GAAa,KAAGrI,GAAY,GACzDsI,GAAU,IAAGpI,GAAU,GAAY,CAACH,cAAcA,EAAcC,YAAYA,EAAYC,eAAeA,EAAeC,UAAUA,EAAUC,OAAOA,EAAOC,2BAA2BA,IAE/K+H,GAAqB,SAA8BI,GAAc,IAAIN,EAAmB,EAAMrI,EAAwB,GAC7H2I,EAAa,GAAG,EAEhB,IADA,IAAIC,EAAmBD,EAAalP,KAAI,SAASiD,GAAI,OAAOA,KAAMgC,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOpQ,EAAEoQ,KACtFnC,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,GAAG6L,GAAoB,EAAG,MAAM,CAACvI,eAAc,EAAKE,wBAAwBA,GAA6B4I,EAAmBpM,GAAGoM,EAAmBpM,EAAE,KAAK,EAA2B,IAArB6L,GAAwBA,EAAmB,EAAErI,EAAwB/U,KAAK2d,EAAmBpM,EAAE,IAAIwD,EAAwB/U,KAAK2d,EAAmBpM,MAAU6L,IAAqBrI,EAAwB/U,KAAK2d,EAAmBpM,MAAW6L,EAAmB,EAAErI,EAAwB,IAAK,OAAGqI,GAAoB,EAAS,CAACvI,eAAc,EAAKE,wBAAwBA,GAAqC,CAACF,eAAc,EAAME,wBAAwBA,IAE1mBlB,GAAiB,SAA0B1I,GAAM,OAAOkG,MAAMuL,KAAK,IAAIgB,IAAIzS,EAAKqD,KAAI,SAASqP,GAAU,OAAOA,EAASvZ,YAMxHqK,GAAsB,SAA+BhB,EAAYmQ,GAAY,MAAM,CAACzP,eAAeV,EAAY,GAAGmQ,EAAWxP,iBAAiBX,EAAY,GAAGmQ,IAAkB1P,GAAa,SAAsBzB,EAAQoR,EAAaxP,GAAQ,IAAIF,EAAc0P,EAAa1P,cAAcC,EAAgByP,EAAazP,gBAAgO,OAAhN3B,EAAQ0B,GAAe5C,IAAI8C,EAAO5B,EAAQ0B,GAAehD,MAAMsB,EAAQ0B,GAAehD,MAAMkD,EAAO5B,EAAQ2B,GAAiB7C,IAAI8C,EAAO,EAAE5B,EAAQ2B,GAAiBjD,MAAMsB,EAAQ2B,GAAiBjD,MAAMkD,EAAO,EAAS5B,GAAcqR,GAAgB,SAAyB3O,EAAQ4O,EAAiBC,GAAW,IAAIC,EAAiBF,EAAiBC,EAAU,OAAGC,EAAiB9O,EAAgB8O,EAA8B9O,GAE7uB+O,GAAqB,SAAmB5R,EAAMf,EAAI6G,EAAIC,GAAK,GAAG9G,EAAI6G,EAA6B,OAAxB9F,EAAM8C,cAAcgD,EAAWlF,QAAQC,IAAI,eAAgB,GAAG5B,EAAI8G,EAA6B,OAAxB/F,EAAM8C,cAAciD,EAAWnF,QAAQC,IAAI,eAAgB,GAAG5B,EAAIe,EAAM6C,QAAQ,CACpO7C,EAAM6C,QAAQ5D,EAAIe,EAAM+B,OAAO/B,EAAM6C,QAAQ,IAAkFqB,EAA9EC,EAAU9O,OAAO2I,EAA2C,EAAlD3I,CAAqD2K,EAAMG,SAAe,IAAI,IAAIgE,EAAUC,MAAMF,EAAMC,EAAUhQ,KAAKkQ,MAAM,CAAC,IAAI7C,EAAO0C,EAAMpM,MAAU0J,EAAOrC,QAAwB,KAAfqC,EAAO3C,QAAW2C,EAAOtC,eAAc,IAAS,MAAMwF,GAAKP,EAAUpH,EAAE2H,GAAM,QAAQP,EAAUQ,KAAM,IAAInE,EAAaR,EAAMG,QAAQH,EAAME,mBAAuB2R,EAAkB5S,EAAIuB,EAAavB,IAA6L,OAAzLuB,EAAavB,IAAIA,EAAIuB,EAAa3B,MAAM2B,EAAa3B,MAAMgT,EAA0C,IAArBrR,EAAa3B,QAAW2B,EAAapB,OAAM,EAAKY,EAAMW,mBAAmBH,EAAatB,eAAc,EAAYoB,EAAsCN,IAAa8R,GAA4B,SAA0B9R,GAAO,IAAIQ,EAAaR,EAAMG,QAAQH,EAAME,mBAAyL,OAAtKM,EAAarB,QAAO,EAAKqB,EAAatB,eAAc,EAAKc,EAAMiC,mBAAmBjC,EAAMU,mBAAiCJ,EAAsCN,IAA8BiB,GAA4B,SAA0BjB,GAAO,OAAOA,EAAM6F,OAAO,IAAI,WAA+B,OAAnB7F,EAAM6F,MAAM,OAvJ5hC,SAAuB7F,GAAO,IACiB+R,EADbxM,EAAe,EAAMyM,EAAWvM,GAAsBzF,EAAM0C,KAAK,GAAGgD,EAAgBsM,EAAWtM,gBAAgBC,EAAYqM,EAAWrM,YACtMsM,EAAW5c,OAAO2I,EAA2C,EAAlD3I,CAAqDsQ,GAAoB,IAAI,IAAIsM,EAAW7N,MAAM2N,EAAOE,EAAW9d,KAAKkQ,MAAM,CAAC,IAAIrB,EAAK+O,EAAOja,MAC/JkL,EAAKuC,eAAeA,EAAeA,GAA8B,IAAIvF,EAAMsC,eAAe9O,KAAKwP,IAAQ,MAAM0B,GAAKuN,EAAWlV,EAAE2H,GAAM,QAAQuN,EAAWtN,IACjI,OADsI3E,EAAM0C,KAAKgD,GAAgB1F,EAAMD,EAA6BC,IACrN6F,MAAM,WAAkB7F,EAoJ8iCkS,CAA2BnR,GAAqBf,IAAS,IAAI,WAA+B,OAAnBA,EAAM6F,MAAM,OAlJ/nC,SAAuB7F,GAAO,IAAImS,EAAW1M,GAAsBzF,EAAM0C,KAAK,GAAGgD,EAAgByM,EAAWzM,gBAAgBC,EAAYwM,EAAWxM,YAC9J,OAD0KA,EAAYJ,eAAe,EAAEvF,EAAMsC,eAAe9O,KAAKmS,GAAa3F,EAAM0C,KAAKgD,GAAgB1F,EAAMD,EAA6BC,IAC7T6F,MAAM,WAAkB7F,EAiJipCoS,CAA2BrR,GAAqBf,IAAS,IAAI,WAAgC,OAApBA,EAAM6F,MAAM,QA/IjuC,SAAwB7F,GAAO,IAAIqS,EAAW5M,GAAsBzF,EAAM0C,KAAK,GAAGgD,EAAgB2M,EAAW3M,gBAAgBC,EAAY0M,EAAW1M,YAChK,OAD4KA,EAAYJ,eAAe,EAAEvF,EAAMsC,eAAe9O,KAAKmS,GAAa3F,EAAM0C,KAAKgD,GAAgB1F,EAAMD,EAA6BC,IAC/T6F,MAAM,WAAkB7F,EA8IqvCsS,CAA4BvR,GAAqBf,IAAS,IAAI,WAAmC,OAAvBA,EAAM6F,MAAM,WAAkB/E,GAA4BC,GAAqBf,IAAS,QAAQ,MAAMF,MAAM,sDAEn8CiB,GAAqB,SAAmBf,GAAO,IAAmFsE,EAA/EE,EAAWnP,OAAO2I,EAA2C,EAAlD3I,CAAqD2K,EAAMG,SAAgB,IAAI,IAAIqE,EAAWJ,MAAME,EAAOE,EAAWrQ,KAAKkQ,MAAM,CAAC,IAAI7C,EAAO8C,EAAOxM,MAAMkI,EAAM+P,IAAI/P,EAAM+P,IAAIvO,EAAOvC,IAAIuC,EAAO+Q,aAAa/Q,EAAOvC,IAAIuC,EAAOtC,eAAc,GAChT,MAAMwF,GAAKF,EAAWzH,EAAE2H,GAAM,QAAQF,EAAWG,IAAK3E,EAAMwS,GAAaC,GAAczS,EAAMA,EAAMG,UAAU,IAAmF4R,EAA/EE,EAAW5c,OAAO2I,EAA2C,EAAlD3I,CAAqD2K,EAAMG,SAAgB,IAAI,IAAI8R,EAAW7N,MAAM2N,EAAOE,EAAW9d,KAAKkQ,MAAM,CAAC,IAAIqO,EAAQX,EAAOja,MAAM4a,EAAQ1T,2BAA2B0T,EAAQzT,IAAIyT,EAAQzT,IAAI,GACjV,MAAMyF,GAAKuN,EAAWlV,EAAE2H,GAAM,QAAQuN,EAAWtN,IACb,OADkB3E,EAAM+B,OAAO,EACrE/B,EAAM6C,QAAQ,EAAE7C,EAAM8C,cAAc,EAAS9C,GAEvCyS,GAAc,SAASA,EAAczS,EAAM2S,GACjD,IAAIC,EAAgBD,EAAapR,QAAO,SAASC,GAAQ,OAAOA,EAAO+Q,aAAa,KAAK,GAA4B,IAAzBK,EAAgBhX,OAAY,OAAOoE,EAAO,GAA4B,IAAzB4S,EAAgBhX,OAAW,CACpK,IAAIiX,EAAe7S,EAAMG,QAAQH,EAAMG,QAAQuB,WAAU,SAASF,GAAQ,OAAOA,EAAOjD,OAAOqU,EAAgB,GAAGrU,SAA8H,OAArHsU,EAAehU,MAAMgU,EAAehU,MAAM+T,EAAgB,GAAGL,aAAavS,EAAM+P,KAAK6C,EAAgB,GAAGL,aAAoBvS,EACvP,IAAI8S,EAAcF,EAAgB3L,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOpQ,EAAEyb,aAAarL,EAAEqL,gBAAoBQ,EAAgBD,EAAc,GAAGP,aAAiBS,EAAaF,EAAcjJ,QAAO,SAASC,EAAIC,GAAiJ,OAAxIA,EAAI5K,QAAQ2K,EAAIgF,YAAYtb,KAAKuW,EAAIxL,MAAOuL,EAAIgG,SAAShG,EAAIgG,SAASiD,EAAgBhJ,EAAIwI,aAAaxI,EAAIwI,aAAaQ,EAAuBjJ,IAAM,CAACgF,YAAY,GAAGgB,SAAS,IAAsC,OAAlC9P,EAAMuC,SAAS/O,KAAKwf,GAAqBP,EAAczS,EAAM8S,IAEpbN,GAAa,SAAsBxS,GAAO,GAAGA,EAAMuC,SAAS3G,OAAO,EAAG,IAAI,IAAImJ,EAAE,EAAEA,EAAE/E,EAAMuC,SAAS3G,OAAOmJ,IAAiR,IAA5Q,IAAI8B,EAAM,SAAe1S,GAAM8e,GAAejT,EAAMuC,SAASwC,GAAG+J,YAAY9O,EAAMuC,SAASpO,GAAG2a,eAAc9O,EAAMuC,SAASwC,GAAG+K,SAAS9P,EAAMuC,SAASwC,GAAG+K,SAAS9P,EAAMuC,SAASpO,GAAG2b,SAAS9P,EAAMuC,SAASvC,EAAMuC,SAAShB,QAAO,SAAS0D,EAAG+E,GAAO,OAAOA,IAAQ7V,OAAgBA,EAAE4Q,EAAE,EAAE5Q,EAAE6L,EAAMuC,SAAS3G,OAAOzH,IAAK0S,EAAM1S,GAAM,OAAO6L,GAAYiT,GAAe,SAAwBC,EAAKC,GAAM,OAAGD,EAAKtX,SAASuX,EAAKvX,QAAoI,IAAvGsX,EAAKlR,KAAI,SAASiD,GAAI,OAAOkO,EAAK9N,SAASJ,MAAO1D,QAAO,SAAS6R,GAAM,OAAc,IAAPA,KAAexX,QAE1oByX,GAAKzf,EAAoB,KAO+vB,IAAI0f,GAA7xB,SAAoBpc,GAAM,IAAIqc,EAAYrc,EAAKsc,OAAOnW,EAAGkW,EAAYlW,GAAGvF,EAAMyb,EAAYzb,MAAM2b,EAAQF,EAAYE,QAAQC,EAAexc,EAAKwc,eAAe,OAAmBre,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAMA,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,CAAC4G,MAAM,CAAC0X,KAAK,GAAG3M,OAAOyM,EAAQ,KAAKG,SAAS,WAAWC,YAAY,GAAGC,UAAU,GAAGC,OAAO,EAAEC,MAAM,GAAGC,OAAO,GAAGC,OAAO,oBAAoBC,UAAU,SAASC,OAAO,UAAUC,aAAa,OAAOC,gBAAgB,UAAUC,MAAM,SAASb,EAAerW,IAAK,GAAG,CAAClG,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4G,MAAM,CAACuY,QAAQ,OAAOC,WAAW,+BAA+BC,eAAe,SAASC,WAAW,SAASC,SAAS,GAAGd,UAAU,IAAI3c,SAASW,QAI7uB+c,GAAY,CAACjB,SAAS,WAAWI,MAAM,OAAOC,OAAO,IAAQa,GAAU,CAAClB,SAAS,WAAWI,MAAM,OAAOC,OAAO,GAAGH,UAAU,GAAGO,aAAa,EAAEC,gBAAgB,WAK2R,IAAIS,GAAjc,SAAiB7d,GAAM,IAAI8d,EAAO9d,EAAK8d,OAAOC,EAAO/d,EAAK+d,OAAOC,EAAche,EAAKge,cAAc,OAAmB7f,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAMA,OAAOT,EAA+B,EAAtCS,CAAyC,CAAC4G,MAAM,CAAC2X,SAAS,WAAWK,OAAO,GAAGF,OAAO,EAAED,UAAU,GAAGQ,gBAAgB,UAAUD,aAAa,EAAED,OAAO,UAAUT,KAAK,GAAG3M,OAAOgO,EAAOvB,QAAQ,KAAKO,MAAM,GAAGhN,OAAOiO,EAAOxB,QAAQuB,EAAOvB,QAAQ,OAAOyB,OAS1YC,GAAqB,SAA8BtS,EAAQC,EAActC,GAAc,OAAa,IAAVqC,GAA6B,IAAhBC,EAAyB,QAAiBD,IAAUC,EAAqB,OAAgBA,EAAcD,GAASC,IAAgBtC,EAAa3B,MAAM2B,EAAavB,IAAW,UAAmB6D,EAAcD,EAAe,aAAhC,GAElSuS,GAAgC,SAA+BC,EAASC,GAAY,IAAIC,EAAgBF,EAASC,EAAeE,EAAID,EAAgB,EAAME,EAAuB,IAAlBF,EAAoB,OAAmBlgB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAACqgB,MAAM,4BAA4B1O,OAAOwO,EAAI,WAAWC,EAAK,GAAG,YAAYte,SAAS,GAAG6P,OAAOwO,EAAI,IAAI,IAAIxO,OAAOuO,MAE1VI,GAA+B,SAA8BlT,GAAkB,OAAOA,EAAiBT,KAAI,SAAStF,EAAQsN,GAAO,IAAI3L,EAAM3B,EAAQ2B,MAAMgR,EAAM3S,EAAQ2S,MAAME,EAAK7S,EAAQ6S,KAAK,OAAGlR,EAAMzC,OAAO,EAAsBvG,OAAOuB,EAAkB,KAAzBvB,CAA4BnB,EAAc4C,EAAE8e,SAAS,CAACze,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,cAAc9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,eAAe9C,SAAS,GAAG6P,OAAO3I,EAAMzC,OAAO,eAA4BvG,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,kBAAkB9C,SAAS,0BAAuC9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,eAAe9C,SAAS,GAAG6P,OAAOuI,EAAK,UAAUlR,EAAM2D,KAAI,SAASnK,GAAM,OAAmBxC,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAACqgB,MAAM,cAAcve,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,iBAAiB9C,SAAS,GAAG6P,OAAOnP,EAAK,OAAoBxC,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,kBAAkB9C,SAAS,WAAwB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,mBAAmB9C,SAAS,GAAG6P,OAAOqI,EAAM,aAA0Bha,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,kBAAkB9C,SAAS,oBAAoB6S,EAAMnS,QAAWmS,GAA+B,IAAf3L,EAAMzC,OAA+BvG,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,cAAc9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,iBAAiB9C,SAAS,GAAG6P,OAAO3I,EAAM,GAAG,OAAoBhJ,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,kBAAkB9C,SAAS,UAAuB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,mBAAmB9C,SAAS,GAAG6P,OAAOqI,EAAM,aAA0Bha,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,kBAAkB9C,SAAS,yBAAsC9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,OAAO,CAAC4E,UAAU,eAAe9C,SAAS,GAAG6P,OAAOuI,EAAK,SAASvF,QAAroB,MAE5vC6L,GAAyB,SAAwBhT,EAAQ1C,EAAQD,EAAkB2F,EAAMiQ,GAAqB,IAAIhQ,EAAI0L,GAAgB3O,EAAQ1C,EAAQD,GAAmBrB,MAAMsB,EAAQD,GAAmBjB,KAAS8G,EAAI5F,EAAQD,GAAmBrB,MAAMsB,EAAQD,GAAmBjB,IAAI,MAAe,aAAR4G,GAA4B,aAARA,GAA4B,aAARA,GAA4B,aAARA,EAAmB1F,EAAQD,GAAmBX,MAAmBlK,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC4E,UAAU,oBAAoB9C,SAAS,CAAC,IAAI,iBAAiB6P,OAAO7G,EAAQD,GAAmB3B,SAAsBlJ,OAAOuB,EAAiB,IAAxBvB,CAA2BnB,EAAc4C,EAAE8e,SAAS,CAACze,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4Bge,GAAmB,EAAE,CAAC0C,UAAUlB,GAAYmB,OAAO,CAAClQ,EAAIC,GAAKkQ,OAAO,CAACnQ,GAAKoQ,KAAK,EAAEC,SAASL,EAAoBM,KAAK,EAAEjf,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2Bge,GAAiB,EAAE,CAAClc,SAAS,SAAkBD,GAAM,IAAImf,EAAanf,EAAKmf,aAAa,OAAmBhhB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAMA,OAAOT,EAA+B,EAAtCS,CAAyC,CAAC4G,MAAM6Y,IAAWuB,SAAkChhB,OAAOuB,EAAiB,IAAxBvB,CAA2Bge,GAAoB,EAAE,CAAClc,SAAS,SAAkBmf,GAAO,IAAIC,EAAQD,EAAMC,QAAQ7C,EAAe4C,EAAM5C,eAAe,OAAmBre,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,iBAAiB9C,SAASof,EAAQvU,KAAI,SAASwR,GAAQ,OAAmBne,OAAOuB,EAAiB,IAAxBvB,CAA2Bie,GAAoB,CAACE,OAAOA,EAAOE,eAAeA,GAAgBF,EAAOnW,YAA0BhI,OAAOuB,EAAiB,IAAxBvB,CAA2Bge,GAAmB,EAAE,CAACmD,OAAM,EAAMrf,SAAS,SAAkBsf,GAAO,IAAIC,EAAOD,EAAMC,OAAOxB,EAAcuB,EAAMvB,cAAc,OAAmB7f,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,gBAAgB9C,SAASuf,EAAO1U,KAAI,SAAS2U,GAAO,IAAItZ,EAAGsZ,EAAMtZ,GAAG2X,EAAO2B,EAAM3B,OAAOC,EAAO0B,EAAM1B,OAAO,OAAmB5f,OAAOuB,EAAiB,IAAxBvB,CAA2B0f,GAAiB,CAACC,OAAOA,EAAOC,OAAOA,EAAOC,cAAcA,GAAe7X,gBAAkB,MAQj5DuZ,GAAoB,SAAmB5W,EAAM6W,GAAoB,IAAIhU,EAAQ7C,EAAM6C,QAAYrC,EAAaR,EAAMG,QAAQH,EAAME,mBAAuB4F,EAAI0L,GAAgB3O,EAAQrC,EAAa3B,MAAM2B,EAAavB,KAAS8G,EAAIvF,EAAa3B,MAAM2B,EAAavB,IAA6F6X,EAA2BjU,GAAhGrC,EAAa3B,MAAM2B,EAAavB,IAAIuB,EAAalB,iBAAuE,IAAQV,EAAmB4B,EAAa/B,MAAMuI,OAAOhH,EAAMsC,gBAAgB2E,MAAK,SAASnQ,EAAEoQ,GAAG,OAAOA,EAAEpP,MAAMhB,EAAEgB,SAAaif,EAAeC,GAAcpY,GAAoBkI,EAAmBiQ,EAAejQ,mBAAmBC,EAAcgQ,EAAehQ,cAAkBkQ,EAAOC,GAAYJ,GAAgCK,EAAc3W,EAAa/B,MAAMuD,KAAI,SAASiD,GAAI,OAAOA,EAAGnN,SAAasf,EAASpR,KAAKD,IAAIjM,MAAMkM,KAAK3Q,OAAO0I,EAAmC,EAA1C1I,CAA6C8hB,IAAoBE,EAAQrR,KAAKF,IAAIhM,MAAMkM,KAAK3Q,OAAO0I,EAAmC,EAA1C1I,CAA6C8hB,IAAgB,OAAOnX,EAAM6F,OACv+B,IAAI,WACJ,IAAIyR,EAAOjiB,OAAOkiB,QAAQxQ,GAAeyQ,MAAK,SAASC,GAAc,OAAyB,IAAlBA,EAAa,MAAkDC,EAAsBC,GAAyBP,EAASC,EAAQC,EAAxFF,EAASC,GAAS,GAA0FO,EAAWF,EAAsBG,UAAUC,EAAaJ,EAAsBK,YAAYC,EAAYN,EAAsBO,WAAeC,EAAUC,GAAkBlB,IAASkB,GAAkBP,GAAgBQ,EAAW5X,EAAa3B,MAAM2B,EAAavB,KAAK4D,EAAQA,EAAQrC,EAAa3B,MAAM2B,EAAavB,IAAI,GAAGiZ,EAAU,CAAC,GAAGG,GAAUP,GAAc,CAAC,IAAIQ,EAAqBN,EAAYhS,KAAKE,MAAMF,KAAKG,UAAU6R,EAAYpc,OAAO,IAAI,GAAoF,GAAnEuc,GAAkBlB,IAASkB,GAAkBG,GAAmC,CAAC,IAAIC,EAASvS,KAAKE,MAAMsS,GAAoBF,GAAsB9X,EAAa3B,OAA2O,OAAjO0Z,EAAS1V,GAAYA,EAAQkD,IAAKwS,EAAS1V,GAAa0V,EAASxS,IAAIvF,EAAanB,UAAS,GAAMwX,EAAmB7W,EAAME,kBAAkB,GAAG8G,OAAOmO,GAAqBtS,EAAQ0V,EAAS/X,GAAc,KAAKwG,OAAOuR,IAAkB3G,GAAqB5R,EAAMuY,EAASzS,EAAIC,GAC77B,OAAnK8Q,EAAmB7W,EAAME,kBAAkB,GAAG8G,OAAOmO,GAAqBtS,EAAQuV,EAAW5X,GAAc,KAAKwG,OAAOoR,EAAW5X,EAAavB,IAAImZ,EAAW,KAAYxG,GAAqB5R,EAAMoY,EAAWtS,EAAIC,GAA+K,OAAnK8Q,EAAmB7W,EAAME,kBAAkB,GAAG8G,OAAOmO,GAAqBtS,EAAQuV,EAAW5X,GAAc,KAAKwG,OAAOoR,EAAW5X,EAAavB,IAAImZ,EAAW,KAAYxG,GAAqB5R,EAAMoY,EAAWtS,EAAIC,GAA+D,OAAnD8Q,EAAmB7W,EAAME,kBAAkB,QAAe4R,GAA4B9R,GACthB,IAAI,WAAW,IAAI,WAAW,IAAI,WAClC,IAAIwI,EAAsBC,GAAwB7J,EAAmBkI,GAAoBgC,EAAON,EAAsBM,OAAOD,EAAUL,EAAsBK,UAAUD,EAAeJ,EAAsBI,eAAeF,EAAcF,EAAsBE,cAAcC,EAAYH,EAAsBG,YAAYI,EAA2BP,EAAsBO,2BAA+B3B,EAASC,GAAiBzI,GAAwBsJ,EAAiBC,GAA6Bf,GAAUgB,EAAWF,EAAiBE,WAAwLd,GAA/JY,EAAiBG,cAAmCH,EAAiBI,qBAA6CJ,EAAiBK,wBAA0ChB,GAAaR,IAAeS,EAAQF,EAAcE,QAAQC,EAAYH,EAAcG,YAAgBC,EAAWF,GAAS5I,EAAmB2C,QAAO,SAASyB,GAAM,OAAOA,EAAKuB,OAAOkD,KAAmBvQ,EAAKsQ,GAASK,GAAqBH,GAAYI,EAAgB5Q,EAAK4Q,gBAA2KH,GAAxIzQ,EAAK6Q,mBAA0C7Q,EAAK8Q,uBAAiD9Q,EAAK+Q,0BAA2CT,GAASI,GAAkBF,IACjrC+Q,EAAc,CAAC,CAACla,KAAK,cAAc4K,MAAMxB,GAAc,CAACpJ,KAAK,iBAAiB4K,MAAMrB,GAAiB,CAACvJ,KAAK,iBAAiB4K,MAAMT,GAAe,CAACnK,KAAK,aAAa4K,MAAMR,GAAa,CAACpK,KAAK,QAAQ4K,MAAM3B,GAAS,CAACjJ,KAAK,WAAW4K,MAAMf,GAAY,CAAC7J,KAAK,kBAAkB4K,MAAMP,GAAgB,CAACrK,KAAK,WAAW4K,MAAMN,GAAW,CAACtK,KAAK,OAAO4K,MAAML,GAAQ,CAACvK,KAAK,UAAU4K,OADy1BxB,IAAeG,IAAkBY,IAAgBC,IAAcnB,IAAUY,IAAaQ,IAAiBC,IAAYC,IAE9zC4P,EAASD,EAAcA,EAAc/W,WAAU,SAASuD,GAAI,OAAkB,IAAXA,EAAGkE,UAAiB5K,KAASoa,EAAsBC,GAA6Bha,EAAmB8Z,EAAS3P,GAA4B8O,EAAUc,EAAsBd,UAAUE,EAAYY,EAAsBZ,YAAYE,EAAWU,EAAsBV,WAAeY,EAASV,GAAkBlB,IAASkB,GAAkBN,GAAeiB,EAAUtY,EAAa3B,MAAM2B,EAAavB,KAAK4D,EAAQA,EAAQrC,EAAa3B,MAAM2B,EAAavB,IAAI,GAAG4Z,EAAS,CAAC,GAAGR,GAAUN,GAAa,CAAC,IAAIgB,EAAsBd,EAAWjS,KAAKE,MAAMF,KAAKG,UAAU8R,EAAWrc,OAAO,IAAI,GAAsF,GAApEuc,GAAkBlB,IAASkB,GAAkBY,GAAqC,CAAC,IAAIC,EAAUhT,KAAKE,MAAMsS,GAAoBO,GAAuBvY,EAAa3B,OAA8M,OAApMma,EAAUnW,IAASmW,EAAUnW,GAASrC,EAAanB,UAAS,EAAMwX,EAAmB7W,EAAME,kBAAkB,GAAG8G,OAAOmO,GAAqBtS,EAAQmW,EAAUxY,GAAc,KAAKwG,OAAOgS,IAAmBpH,GAAqB5R,EAAMgZ,EAAUlT,EAAIC,GAA2K,OAAhK8Q,EAAmB7W,EAAME,kBAAkB,GAAG8G,OAAOmO,GAAqBtS,EAAQiW,EAAUtY,GAAc,KAAKwG,OAAO8R,EAAUtY,EAAavB,IAAI6Z,EAAU,KAAYlH,GAAqB5R,EAAM8Y,EAAUhT,EAAIC,GAA4K,OAAhK8Q,EAAmB7W,EAAME,kBAAkB,GAAG8G,OAAOmO,GAAqBtS,EAAQiW,EAAUtY,GAAc,KAAKwG,OAAO8R,EAAUtY,EAAavB,IAAI6Z,EAAU,KAAYlH,GAAqB5R,EAAM8Y,EAAUhT,EAAIC,GAA+D,OAAnD8Q,EAAmB7W,EAAME,kBAAkB,QAAe4R,GAA4B9R,GAAQ,QAAQ,MAAMF,MAAM,8CAG/lD8Y,GAA6B,SAAsCja,EAAK+Z,EAAS3P,GAA4B,MAAc,gBAAX2P,EAAgC,CAACb,UAAU,SAASE,YAAY,EAAEE,WAAW,CAAC,WAA+B,mBAAXS,GAAiI,mBAAXA,EAAnF,CAACb,UAAU,SAASE,YAAY,EAAEE,WAAW,CAAC,SAAS,QAAQ,WAAqJ,eAAXS,EAA+B,CAACb,UAAU,SAASE,YAAY,EAAEE,WAAW,CAAC,SAAS,SAAS,QAAQ,WAA+B,UAAXS,EAA0B,CAACb,UAAU,SAASoB,YAAY,EAAEhB,WAAW,CAAC,SAAS,QAAQ,WAA+B,aAAXS,GAAsI,oBAAXA,EAA9F,CAACb,UAAU,SAASoB,YAAY,EAAEhB,WAAW,CAAC,UAAU,UAAU,mBAAyK,aAAXS,EAA6B,CAACb,UAAU,SAASoB,YAAY,GAAIhB,WAAW,CAAC,UAAU,UAAU,mBAAuC,SAAXS,EAAyB,CAACb,UAAU,SAASoB,YAAY,GAAIhB,WAAW,CAAC,UAAU,UAAU,mBAAuC,YAAXS,EAA4B,CAACb,UAAU,UAAUoB,YAAY,GAAIhB,WAAW,CAAC,UAAU,UAAU,wBAApG,GAGtpCN,GAAyB,SAAkCP,EAASC,EAAQC,EAAO4B,GAAa,GAAG9B,IAAWC,EAE2D,OAAGD,EAAS,GAAGC,EAAQ,EACnMC,EAAc,CAACO,UAAU,SAASE,YAAY,EAAEE,WAAW,CAAC,gBAAgB,UAAU,UAAU,WAAuB,CAACJ,UAAU,SAASE,YAAY,IAAKE,WAAW,CAAC,gBAAgB,UAAU,UAAU,WAAqBb,EAAS,GAAGC,EAAQ,EACrPC,EAAc,CAACO,UAAU,SAASE,YAAY,IAAKE,WAAW,CAAC,gBAAgB,UAAU,UAAU,WAAuB,CAACJ,UAAU,SAASE,YAAY,IAAKE,WAAW,CAAC,gBAAgB,UAAU,UAAU,WAAqBb,EAAS,GAAGC,EAAQ,EAAMC,EAAc,CAACO,UAAU,QAAQE,YAAY,IAAKE,WAAW,CAAC,gBAAgB,YAAwB,CAACJ,UAAU,QAAQE,YAAY,IAAKE,WAAW,CAAC,gBAAgB,YAAsBb,EAAS,GAAGC,EAAQ,EAAMC,EAAc,CAACO,UAAU,SAASE,YAAY,GAAIE,WAAW,CAAC,gBAAgB,YAAqBiB,EAAmB,CAACrB,UAAU,QAAQE,YAAY,GAAe,CAACF,UAAU,SAASE,YAAY,GAAaT,EAAc,CAACO,UAAU,SAASE,YAAY,GAAIE,WAAW,CAAC,kBAA2BiB,EAAmB,CAACrB,UAAU,SAASE,YAAY,GAAe,CAACF,UAAU,gBAAgBE,YAAY,GAJ7uB,OAAOX,GAAU,KAAKA,EAAS,EAAG,MAAM,CAACS,UAAU,SAASE,YAAY,GAAIE,WAAW,CAAC,UAAU,UAAU,SAAS,WAC/O,KAAKb,EAAS,EAAG,MAAM,CAACS,UAAU,QAAQE,YAAY,IACzDE,WAAW,CAAC,gBAAgB,UAAU,YAAa,KAAKb,EAAS,EAAE,QAAS,MAAM,CAACS,UAAU,QAAQE,YAAY,GAAIE,WAAW,CAAC,gBAAgB,UAAU,cAIrJf,GAAY,SAAqBiC,GAAY,QAAO,GAAM,KAAKA,EAAW,GAAG,MAAM,SAAS,KAAKA,EAAW,GAAG,MAAM,QAAQ,KAAKA,EAAW,GAAG,MAAM,QAAQ,KAAKA,EAAW,GAAG,MAAM,SAAS,KAAKA,EAAW,GAAG,MAAM,SAAS,KAAKA,EAAW,GAAG,MAAM,UAAU,KAAKA,EAAW,EAAE,MAAM,UAAU,KAAKA,GAAY,EAAE,MAAM,gBAAgB,KAAKA,EAAW,EAAE,QAAQ,MAAM,UAGhXX,GAAoB,SAA6BvB,GAAQ,MAAY,UAATA,EAAuC,GAAdjR,KAAKG,SAAiB,EAAoB,kBAAT8Q,EAAiCjR,KAAKG,UAAU,IAAK,KAAM,IAAuB,YAAT8Q,EAAyC,IAAdjR,KAAKG,SAAqB,IAAuB,YAAT8Q,EAA2BjR,KAAKG,UAAU,IAAK,IAAM,GAAuB,WAAT8Q,EAAwC,GAAdjR,KAAKG,SAAqB,IAAuB,WAAT8Q,EAA0BjR,KAAKG,UAAU,IAAK,KAAM,IAAuB,UAAT8Q,EAAyBjR,KAAKG,UAAU,GAAK,KAAM,IAAuB,UAAT8Q,EAAuC,IAAdjR,KAAKG,SAAqB,GAAuB,WAAT8Q,EAAwC,IAAdjR,KAAKG,SAAkB,SAApD,GAExkBgS,GAAkB,CAACiB,MAAM,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,GAAOvB,GAAU,SAAmBwB,GAAQ,OAAO7T,KAAKG,SAAS0T,GAAa7C,GAAc,SAAuBrY,GAAyP,OAArOA,EAAKkL,QAAO,SAASC,EAAIC,GAAqJ,OAAhJD,EAAIhD,mBAAmBiD,EAAItF,WAAWqF,EAAIhD,mBAAmBiD,EAAItF,WAAW,GAAG,EAAEqF,EAAI/C,cAAcgD,EAAIxF,OAAOuF,EAAI/C,cAAcgD,EAAIxF,OAAO,GAAG,EAASuF,IAAM,CAAChD,mBAAmB,GAAGC,cAAc,MAO1N+S,GAF1O,SAAc7gB,GAAO,IAAI8gB,EAAgB9gB,EAAM+gB,SAASzV,EAAKwV,EAAgBxV,KAAKE,EAASsV,EAAgBtV,SACxHwV,GADgJF,EAAgBxU,eAAoCtM,EAAMihB,qBACjM3V,EAAKxI,UAAU,EAAE,GAAGoe,eACjC,OAAmB9kB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,aAAa9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC6E,IAAI,GAAG8M,OAAO,GAAG,sBAAsBA,OAAOvC,GAAUuC,OAAOiT,EAAS,aAKmKG,GAA1U,SAAwBnhB,GAAO,OAAmB5D,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,cAAc9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,cAAc9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC6E,IAAI,mBAAmBmgB,IAAI,yBAMrBC,GADlQ,SAAoBrhB,GAAO,IAAI8gB,EAAgB9gB,EAAM+gB,SAASzV,EAAKwV,EAAgBxV,KAAKE,EAASsV,EAAgBtV,SAASc,EAAewU,EAAgBxU,eAAe2U,EAAqBjhB,EAAMihB,qBAChO,OAAmB7kB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,+BAA+B+M,OAAOkT,EAAqB,UAAU,IAAIje,MAAM,CAACsJ,eAAe,GAAGyB,OAAOkT,EAAqB,EAAE3U,EAAe,QAAQ,GAAGyB,OAAOzC,EAAK,KAAKyC,OAAOvC,KAE7O8V,GAAgB3mB,EAAoB,KAMsc,IAAI4mB,GAA/e,SAAsBtjB,GAAM,IAAI8S,EAAM9S,EAAK8S,MAAMyQ,EAASvjB,EAAKujB,SAASC,EAAQxjB,EAAKwjB,QAAQC,EAAczjB,EAAKyjB,cAAc,OAAmBtlB,OAAOuB,EAAiB,IAAxBvB,CAA2BklB,GAA+B,EAAE,CAACK,GAAGH,EAASI,QAAQ,CAACC,OAAO,EAAEC,MAAM,EAAEC,KAAK,MAAMC,WAAW,qBAAqBC,UAAU,WAAqB,OAAOP,EAAc3Q,IAAS7S,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,eAAe9C,SAAS,GAAG6P,OAAO0T,QAcwvCS,GATtqD,SAAgBliB,GAAO,IASPmiB,EATWC,EAAWpiB,EAAMoiB,WAAWC,EAA2BriB,EAAMqiB,2BAA2BX,EAAc1hB,EAAM0hB,cAAcY,EAActiB,EAAMsiB,cAAcd,EAASxhB,EAAMwhB,SAAS5U,EAAM5M,EAAM4M,MAAMP,EAAWrM,EAAMqM,WAAWkW,EAAcviB,EAAMuI,OAAOjC,EAAMic,EAAcjc,MAAMJ,EAAOqc,EAAcrc,OAAOV,EAAM+c,EAAc/c,MAAMD,EAAUgd,EAAchd,UAAUD,EAAKid,EAAcjd,KAAKM,EAAM2c,EAAc3c,MAAMI,EAAIuc,EAAcvc,IASnV,OAAmB5J,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,mBAAmB+M,OAAOqU,GAAYlkB,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BmlB,GAAqB,CAACxQ,MAAMqR,EAAWZ,UAA1SW,EAA6TC,IAA1SC,EAA2BF,GAAgBK,WAA2Qf,QAAQY,EAA2BD,GAAYX,QAAQC,cAAcA,IAA6BtlB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,mBAAmB9C,SAPvf,WAA2B,IAAI+iB,EACvD,OAD+E/a,GAAQmG,KAAY4U,GAAqB,GACrH3a,EAAcd,EAAMuD,KAAI,SAASgB,EAAKgH,GAAO,GAAW,aAARnE,EAAoB,OAAmBxQ,OAAOuB,EAAiB,IAAxBvB,CAA2BilB,GAAiB,CAACN,SAAShX,EAAKkX,qBAAqBA,GAAsBlQ,GAChM,IAAIgQ,EAAS3kB,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAG2N,GAAM,GAAG,CAACuC,eAAe,IAAI,OAAmBlQ,OAAOuB,EAAiB,IAAxBvB,CAA2BykB,GAAW,CAACE,SAASA,EAASE,qBAAqBA,GAAsBlQ,MAC1OvL,EAAMuD,KAAI,SAASgB,EAAKgH,GAAO,OAAmB3U,OAAOuB,EAAiB,IAAxBvB,CAA2BykB,GAAW,CAACE,SAAShX,EAAKkX,qBAAqBA,GAAsBlQ,MAI0X0R,KAAiCrmB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,aAAa9C,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,kBAAkB9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,oBAAoB+M,OAAOyT,EAAS,gBAAgB,IAAIvgB,IAAIsE,EAAU6b,IAAI,kBAA+BhlB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,mBAAmBgC,MAAM,CAAC2Y,SAAWrW,EAAK3C,OAAO,GAAG,GAAG,IAAIzE,SAAS,GAAG6P,OAAOzI,KAAqBlJ,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,wBAAwB9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,0BAA0BC,IAZnmC,qBAYynCmgB,IAAI,iBAA8BhlB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,yBAAyB9C,SAAS,GAAG6P,OAAOnI,QAAyBxJ,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,sBAAsB9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,wBAAwBC,IAAI,mBAAmBmgB,IAAI,eAA4BhlB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,uBAAuB9C,SAAS,GAAG6P,OAAO/H,QAFjkDsc,EAAkClmB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,mBAAmB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC6E,IAVtL,mBAU6MmgB,IAAI,kBAA+B,cAOpQ,SAASsB,GAAU1iB,GAAO,IAAuB3B,EAAVN,IAA+BM,YAAgBkD,EAAQnF,OAAOV,EAAiC,EAAxCU,GAAiDumB,EAAOvmB,OAAOV,EAAkC,EAAzCU,GAA8CumB,OAAWngB,EAAW,IAAIogB,gBAAgBD,GAAQlP,IAAI,cAGvP,SAASoP,IACmgD,OAD3+CA,EAAsBzmB,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,EAAQoC,GAAG,IAAIgf,EAAe,OAAO3iB,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAEghB,EAAe,IAAI1mB,OAASoB,EAASC,WAAWC,MAAMqlB,MAAM1kB,EAAY2kB,KAAKC,KAAK,SAASC,MAAK,SAASnO,GAAU,IAAIoO,EAAY,EAAEpO,EAAS7G,SAAQ,SAASkV,GAAe,IAAIriB,EAAIqiB,EAAcriB,IAAQsiB,EAAUD,EAAcE,MAAMR,EAAe/hB,GAAKsiB,EAAUF,GAAa,KAAqB,GAAbA,IAAgB3lB,EAASC,WAAWC,MAAMqlB,MAAM1kB,EAAY2kB,KAAKO,IAAI,CAACC,mBAAqB,EAAEC,kBAAoB,EAAEC,uBAAyB,EAAEC,sBAAwB,EAAEC,iBAAmB,EAAEC,gBAAkB,EAAEC,mBAAqB,EAAEC,kBAAoB,IAAIjB,EAAe,CAACU,mBAAqB,EAAEC,kBAAoB,EAAEC,uBAAyB,EAAEC,sBAAwB,EAAEC,iBAAmB,EAAEC,gBAAkB,EAAEC,mBAAqB,EAAEC,kBAAoB,IAC9/B,YAAZvhB,GAAwBsgB,EAAmC,mBAAEA,EAAmC,mBAAE,EAAK9iB,EAAMiX,OAAO3R,MAAMpE,EAAU2B,WAASigB,EAAkC,kBAAEA,EAAkC,kBAAE,IAAuB,gBAAZtgB,GAA4BsgB,EAAuC,uBAAEA,EAAuC,uBAAE,EAAK9iB,EAAMiX,OAAO3R,MAAMpE,EAAU2B,WAASigB,EAAsC,sBAAEA,EAAsC,sBAAE,IAAuB,UAAZtgB,GAAsBsgB,EAAiC,iBAAEA,EAAiC,iBAAE,EAAK9iB,EAAMiX,OAAO3R,MAAMpE,EAAU2B,WAASigB,EAAgC,gBAAEA,EAAgC,gBAAE,IAAuB,YAAZtgB,IAAwBsgB,EAAmC,mBAAEA,EAAmC,mBAAE,EAAK9iB,EAAMiX,OAAO3R,MAAMpE,EAAU2B,WAASigB,EAAkC,kBAAEA,EAAkC,kBAAE,IAAGtlB,EAASC,WAAWC,MAAMqlB,MAAM1kB,EAAY2kB,KAAKO,IAAI,CAACC,mBAAqBV,EAAmC,mBAAEW,kBAAoBX,EAAkC,kBAAEY,uBAAyBZ,EAAuC,uBAAEa,sBAAwBb,EAAsC,sBAAEc,iBAAmBd,EAAiC,iBAAEe,gBAAkBf,EAAgC,gBAAEgB,mBAAqBhB,EAAmC,mBAAEiB,kBAAoBjB,EAAkC,uBAAM,SAAS1hB,GAAOuG,QAAQC,IAAI,8CAA8C,KAAK,EAAE,IAAI,MAAM,OAAOhG,EAASI,UAAWN,QAA0Cb,MAAMvG,KAAKwG,WAAyG,SAASkjB,IAAyf,OAA9dA,EAAyB5nB,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASS,EAAS4B,GAAG,OAAO3D,EAAoBtC,EAAE8D,MAAK,SAAmBQ,GAAW,OAAS,OAAOA,EAAUN,KAAKM,EAAUL,MAAM,KAAK,EAAEgC,EAAEC,iBAAiB4D,QAAQC,IAAI,6BAA6B,IAAIrG,EAAQhH,KAAK,cAAe,MAAM0pB,GAAStc,QAAQC,IAAI,mDAAoD,KAAK,EAAE,IAAI,MAAM,OAAOzF,EAAUH,UAAWE,QAA8CrB,MAAMvG,KAAKwG,WAAY,OAJj9D1E,OAAOpB,EAAiB,UAAxBoB,EAA2B,YACtS,SAA8B8H,GAAW2e,EAAsBhiB,MAAMvG,KAAKwG,WADuOojB,MAI87D9nB,OAAOuB,EAAiB,IAAxBvB,CAA2BiE,EAA2B,EAAE,CAACW,UAAU,+DAA+DgC,MAAM,CAACC,UAAU,SAAS/E,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,QAAQgC,MAAM,CAACE,SAAS,SAAShF,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkE,EAA0B,EAAE,CAACpC,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkE,EAA0B,EAAE6C,KAAK,CAACjF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,oBAAoB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,YAAYC,IAAI,6BAA0C7E,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,cAAc9C,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAC8B,EAAMiX,OAAO3R,KAAK,cAA2BlJ,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACQ,UAAU,aAAaqC,QAAnhD,SAAiC8gB,GAAK,OAAOH,EAAyBnjB,MAAMvG,KAAKwG,YAAk+C5C,SAAS,iCAK/nG,IAyC0EkmB,GAzC/C,SAAS1jB,GAAYtE,OAAOb,EAA0B,EAAjCa,CAAoCioB,EAAK3jB,GAAY,IAAIE,EAAOxE,OAAOZ,EAA6B,EAApCY,CAAuCioB,GAAM,SAASA,IAAO,IAAIC,EAAMloB,OAAOf,EAAgC,EAAvCe,CAA0C9B,KAAK+pB,GAAM,IAAI,IAAIE,EAAKzjB,UAAU6B,OAAO6hB,EAAK,IAAI5Y,MAAM2Y,GAAME,EAAK,EAAEA,EAAKF,EAAKE,IAAQD,EAAKC,GAAM3jB,UAAU2jB,GA0BwzE,OA1BjzEH,EAAM1jB,EAAO8jB,KAAK7jB,MAAMD,EAAO,CAACtG,MAAMyT,OAAOyW,KAAazd,MAAM,CAACtI,SAAQ,EAAK4X,YAAY,KAAKY,OAAO,KAAK/P,QAAQ,KAAKO,iBAAiB,KAAKuB,iBAAiB,KAAKtB,gBAAgB,KAAKT,kBAAkB,KAAKiB,YAAY,KAAKf,WAAW,KAAKsC,KAAK,KAAKJ,eAAe,GAAGyN,IAAI,KAAKlN,QAAQ,KAAKC,cAAc,KAAKP,SAAS,GAAGR,OAAO,GAAG8D,MAAM,UAAUrD,gBAAgB,GAAGC,iBAAiB,GAAGmb,mBAAmB,GAAGtC,2BAA2B,CAACuC,EAAE,CAACC,aAAY,EAAMpD,QAAQ,MAAMqD,EAAE,CAACD,aAAY,EAAMpD,QAAQ,MAAMrX,EAAE,CAACya,aAAY,EAAMpD,QAAQ,MAAMpX,EAAE,CAACwa,aAAY,EAAMpD,QAAQ,MAAMnX,EAAE,CAACua,aAAY,EAAMpD,QAAQ,MAAMlX,EAAE,CAACsa,aAAY,EAAMpD,QAAQ,QAAQ6C,EAAMS,mBAAmB,EAAET,EAAMU,YAAY,WAC7gC,IAAIC,EAAS9b,GAA6B/M,OAAOuI,EAAkB,UAAzBvI,CAA4BkoB,EAAMvd,QAC5Eud,EAAMY,SAASD,GAAS,WAAcX,EAAMvd,MAAMG,QAAQod,EAAMvd,MAAME,mBAAmBX,OAA2B,aAApBge,EAAMvd,MAAM6F,OAAoBuY,YAAW,WAAWb,EAAMc,cAAc,UAAYd,EAAMc,UAAU,WAAW,IAAIC,EAAYf,EAAMvd,MAAwEue,GAAvCD,EAAYhD,2BAAoCjmB,OAAOR,EAAyC,EAAhDQ,CAAmDipB,EAAY,CAAC,gCACpXJ,EAAStH,GAAoBvhB,OAAOuI,EAAkB,UAAzBvI,CAA4BkpB,GAAUhB,EAAMiB,4BAC7EjB,EAAMY,SAAS9oB,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAG6oB,GAAU,GAAG,CAACpb,cAAcob,EAASnc,UAAS,WAAcwb,EAAMvd,MAAMG,QAAQod,EAAMvd,MAAME,mBAAmBX,OAA2B,aAApBge,EAAMvd,MAAM6F,OAAoBuY,YAAW,WAAWb,EAAMc,cAAc,UAAYd,EAAMkB,gBAAgB,SAASlC,EAAIzW,EAAIC,GAAc,KAANwW,IAASA,EAAIzW,GAAOyW,EAAIxW,IAAIwW,EAAIxW,GAC/XwX,EAAMY,SAAS,CAACrb,cAAc4b,SAASnC,EAAI,OAAQgB,EAAMoB,gBAAgB,SAAS1f,EAAI6G,EAAIC,GAAK,IAAI6Y,EAAarB,EAAMvd,MAAyEue,GAAxCK,EAAatD,2BAAoCjmB,OAAOR,EAAyC,EAAhDQ,CAAmDupB,EAAa,CAAC,gCACrQ1e,EAAkBqe,EAASre,kBAC/Bqd,EAAMiB,2BAA2Bte,EAAkB,GAAG8G,OAAOmO,GAAqBoI,EAAMvd,MAAM6C,QAAQ0a,EAAMvd,MAAM8C,cAAcya,EAAMvd,MAAMG,QAAQod,EAAMvd,MAAME,oBAAoB,KAAK8G,OAAO/H,EAAIse,EAAMvd,MAAMG,QAAQod,EAAMvd,MAAME,mBAAmBjB,IAAIA,EAAI,KAAM,IAAIif,EAAStM,GAAqBvc,OAAOuI,EAAkB,UAAzBvI,CAA4BkpB,GAAUG,SAASzf,EAAI,IAAIyf,SAAS5Y,EAAI,IAAI4Y,SAAS3Y,EAAI,KAC5XwX,EAAMY,SAASD,GAAS,WAAcX,EAAMvd,MAAMG,QAAQod,EAAMvd,MAAME,mBAAmBX,OAA2B,aAApBge,EAAMvd,MAAM6F,OAAoBuY,YAAW,WAAWb,EAAMc,cAAc,UAAYd,EAAMsB,wBAAwB,SAAStC,GAAKgB,EAAMY,SAAS,CAACrb,cAAcyZ,EAAI,MAAOgB,EAAMuB,iBAAiB,WAAW,IAAIC,EAAaxB,EAAMvd,MAAyEue,GAAxCQ,EAAazD,2BAAoCjmB,OAAOR,EAAyC,EAAhDQ,CAAmD0pB,EAAa,CAAC,gCACndb,EAASpM,GAA4Bzc,OAAOuI,EAAkB,UAAzBvI,CAA4BkpB,IACrEhB,EAAMY,SAASD,GAAS,WAAcX,EAAMvd,MAAMG,QAAQod,EAAMvd,MAAME,mBAAmBX,OAA2B,aAApBge,EAAMvd,MAAM6F,OAAoBuY,YAAW,WAAWb,EAAMc,cAAc,UAAYd,EAAMyB,gBAAgB,WAC5MzB,EAAMY,SAAS,CAAC7Y,YAAW,IAC3B,IAAyF4K,EAArFgO,EAAS7b,EAA8BhN,OAAOuI,EAAkB,UAAzBvI,CAA4BkoB,EAAMvd,QAC7E,GAAGiD,EAASib,EAAS/d,SAAiL,OAA3J+d,EAAS/d,QAAgBgH,SAAQ,SAAS8X,GAAYA,EAAQpgB,MAAM,IAAEqR,EAAO+O,MAAW1B,EAAMY,SAAS,CAACjO,OAAOA,SAASqN,EAAMY,SAAS,CAAC7O,aAAY,IAC/LiO,EAAMY,SAASD,GAAS,WAAcX,EAAMvd,MAAMG,QAAQod,EAAMvd,MAAME,mBAAmBX,OAA2B,aAApBge,EAAMvd,MAAM6F,OAAoBuY,YAAW,WAAW,OAAOb,EAAMc,cAAc,UAAYd,EAAMiB,2BAA2B,SAASxU,EAAM0Q,GAAS,IAAIwE,EAAwB7pB,OAAO8pB,OAAO,GAAG5B,EAAMvd,MAAMsb,2BAA2BjmB,OAAOsI,EAAgC,EAAvCtI,CAA0C,GAAG2U,EAAM,CAAC8T,aAAY,EAAKpD,QAAQA,KAAW6C,EAAMY,SAAS,CAAC7C,2BAA2B4D,KAA4B3B,EAAM6B,wBAAwB,SAASpV,GAAO,IAAIqV,EAAe9B,EAAMvd,MAAMsb,2BAA2BtR,GAAO0Q,QAAYwE,EAAwB7pB,OAAO8pB,OAAO,GAAG5B,EAAMvd,MAAMsb,2BAA2BjmB,OAAOsI,EAAgC,EAAvCtI,CAA0C,GAAG2U,EAAM,CAAC8T,aAAY,EAAMpD,QAAQ2E,KAAkB9B,EAAMY,SAAS,CAAC7C,2BAA2B4D,KAA4B3B,EAAM+B,YAAY,WAC72B,IAAIC,EAAahC,EAAMvd,MAAMG,EAAQof,EAAapf,QAAQD,EAAkBqf,EAAarf,kBAAkBiB,EAAYoe,EAAape,YAAYmE,EAAWia,EAAaja,WAAWO,EAAM0Z,EAAa1Z,MAAMyV,EAA2BiE,EAAajE,2BAEiE,OADjSnb,EAAQ0J,QAAO,SAAS2V,EAAOhe,EAAOwI,GAAO,IAAIyQ,EAASzQ,IAAQ9J,EAAsBqb,EAAcvR,IAAQ7I,EAC+J,OAAjSqe,EAAOC,QAAqBpqB,OAAOuB,EAAiB,IAAxBvB,CAA2B8lB,GAAe,CAACE,WAAWrR,EAAMyQ,SAASA,EAASc,cAAcA,EAAc/Z,OAAOA,EAAO8D,WAAWA,EAAWO,MAAMA,EAAMyV,2BAA2BA,EAA2BX,cAAc4C,EAAM6B,yBAAyBpV,IAAewV,IAAS,IAA2Bxd,KAAI,SAASlJ,GAAW,OAAOA,MAAeykB,EAAMmC,0BAA0B,WAAW,IAAIC,EAAapC,EAAMvd,MAAM6C,EAAQ8c,EAAa9c,QAAQ1C,EAAQwf,EAAaxf,QAAQD,EAAkByf,EAAazf,kBAAkB2F,EAAM8Z,EAAa9Z,MAAM/C,EAAc6c,EAAa7c,cAC7lBgD,EAAI0L,GAAgB3O,EAAQ1C,EAAQD,GAAmBrB,MAAMsB,EAAQD,GAAmBjB,KACxF8G,EAAI5F,EAAQD,GAAmBrB,MAAMsB,EAAQD,GAAmBjB,IACpE,OAAOkB,EAAQD,GAAmBX,OAAe,aAARsG,EAAmB,KAAkBxQ,OAAOuB,EAAkB,KAAzBvB,CAA4BnB,EAAc4C,EAAE8e,SAAS,CAACze,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,SAAS,CAAC4E,UAAU,cAAcqC,QAAQ,WAAmB,OAAOihB,EAAMuB,oBAAqB3nB,SAAS,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,SAAS,CAAC4E,UAAU,aAAaqC,QAAQ,WAAmB,OAAOihB,EAAMoB,gBAAgB7b,EAAcgD,EAAIC,IAAO5O,SAASge,GAAqBtS,EAAQC,EAAc3C,EAAQD,UAA2Bqd,EAAMqC,0BAA0B,SAASC,GAAgB,OAAOtC,EAAMvd,MAAMsC,eAAeN,KAAI,SAASgB,EAAKgH,GAAO,IAAIgQ,EAAS3kB,OAAOT,EAA+B,EAAtCS,CAAyC,GAAG2N,GACrsB,OAD8sB6c,IAAgB7F,EAASzU,eAAe,GACnuBlQ,OAAOuB,EAAiB,IAAxBvB,CAA2BykB,GAAW,CAACE,SAASA,GAAUhQ,OAAYuT,EAAMuC,qBAAqB,WAAW,OAAmBzqB,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,uBAAuB9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,qBAAqB9C,SAAS,mBAAgC9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,wBAAwB9C,SAASwe,GAA+B4H,EAAMvd,MAAMyC,oBAAiCpN,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,oCAAoC9C,SAAS,oBAAiC9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,+BAA+B9C,SAASomB,EAAMqC,2BAA0B,KAAqBvqB,OAAOuB,EAAiB,IAAxBvB,CAA2B,SAAS,CAAC4E,UAAU,4BAA4BqC,QAAQ,WAAmB,OAAOihB,EAAMyB,mBAAoB7nB,SAAS,gBAAgBomB,EAAMwC,sBAAuBxC,EAAMwC,gBAAgB,WACp5B,OAA5BxC,EAAMvd,MAAMwC,gBAAuCR,KAAI,SAASge,GAAkD,OAA5Bnb,MAAMob,QAAQD,GAAyBzC,EAAM2C,gBAAgBF,GAAczC,EAAM4C,iBAAiBH,OAAmBzC,EAAM2C,gBAAgB,SAASF,GAAc,OAAOA,EAAahe,KAAI,SAASR,GAAQ,OAAO+b,EAAM4C,iBAAiB3e,OAAa+b,EAAM6C,UAAU,SAAS3hB,GAAO,OAAOA,EAAMuD,KAAI,SAASgB,EAAKgH,GAAO,IAAIgQ,EAAS3kB,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAG2N,GAAM,GAAG,CAACuC,eAAe,IAAI,OAAmBlQ,OAAOuB,EAAiB,IAAxBvB,CAA2BykB,GAAW,CAACE,SAASA,GAAUhQ,OAAYuT,EAAM4C,iBAAiB,SAAS3e,GAC9pB,IAAIjD,EAAKiD,EAAOjD,KAAKgL,EAAS/H,EAAO+H,SAASwD,EAASvL,EAAOuL,SAC1DsT,EAAgB9C,EAAMvd,MAAMG,QAAQqX,MAAK,SAAS8I,GAAa,OAAOA,EAAY/hB,OAAOA,KAC7F,OAAmBlJ,OAAOuB,EAAkB,KAAzBvB,CAA4B,QAAQ,CAACqgB,MAAM,+BAA+Bve,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,QAAQ,CAAC8B,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,WAAwB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,kBAA+B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,cAA2B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,iBAA8B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,kBAA+B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,QAAQ,CAAC8B,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAASoH,IAAoBlJ,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAACqgB,MAAM,+BAA+Bve,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAACqgB,MAAM,wBAAwBve,SAASomB,EAAM6C,UAAUC,EAAgB5hB,aAA0BpJ,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,+BAA+B9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,iCAAiCgC,MAAM,CAACskB,WAAW,UAAUppB,SAASoS,EAASvH,KAAI,SAASgB,EAAKgH,GACrzC,IAAIgQ,EAAS3kB,OAAOT,EAA+B,EAAtCS,CAAyCA,OAAOT,EAA+B,EAAtCS,CAAyC,GAAG2N,GAAM,GAAG,CAACuC,eAAe,IAAI,OAAmBlQ,OAAOuB,EAAiB,IAAxBvB,CAA2BykB,GAAW,CAACE,SAASA,GAAUhQ,YAA6B3U,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4V,IAAwB1X,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAASie,GAAgCiL,EAAgBthB,cAAcshB,EAAgBvhB,4BAA6Bye,EAAMiD,WAAW,WAAW,IAAIC,EAAalD,EAAMvd,MAAM6C,EAAQ4d,EAAa5d,QAAQ1C,EAAQsgB,EAAatgB,QAAQD,EAAkBugB,EAAavgB,kBAAkB2F,EAAM4a,EAAa5a,MAAM,OAAmBxQ,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,iBAAiB9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,aAAagC,MAAM,CAACE,SAAS,WAAwB9G,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,kBAAkB9C,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,aAAa9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC6E,IAAI,sBAAmC7E,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,iCAA8C9B,OAAOuB,EAAkB,KAAzBvB,CAA4BwI,EAAgC,EAAE,CAACR,GAAG,wBAAwBqjB,MAAM,GAAGvpB,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4ByI,EAA0B,EAAE6iB,KAAK,CAACC,KAAK,IAAIzpB,SAAS,CAAC,IAAiB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAA+B,EAAE,CAACwE,GAAG,aAAa/B,SAAS,2BAAwC9B,OAAOuB,EAAkB,KAAzBvB,CAA4ByI,EAA0B,EAAE6iB,KAAK,CAACC,KAAK,IAAIzpB,SAAS,CAAC,IAAiB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAA+B,EAAE,CAACwE,GAAG,SAAS/B,SAAS,oBAAiC9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,oBAAoBC,IAAI,qBAAqBmgB,IAAI,gBAAgBkD,EAAM+B,cAA2BjqB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,qBAAqB9C,SAASomB,EAAMqC,8BAA2CvqB,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,UAAU9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC6E,IAAI,mBAAmBmgB,IAAI,cAA2BhlB,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAC,IAAI,GAAG6P,OAAOuW,EAAMvd,MAAM+P,KAAK,aAAiC,aAApBwN,EAAMvd,MAAM6F,OAAoB0X,EAAMuC,uBAAoCzqB,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,WAAW9C,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,eAAe9C,SAASomB,EAAMmC,8BAA2CrqB,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,SAAS9C,UAAUomB,EAAMvd,MAAMtI,SAASme,GAAyBhT,EAAQ1C,EAAQD,EAAkB2F,EAAM0X,EAAMkB,0BAAkClB,EAeroF,OAf4oFloB,OAAOd,EAA6B,EAApCc,CAAuCioB,EAAK,CAAC,CAACtjB,IAAI,oBAAoBlC,MAExtF,WAAW,IAAI+oB,EAAmBxrB,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,IAAU,IAAoBwF,EAAQgB,EAAYe,EAAc4e,EAAgBC,EAAlEC,EAAOztB,KAA8E,OAAO6F,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAkB,OAAhBF,EAASE,KAAK,EAASoD,EAAUhE,EAAU2B,UAAU,KAAK,EAAEqE,EAAQtF,EAASomB,KACra9f,EAAY6E,KAAKE,MAAMF,KAAKG,SAASH,KAAKE,MAAM/F,EAAQvE,SACxDsG,EAAcC,GAAsBhB,EAAYhB,EAAQvE,QAAQklB,EAAgBlf,GAAazB,EAAQ+B,EAAc3O,KAAKyM,MAAM+B,SAAQgf,EAAmB,IAAIG,gBAC1IC,iBAAiB,QAAO,SAASpkB,GAAG6D,QAAQC,IAAI,GAAGmG,OAAOjK,EAAES,OAAOoD,QAAQC,IAAI9D,GAAG6D,QAAQC,IAAI,iBAAiBmgB,EAAO7C,SAAS,CAACzmB,SAAQ,OAAWqpB,EAAmBI,iBAAiB,aAAY,SAASpkB,GAAG6D,QAAQC,IAAI,GAAGmG,OAAOjK,EAAES,OAAOoD,QAAQC,IAAI9D,MAAMgkB,EAAmBI,iBAAiB,WAAU,SAASpkB,GAAG6D,QAAQC,IAAI,GAAGmG,OAAOjK,EAAES,OAAOoD,QAAQC,IAAI9D,MAAMgkB,EAAmBI,iBAAiB,YAAW,SAASpkB,GAAG6D,QAAQC,IAAI,GAAGmG,OAAOjK,EAAES,OAAOoD,QAAQC,IAAI9D,MAAMgkB,EAAmBI,iBAAiB,SAAQ,SAASpkB,GAAG6D,QAAQC,IAAI,GAAGmG,OAAOjK,EAAES,OAAOoD,QAAQC,IAAI9D,MAAMgkB,EAAmBI,iBAAiB,SAAQ,SAASpkB,GAAG6D,QAAQC,IAAI,GAAGmG,OAAOjK,EAAES,OAAOoD,QAAQC,IAAI9D,MAAMgkB,EAAmBK,KAAK,MAAM,sBAAsBL,EAAmBM,OACnwB9tB,KAAK4qB,UAAS,SAASmD,GAAW,MAAM,CAACnhB,QAAQ2gB,EAAgBpgB,iBAAiBP,EAAQvE,OAAOqG,iBAAiB,EAAEtB,gBAAgB,EAAET,kBAAkBiB,EAAYA,YAAYA,EAAYf,WAAW,CAACC,IAAI6B,EAAcL,cAAcF,MAAMO,EAAcJ,iBAAiBY,KAAKC,GAAaC,MAAgCmN,IAAI,EAAElN,QAAQye,EAAUvf,OAAOe,cAAcwe,EAAUvf,OAAO8D,MAAM,kBACnYtS,KAAK0qB,cAAc,KAAK,GAAG,IAAI,MAAM,OAAOpjB,EAASI,UAAWN,EAAQpH,UAAwF,OAA9E,WAA6B,OAAOstB,EAAmB/mB,MAAMvG,KAAKwG,YALhJ,IAQE,CAACC,IAAI,SAASlC,MAGhB,WAAkB,OAAmBzC,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,MAAM9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,sBAAsB9C,SAAS5D,KAAKyM,MAAMtI,QAAqBrC,OAAOuB,EAAiB,IAAxBvB,CAA2B+kB,GAAuB,IAAI7mB,KAAKyM,MAAMsP,YAAyBja,OAAOuB,EAAiB,IAAxBvB,CAA2BsmB,GAAU,CAACzL,OAAO3c,KAAKyM,MAAMkQ,SAAS3c,KAAKitB,qBAE3WlD,EAzCa,CAyCNrpB,EAAiB,WAKtC,SAASstB,KAAQ,IAAI9kB,EAASpH,OAAOpB,EAAc,OAArBoB,GAA8BmsB,EAAYnsB,OAAOpB,EAAc,OAArBoB,GAAiD0C,EAAVf,IAAyBe,MAAUX,EAAU/B,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIgC,EAAWhC,OAAOP,EAA+B,EAAtCO,CAAyC+B,EAAU,GAAGiD,EAAMhD,EAAW,GAAGiD,EAASjD,EAAW,GAAOG,EAAWnC,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAOoC,EAAWpC,OAAOP,EAA+B,EAAtCO,CAAyCmC,EAAW,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAO+C,EAAQnF,OAAOV,EAAiC,EAAxCU,GAIld,SAASyH,IAAgoB,OAAhnBA,EAAczH,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,EAAQoC,GAAG,OAAO3D,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAmF,OAAjFgC,EAAEC,iBAAiBnC,EAASC,KAAK,EAAER,EAAS,IAAI3C,GAAW,GAAMkD,EAASE,KAAK,EAAShD,EAAM0E,EAASQ,QAAQnF,MAAM0pB,EAAYvkB,QAAQnF,OAAO,KAAK,EAAE0C,EAAQhH,KAAK,cAAcqH,EAASE,KAAK,GAAG,MAAM,KAAK,EAAEF,EAASC,KAAK,EAAED,EAASG,GAAGH,EAAgB,MAAE,GAAGP,EAAS,6BAA6B,KAAK,GAAG3C,GAAW,GAAO,KAAK,GAAG,IAAI,MAAM,OAAOkD,EAASI,UAAWN,EAAQ,KAAK,CAAC,CAAC,EAAE,UAA8Bb,MAAMvG,KAAKwG,WAA6F,SAAS0nB,IAAurB,OAAlqBA,EAAmBpsB,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASS,EAAS4B,GAAG,OAAO3D,EAAoBtC,EAAE8D,MAAK,SAAmBQ,GAAW,OAAS,OAAOA,EAAUN,KAAKM,EAAUL,MAAM,KAAK,EAAiH,OAA/GgC,EAAEC,iBAAiB4D,QAAQC,IAAI,gBAAgBzF,EAAUN,KAAK,EAAER,EAAS,IAAI3C,GAAW,GAAMyD,EAAUL,KAAK,EAAShD,EAAM,kBAAkB,YAAY,KAAK,EAAE6I,QAAQC,IAAI9I,GAAOyC,EAAQhH,KAAK,cAAc4H,EAAUL,KAAK,GAAG,MAAM,KAAK,GAAGK,EAAUN,KAAK,GAAGM,EAAUJ,GAAGI,EAAiB,MAAE,GAAGd,EAAS,+BAA+B,KAAK,GAAG3C,GAAW,GAAO,KAAK,GAAG,IAAI,MAAM,OAAOyD,EAAUH,UAAWE,EAAS,KAAK,CAAC,CAAC,EAAE,WAAoCrB,MAAMvG,KAAKwG,WAAY,OAAmB1E,OAAOuB,EAAiB,IAAxBvB,CAA2BuB,EAAsB,SAAE,CAACO,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BiE,EAA2B,EAAE,CAACW,UAAU,+DAA+DgC,MAAM,CAACC,UAAU,SAAS/E,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,oBAAoB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BqE,EAAa,MAAmBrE,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,QAAQgC,MAAM,CAACE,SAAS,SAAShF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkE,EAA0B,EAAE,CAACpC,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkE,EAA0B,EAAE6C,KAAK,CAACjF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,mBAAmB9C,SAAS,WAAWkD,GAAoBhF,OAAOuB,EAAiB,IAAxBvB,CAA2BmE,EAAuB,EAAE,CAAC6C,QAAQ,SAASlF,SAASkD,IAAqBhF,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAE,CAACW,SAFh6E,SAAsBC,GAAI,OAAOL,EAAchD,MAAMvG,KAAKwG,YAE43E5C,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAEa,MAAM,CAACC,GAAG,QAAQlG,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEe,MAAM,CAACnG,SAAS,UAAuB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEgB,QAAQ,CAACC,KAAK,QAAQ7G,IAAI8F,EAASgB,UAAS,OAAuBpI,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAEa,MAAM,CAACC,GAAG,WAAWlG,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEe,MAAM,CAACnG,SAAS,aAA0B9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEgB,QAAQ,CAACC,KAAK,WAAW7G,IAAI6qB,EAAY/jB,UAAS,OAAuBpI,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACiE,SAAShG,EAAQuC,UAAU,QAAQuD,KAAK,SAASrG,SAAS,cAA2B9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACiE,SAAShG,EAAQ2E,QAAQ,UAAUpC,UAAU,aAAaqC,QAAznF,SAA2B8gB,GAAK,OAAOqE,EAAmB3nB,MAAMvG,KAAKwG,YAA8kF5C,SAAS,kBAA+B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,yBAAyB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAA+B,EAAE,CAACwE,GAAG,mBAAmB/B,SAAS,4BAAyC9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,6BAA6B9C,SAAS,CAAC,0BAAuC9B,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAA+B,EAAE,CAACwE,GAAG,UAAU/B,SAAS,uBAM/xH,SAASuqB,KAAS,IAAIjlB,EAASpH,OAAOpB,EAAc,OAArBoB,GAA8BmsB,EAAYnsB,OAAOpB,EAAc,OAArBoB,GAA8BssB,EAAmBtsB,OAAOpB,EAAc,OAArBoB,GAAiD8C,EAAVnB,IAA0BmB,OAAWf,EAAU/B,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIgC,EAAWhC,OAAOP,EAA+B,EAAtCO,CAAyC+B,EAAU,GAAGiD,EAAMhD,EAAW,GAAGiD,EAASjD,EAAW,GAAOG,EAAWnC,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAOoC,EAAWpC,OAAOP,EAA+B,EAAtCO,CAAyCmC,EAAW,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAO+C,EAAQnF,OAAOV,EAAiC,EAAxCU,GAEhc,SAASyH,IAA4yB,OAA5xBA,EAAczH,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,EAAQoC,GAAG,OAAO3D,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAqB,GAAnBgC,EAAEC,iBAAsBwkB,EAAYvkB,QAAQnF,QAAQ6pB,EAAmB1kB,QAAQnF,MAAO,CAAC+C,EAASE,KAAK,EAAE,MAAO,OAAOF,EAAS2E,OAAO,SAASlF,EAAS,2BAA2B,KAAK,EAAgE,OAA9DO,EAASC,KAAK,EAAER,EAAS,IAAI3C,GAAW,GAAMkD,EAASE,KAAK,EAAS5C,EAAOsE,EAASQ,QAAQnF,MAAM0pB,EAAYvkB,QAAQnF,OAAO,KAAK,EAAE0C,EAAQhH,KAAK,cAAcqH,EAASE,KAAK,GAAG,MAAM,KAAK,GAAGF,EAASC,KAAK,GAAGD,EAASG,GAAGH,EAAgB,MAAE,GAAGP,EAAS,+BAA+B,KAAK,GAAG3C,GAAW,GAAO,KAAK,GAAG,IAAI,MAAM,OAAOkD,EAASI,UAAWN,EAAQ,KAAK,CAAC,CAAC,EAAE,WAA+Bb,MAAMvG,KAAKwG,WAAY,OAAmB1E,OAAOuB,EAAiB,IAAxBvB,CAA2BuB,EAAsB,SAAE,CAACO,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BiE,EAA2B,EAAE,CAACW,UAAU,+DAA+DgC,MAAM,CAACC,UAAU,SAAS/E,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,oBAAoB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BqE,EAAa,MAAmBrE,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,QAAQgC,MAAM,CAACE,SAAS,SAAShF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkE,EAA0B,EAAE,CAACpC,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkE,EAA0B,EAAE6C,KAAK,CAACjF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,mBAAmB9C,SAAS,YAAYkD,GAAoBhF,OAAOuB,EAAiB,IAAxBvB,CAA2BmE,EAAuB,EAAE,CAAC6C,QAAQ,SAASlF,SAASkD,IAAqBhF,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAE,CAACW,SAAj1D,SAAsBC,GAAI,OAAOL,EAAchD,MAAMvG,KAAKwG,YAA6yD5C,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAEa,MAAM,CAACC,GAAG,QAAQlG,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEe,MAAM,CAACnG,SAAS,UAAuB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEgB,QAAQ,CAACC,KAAK,QAAQ7G,IAAI8F,EAASgB,UAAS,OAAuBpI,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAEa,MAAM,CAACC,GAAG,WAAWlG,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEe,MAAM,CAACnG,SAAS,aAA0B9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEgB,QAAQ,CAACC,KAAK,WAAW7G,IAAI6qB,EAAY/jB,UAAS,OAAuBpI,OAAOuB,EAAkB,KAAzBvB,CAA4BkH,EAAsB,EAAEa,MAAM,CAACC,GAAG,mBAAmBlG,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEe,MAAM,CAACnG,SAAS,0BAAuC9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkH,EAAsB,EAAEgB,QAAQ,CAACC,KAAK,WAAW7G,IAAIgrB,EAAmBlkB,UAAS,OAAuBpI,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACiE,SAAShG,EAAQuC,UAAU,QAAQuD,KAAK,SAASrG,SAAS,oBAAiC9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,MAAM,CAAC4E,UAAU,mCAAmC9C,SAAS,CAAC,4BAAyC9B,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAA+B,EAAE,CAACwE,GAAG,SAAS/B,SAAS,sBAKhqG,SAASyqB,GAAe1qB,GAAM,IAAI6kB,EAAe7kB,EAAK6kB,eAAmBvhB,EAAQnF,OAAOV,EAAiC,EAAxCU,GAAyI,SAAS4nB,IAAkf,OAAvdA,EAAyB5nB,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASC,EAAQoC,GAAG,OAAO3D,EAAoBtC,EAAE8D,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAEgC,EAAEC,iBAAiB4D,QAAQC,IAAI,6BAA6B,IAAIrG,EAAQhH,KAAK,cAAe,MAAM0pB,GAAStc,QAAQC,IAAI,mDAAoD,KAAK,EAAE,IAAI,MAAM,OAAOhG,EAASI,UAAWN,QAA6Cb,MAAMvG,KAAKwG,WAAY,OAAmB1E,OAAOuB,EAAkB,KAAzBvB,CAA4BuB,EAAsB,SAAE,CAACO,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,QAAQ,CAACqgB,MAAM,gBAAgBve,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,QAAQ,CAAC8B,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,WAAwB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,eAA4B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,aAA0B9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,QAAQ,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAC,IAAI4kB,EAAeU,sBAAmCpnB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,aAA0B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAeW,uBAAoCrnB,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAeY,yBAAsCtnB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,iBAA8B9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAea,2BAAwCvnB,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAec,mBAAgCxnB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,WAAwB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAee,qBAAkCznB,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAAC8B,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAegB,qBAAkC1nB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,uBAAoC9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAeiB,uBAAoC3nB,OAAOuB,EAAkB,KAAzBvB,CAA4B,KAAK,CAACqgB,MAAM,aAAave,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAeU,mBAAmBV,EAAeY,uBAAuBZ,EAAec,iBAAiBd,EAAegB,qBAAkC1nB,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS,UAAuB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC8B,SAAS4kB,EAAeW,kBAAkBX,EAAea,sBAAsBb,EAAee,gBAAgBf,EAAeiB,6BAA0C3nB,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACQ,UAAU,aAAaqC,QAA1gG,SAAiCa,GAAI,OAAO8f,EAAyBnjB,MAAMvG,KAAKwG,YAA09F5C,SAAS,2BAA4B,SAAS0qB,GAAoBvL,GAA0BA,EAAMyF,eAAzB,IAA4CvhB,EAAQnF,OAAOV,EAAiC,EAAxCU,GAA2I,SAASysB,IAA4f,OAAheA,EAA0BzsB,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASS,EAAS4B,GAAG,OAAO3D,EAAoBtC,EAAE8D,MAAK,SAAmBQ,GAAW,OAAS,OAAOA,EAAUN,KAAKM,EAAUL,MAAM,KAAK,EAAEgC,EAAEC,iBAAiB4D,QAAQC,IAAI,6BAA6B,IAAIrG,EAAQhH,KAAK,cAAe,MAAM6H,GAAUuF,QAAQC,IAAI,mDAAoD,KAAK,EAAE,IAAI,MAAM,OAAOzF,EAAUH,UAAWE,QAA+CrB,MAAMvG,KAAKwG,WAAY,OAAmB1E,OAAOuB,EAAkB,KAAzBvB,CAA4BuB,EAAsB,SAAE,CAACO,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC8B,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC8B,SAAS,6CAA0D9B,OAAOuB,EAAiB,IAAxBvB,CAA2BoE,EAAwB,EAAE,CAACQ,UAAU,aAAaqC,QAAp+B,SAAiC8gB,GAAK,OAAO0E,EAA0BhoB,MAAMvG,KAAKwG,YAAk7B5C,SAAS,2BAA4B,SAAS4qB,GAAW9oB,GAAO,IAAuB3B,EAAVN,IAA+BM,YAAgBF,EAAU/B,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAMgC,EAAWhC,OAAOP,EAA+B,EAAtCO,CAAyC+B,EAAU,GAAGM,EAAQL,EAAW,GAAGM,EAAWN,EAAW,GAAOG,EAAWnC,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIA,QAAUoC,EAAWpC,OAAOP,EAA+B,EAAtCO,CAAyCmC,EAAW,GAAGwqB,EAAUvqB,EAAW,GAAGwqB,EAAaxqB,EAAW,GAAOskB,EAAe,IAAI1mB,OAAoJ,SAAS6sB,IACv1I,OAD42IA,EAAmB7sB,OAAOgE,EAAkC,EAAzChE,CAAyD+D,EAAoBtC,EAAE4D,MAAK,SAASc,IAAW,IAAI4gB,EAAY,OAAOhjB,EAAoBtC,EAAE8D,MAAK,SAAmBe,GAAW,OAAS,OAAOA,EAAUb,KAAKa,EAAUZ,MAAM,KAAK,EAAEqhB,EAAY,EACjvK3lB,EAASC,WAAWC,MAAMqlB,MAAM1kB,EAAY2kB,KAAKC,KAAK,SAASC,MAAK,SAASnO,GAAUpN,QAAQC,IAAI,YAAYD,QAAQC,IAAImN,GAAUA,EAAS7G,SAAQ,SAASkV,GAAe,IAAIriB,EAAIqiB,EAAcriB,IAAQsiB,EAAUD,EAAcE,MAAMR,EAAe/hB,GAAKsiB,EAAUF,GAAa,KAAqB,GAAbA,IAAgBL,EAAe,CAACU,mBAAqB,EAAEC,kBAAoB,EAAEC,uBAAyB,EAAEC,sBAAwB,EAAEC,iBAAmB,EAAEC,gBAAkB,EAAEC,mBAAqB,EAAEC,kBAAoB,IAAIiF,EAAalG,GAAgC,GAAbK,GAAgBzkB,GAAW,MAAW,KAAK,EAAE,IAAI,MAAM,OAAOgE,EAAUV,UAAWO,QAAwC1B,MAAMvG,KAAKwG,WAAY,OADkpI1E,OAAOpB,EAAiB,UAAxBoB,EAA2B,YAAkC,WAAoC6sB,EAAmBpoB,MAAMvG,KAAKwG,WAAzFooB,MACrqI9sB,OAAOuB,EAAiB,IAAxBvB,CAA2BuB,EAAsB,SAAE,CAACO,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BiE,EAA2B,EAAE,CAACW,UAAU,+DAA+DgC,MAAM,CAACC,UAAU,SAAS/E,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,oBAAoB9C,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BqE,EAAa,MAAmBrE,OAAOuB,EAAiB,IAAxBvB,CAA2B,MAAM,CAAC4E,UAAU,QAAQgC,MAAM,CAACE,SAAS,SAAShF,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2BkE,EAA0B,EAAE,CAACpC,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BkE,EAA0B,EAAE6C,KAAK,CAACjF,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2B,KAAK,CAAC4E,UAAU,mBAAmB9C,SAAS,wBAA2C,mBAAnBG,EAAYU,MAAsC3C,OAAOuB,EAAiB,IAAxBvB,CAA2BwsB,GAAoB,IAAInqB,EAAQ,aAA0BrC,OAAOuB,EAAiB,IAAxBvB,CAA2BusB,GAAe,CAAC7F,eAAeiG,gBAI9mD,IAAyxCI,GAAhwC,SAASzoB,GAAYtE,OAAOb,EAA0B,EAAjCa,CAAoCgtB,EAAI1oB,GAAY,IAAIE,EAAOxE,OAAOZ,EAA6B,EAApCY,CAAuCgtB,GAAK,SAASA,IAA0D,OAApDhtB,OAAOf,EAAgC,EAAvCe,CAA0C9B,KAAK8uB,GAAYxoB,EAAOC,MAAMvG,KAAKwG,WAAk+B,OAAt9B1E,OAAOd,EAA6B,EAApCc,CAAuCgtB,EAAI,CAAC,CAACroB,IAAI,SAASlC,MAAM,WAAkB,OAAmBzC,OAAOuB,EAAiB,IAAxBvB,CAA2BX,EAAwC,EAAE,CAACyC,SAAsB9B,OAAOuB,EAAiB,IAAxBvB,CAA2B4B,EAAa,CAACE,SAAsB9B,OAAOuB,EAAkB,KAAzBvB,CAA4BV,EAA6B,EAAE,CAACwC,SAAS,CAAc9B,OAAOuB,EAAiB,IAAxBvB,CAA2BuD,EAAa,CAAC0pB,OAAM,EAAKC,KAAK,IAAIzpB,UAAUukB,KAA+BhoB,OAAOuB,EAAiB,IAAxBvB,CAA2BuD,EAAa,CAAC0pB,OAAM,EAAKC,KAAK,aAAazpB,UAAUqB,IAAyB9E,OAAOuB,EAAiB,IAAxBvB,CAA2BuD,EAAa,CAAC0pB,OAAM,EAAKC,KAAK,cAAczpB,UAAUipB,KAA0B1sB,OAAOuB,EAAiB,IAAxBvB,CAA2BV,EAA4B,EAAE,CAAC4tB,KAAK,UAAUzpB,UAAU4oB,KAAsBrsB,OAAOuB,EAAiB,IAAxBvB,CAA2BV,EAA4B,EAAE,CAAC4tB,KAAK,SAASzpB,UAAUyoB,KAAqBlsB,OAAOuB,EAAiB,IAAxBvB,CAA2BV,EAA4B,EAAE,CAAC4tB,KAAK,mBAAmBzpB,UAAU0D,eAAoC6lB,EAArsC,CAA2sCpuB,EAAiB,WAE9uCL,EAAoB,KAG9BS,EAAkByC,EAAEkC,OAAoB3D,OAAOuB,EAAiB,IAAxBvB,CAA2B+sB,GAAU,IAAII,SAASC,eAAe,UAInGC,GACA,SAAUhvB,EAAQC,EAASC,MAM/B,CAAC,CAAC,IAAI,EAAE"},"input":"(this[\"webpackJsonppoker\"] = this[\"webpackJsonppoker\"] || []).push([[0],{\n\n/***/ 444:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 466:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 467:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(405);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(59);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(167);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.async-iterator.js\nvar es_symbol_async_iterator = __webpack_require__(179);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.has-instance.js\nvar es_symbol_has_instance = __webpack_require__(180);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js\nvar es_symbol_is_concat_spreadable = __webpack_require__(181);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.iterator.js\nvar es_symbol_iterator = __webpack_require__(182);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.match.js\nvar es_symbol_match = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.replace.js\nvar es_symbol_replace = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.search.js\nvar es_symbol_search = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.species.js\nvar es_symbol_species = __webpack_require__(186);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.split.js\nvar es_symbol_split = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.to-primitive.js\nvar es_symbol_to_primitive = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.to-string-tag.js\nvar es_symbol_to_string_tag = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.unscopables.js\nvar es_symbol_unscopables = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(191);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.copy-within.js\nvar es_array_copy_within = __webpack_require__(192);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.fill.js\nvar es_array_fill = __webpack_require__(194);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__(196);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find-index.js\nvar es_array_find_index = __webpack_require__(197);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.flat.js\nvar es_array_flat = __webpack_require__(198);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.flat-map.js\nvar es_array_flat_map = __webpack_require__(200);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__(201);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(204);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\nvar es_array_index_of = __webpack_require__(205);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(103);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__(209);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.last-index-of.js\nvar es_array_last_index_of = __webpack_require__(210);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(212);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.of.js\nvar es_array_of = __webpack_require__(213);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.reduce.js\nvar es_array_reduce = __webpack_require__(214);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.reduce-right.js\nvar es_array_reduce_right = __webpack_require__(215);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__(216);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.sort.js\nvar es_array_sort = __webpack_require__(217);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.species.js\nvar es_array_species = __webpack_require__(218);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__(219);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.unscopables.flat.js\nvar es_array_unscopables_flat = __webpack_require__(220);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.unscopables.flat-map.js\nvar es_array_unscopables_flat_map = __webpack_require__(221);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.date.to-primitive.js\nvar es_date_to_primitive = __webpack_require__(222);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.has-instance.js\nvar es_function_has_instance = __webpack_require__(223);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(224);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.json.to-string-tag.js\nvar es_json_to_string_tag = __webpack_require__(225);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.map.js\nvar es_map = __webpack_require__(226);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.acosh.js\nvar es_math_acosh = __webpack_require__(229);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.asinh.js\nvar es_math_asinh = __webpack_require__(231);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.atanh.js\nvar es_math_atanh = __webpack_require__(232);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.cbrt.js\nvar es_math_cbrt = __webpack_require__(233);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.clz32.js\nvar es_math_clz32 = __webpack_require__(234);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.cosh.js\nvar es_math_cosh = __webpack_require__(235);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.expm1.js\nvar es_math_expm1 = __webpack_require__(236);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.fround.js\nvar es_math_fround = __webpack_require__(237);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.hypot.js\nvar es_math_hypot = __webpack_require__(238);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.imul.js\nvar es_math_imul = __webpack_require__(239);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.log10.js\nvar es_math_log10 = __webpack_require__(240);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.log1p.js\nvar es_math_log1p = __webpack_require__(241);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.log2.js\nvar es_math_log2 = __webpack_require__(242);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.sign.js\nvar es_math_sign = __webpack_require__(243);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.sinh.js\nvar es_math_sinh = __webpack_require__(244);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.tanh.js\nvar es_math_tanh = __webpack_require__(245);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.to-string-tag.js\nvar es_math_to_string_tag = __webpack_require__(246);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.trunc.js\nvar es_math_trunc = __webpack_require__(247);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.epsilon.js\nvar es_number_epsilon = __webpack_require__(248);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.is-finite.js\nvar es_number_is_finite = __webpack_require__(249);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.is-integer.js\nvar es_number_is_integer = __webpack_require__(250);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.is-nan.js\nvar es_number_is_nan = __webpack_require__(252);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.is-safe-integer.js\nvar es_number_is_safe_integer = __webpack_require__(253);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.max-safe-integer.js\nvar es_number_max_safe_integer = __webpack_require__(254);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.min-safe-integer.js\nvar es_number_min_safe_integer = __webpack_require__(255);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.parse-float.js\nvar es_number_parse_float = __webpack_require__(256);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.parse-int.js\nvar es_number_parse_int = __webpack_require__(257);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.to-fixed.js\nvar es_number_to_fixed = __webpack_require__(258);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__(259);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.define-getter.js\nvar es_object_define_getter = __webpack_require__(261);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.define-setter.js\nvar es_object_define_setter = __webpack_require__(262);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.entries.js\nvar es_object_entries = __webpack_require__(263);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.freeze.js\nvar es_object_freeze = __webpack_require__(265);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.from-entries.js\nvar es_object_from_entries = __webpack_require__(266);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(267);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(268);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-names.js\nvar es_object_get_own_property_names = __webpack_require__(269);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-prototype-of.js\nvar es_object_get_prototype_of = __webpack_require__(270);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.is.js\nvar es_object_is = __webpack_require__(271);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.is-extensible.js\nvar es_object_is_extensible = __webpack_require__(273);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.is-frozen.js\nvar es_object_is_frozen = __webpack_require__(274);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.is-sealed.js\nvar es_object_is_sealed = __webpack_require__(275);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(276);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.lookup-getter.js\nvar es_object_lookup_getter = __webpack_require__(277);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.lookup-setter.js\nvar es_object_lookup_setter = __webpack_require__(278);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.prevent-extensions.js\nvar es_object_prevent_extensions = __webpack_require__(279);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.seal.js\nvar es_object_seal = __webpack_require__(280);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(281);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.values.js\nvar es_object_values = __webpack_require__(282);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(283);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.finally.js\nvar es_promise_finally = __webpack_require__(289);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.apply.js\nvar es_reflect_apply = __webpack_require__(290);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.construct.js\nvar es_reflect_construct = __webpack_require__(291);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.define-property.js\nvar es_reflect_define_property = __webpack_require__(292);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.delete-property.js\nvar es_reflect_delete_property = __webpack_require__(293);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.get.js\nvar es_reflect_get = __webpack_require__(294);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js\nvar es_reflect_get_own_property_descriptor = __webpack_require__(295);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.get-prototype-of.js\nvar es_reflect_get_prototype_of = __webpack_require__(296);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.has.js\nvar es_reflect_has = __webpack_require__(297);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.is-extensible.js\nvar es_reflect_is_extensible = __webpack_require__(298);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.own-keys.js\nvar es_reflect_own_keys = __webpack_require__(299);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.prevent-extensions.js\nvar es_reflect_prevent_extensions = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.set.js\nvar es_reflect_set = __webpack_require__(301);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.set-prototype-of.js\nvar es_reflect_set_prototype_of = __webpack_require__(302);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(152);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.flags.js\nvar es_regexp_flags = __webpack_require__(304);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__(305);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.js\nvar es_set = __webpack_require__(306);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.code-point-at.js\nvar es_string_code_point_at = __webpack_require__(307);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.ends-with.js\nvar es_string_ends_with = __webpack_require__(308);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.from-code-point.js\nvar es_string_from_code_point = __webpack_require__(310);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(311);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__(156);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\nvar es_string_match = __webpack_require__(312);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.pad-end.js\nvar es_string_pad_end = __webpack_require__(313);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.pad-start.js\nvar es_string_pad_start = __webpack_require__(316);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.raw.js\nvar es_string_raw = __webpack_require__(317);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.repeat.js\nvar es_string_repeat = __webpack_require__(318);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(319);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.search.js\nvar es_string_search = __webpack_require__(320);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__(321);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.starts-with.js\nvar es_string_starts_with = __webpack_require__(322);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim.js\nvar es_string_trim = __webpack_require__(323);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim-end.js\nvar es_string_trim_end = __webpack_require__(324);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim-start.js\nvar es_string_trim_start = __webpack_require__(325);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.anchor.js\nvar es_string_anchor = __webpack_require__(326);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.big.js\nvar es_string_big = __webpack_require__(327);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.blink.js\nvar es_string_blink = __webpack_require__(328);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.bold.js\nvar es_string_bold = __webpack_require__(329);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.fixed.js\nvar es_string_fixed = __webpack_require__(330);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.fontcolor.js\nvar es_string_fontcolor = __webpack_require__(331);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.fontsize.js\nvar es_string_fontsize = __webpack_require__(332);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.italics.js\nvar es_string_italics = __webpack_require__(333);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.link.js\nvar es_string_link = __webpack_require__(334);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.small.js\nvar es_string_small = __webpack_require__(335);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.strike.js\nvar es_string_strike = __webpack_require__(336);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.sub.js\nvar es_string_sub = __webpack_require__(337);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.sup.js\nvar es_string_sup = __webpack_require__(338);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.float32-array.js\nvar es_typed_array_float32_array = __webpack_require__(339);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.float64-array.js\nvar es_typed_array_float64_array = __webpack_require__(344);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.int8-array.js\nvar es_typed_array_int8_array = __webpack_require__(345);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.int16-array.js\nvar es_typed_array_int16_array = __webpack_require__(346);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.int32-array.js\nvar es_typed_array_int32_array = __webpack_require__(347);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-array.js\nvar es_typed_array_uint8_array = __webpack_require__(348);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js\nvar es_typed_array_uint8_clamped_array = __webpack_require__(349);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint16-array.js\nvar es_typed_array_uint16_array = __webpack_require__(350);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint32-array.js\nvar es_typed_array_uint32_array = __webpack_require__(351);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.copy-within.js\nvar es_typed_array_copy_within = __webpack_require__(352);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.every.js\nvar es_typed_array_every = __webpack_require__(353);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.fill.js\nvar es_typed_array_fill = __webpack_require__(354);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.filter.js\nvar es_typed_array_filter = __webpack_require__(355);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find.js\nvar es_typed_array_find = __webpack_require__(356);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-index.js\nvar es_typed_array_find_index = __webpack_require__(357);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.for-each.js\nvar es_typed_array_for_each = __webpack_require__(358);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.from.js\nvar es_typed_array_from = __webpack_require__(359);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.includes.js\nvar es_typed_array_includes = __webpack_require__(360);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.index-of.js\nvar es_typed_array_index_of = __webpack_require__(361);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.iterator.js\nvar es_typed_array_iterator = __webpack_require__(362);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.join.js\nvar es_typed_array_join = __webpack_require__(363);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.last-index-of.js\nvar es_typed_array_last_index_of = __webpack_require__(364);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.map.js\nvar es_typed_array_map = __webpack_require__(365);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.of.js\nvar es_typed_array_of = __webpack_require__(366);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce.js\nvar es_typed_array_reduce = __webpack_require__(367);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce-right.js\nvar es_typed_array_reduce_right = __webpack_require__(368);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reverse.js\nvar es_typed_array_reverse = __webpack_require__(369);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js\nvar es_typed_array_set = __webpack_require__(370);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.slice.js\nvar es_typed_array_slice = __webpack_require__(371);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.some.js\nvar es_typed_array_some = __webpack_require__(372);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.sort.js\nvar es_typed_array_sort = __webpack_require__(373);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.subarray.js\nvar es_typed_array_subarray = __webpack_require__(374);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-locale-string.js\nvar es_typed_array_to_locale_string = __webpack_require__(375);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-string.js\nvar es_typed_array_to_string = __webpack_require__(376);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.weak-map.js\nvar es_weak_map = __webpack_require__(377);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.weak-set.js\nvar es_weak_set = __webpack_require__(379);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(380);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(382);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.immediate.js\nvar web_immediate = __webpack_require__(383);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.queue-microtask.js\nvar web_queue_microtask = __webpack_require__(384);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(385);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.to-json.js\nvar web_url_to_json = __webpack_require__(387);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.js\nvar web_url_search_params = __webpack_require__(160);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(80);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./node_modules/raf/polyfill.js\nvar polyfill = __webpack_require__(388);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(398);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(432);\n\n// EXTERNAL MODULE: ./node_modules/firebase/database/dist/index.esm.js\nvar database_dist_index_esm = __webpack_require__(434);\n\n// CONCATENATED MODULE: ./src/firebase.js\n/**\r\n * Initialize Firebase cloud key values (for recording data on cloud DB)\r\n */var app=index_esm[\"a\" /* default */].initializeApp({apiKey:\"AIzaSyA7MqJlI9k9b77XrNNiViGzRqKwubcJJ44\",authDomain:\"poker-auth-development.firebaseapp.com\",databaseURL:Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true,\"REACT_APP_FIREBASE_API_KEY\":\"AIzaSyA7MqJlI9k9b77XrNNiViGzRqKwubcJJ44\",\"REACT_APP_FIREBASE_APP_ID\":\"1:734122281658:web:4b5c724a6e3815a11ed083\",\"REACT_APP_FIREBASE_AUTH_DOMAIN\":\"poker-auth-development.firebaseapp.com\",\"REACT_APP_FIREBASE_MESSAGING_SENDER_ID\":\"734122281658\",\"REACT_APP_FIREBASE_PROJECT_ID\":\"poker-auth-development\",\"REACT_APP_FIREBASE_STORAGE_BUCKET\":\"poker-auth-development.appspot.com\"}).REACT_APP_FIREBASE_DATABASE_URL,projectId:\"poker-auth-development\",storageBucket:\"poker-auth-development.appspot.com\",messagingSenderId:\"734122281658\",appId:\"1:734122281658:web:4b5c724a6e3815a11ed083\"});var auth=app.auth();var firebaseDb=app.database().ref();/* harmony default export */ var firebase = (app);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/contexts/AuthContext.js\n/**\r\n * Authentication context to handle user authentication for\r\n * restricted pages (Dashboard, Statistics, Game, etc.)\r\n */var AuthContext=/*#__PURE__*/react_default.a.createContext();function useAuth(){return Object(react[\"useContext\"])(AuthContext);}/*\r\n    Authentication Provider\r\n*/function AuthProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];/*\r\n    Sign up with Email and Password\r\n  */function signup(email,password){return auth.createUserWithEmailAndPassword(email,password);}/*\r\n    Login with Email and Password\r\n  */function login(email,password){return auth.signInWithEmailAndPassword(email,password);}/*\r\n    Logout with Email and Password\r\n  */function logout(){return auth.signOut();}/*\r\n    Reset Password for Email\r\n  */function resetPassword(email){return auth.sendPasswordResetEmail(email);}/*\r\n    Update Email\r\n  */function updateEmail(email){return currentUser.updateEmail(email);}/*\r\n    Update Email\r\n  */function updatePassword(password){return currentUser.updatePassword(password);}Object(react[\"useEffect\"])(function(){var unsubscribe=auth.onAuthStateChanged(function(user){setCurrentUser(user);setLoading(false);});return unsubscribe;},[]);var value={currentUser:currentUser,login:login,signup:signup,logout:logout,resetPassword:resetPassword,updateEmail:updateEmail,updatePassword:updatePassword};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:value,children:!loading&&children});}\n// CONCATENATED MODULE: ./src/components/helpers/PrivateRoute.js\n/**\r\n * PrivateRoute component used to restrict access to specific\r\n * pages to only logged in users.\r\n */function PrivateRoute(_ref){var Component=_ref.component,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"component\"]);var _useAuth=useAuth(),currentUser=_useAuth.currentUser;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{render:function render(props){return currentUser?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"});}}));}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(13);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(472);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Card.js + 2 modules\nvar esm_Card = __webpack_require__(476);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Alert.js + 11 modules\nvar Alert = __webpack_require__(475);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(401);\n\n// EXTERNAL MODULE: ./src/Game.css\nvar src_Game = __webpack_require__(79);\n\n// CONCATENATED MODULE: ./src/components/helpers/Logo.js\n/**\r\n * Logo component which represents the Logo image of the Poker App\r\n * aligned with the name of the App.\r\n */var Logo_Logo=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Logo,_Component);var _super=Object(createSuper[\"a\" /* default */])(Logo);function Logo(){Object(classCallCheck[\"a\" /* default */])(this,Logo);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Logo,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"logo-main mb-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"navbar-brand\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"logo mr-2\",src:\"/assets/logo.svg\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"navbar-text\",children:\"No-Limit Texas Hold'em Poker\"})]})});}}]);return Logo;}(react[\"Component\"]);/* harmony default export */ var helpers_Logo = (Logo_Logo);\n// CONCATENATED MODULE: ./src/components/interfaces/Dashboard.js\n/**\r\n * Dashboard component to provide users with menu \r\n * where they can join a Poker game or view their \r\n * individual game statistics.\r\n */function Dashboard(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser,logout=_useAuth.logout;var history=Object(react_router[\"g\" /* useHistory */])();Dashboard.username=getUsername(currentUser.email);/*\r\n     Logout user\r\n    */function handleLogout(){return _handleLogout.apply(this,arguments);}/*\r\n     Show user statistics\r\n    */function _handleLogout(){_handleLogout=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(\"\");_context.prev=1;_context.next=4;return logout();case 4:history.push(\"/login\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(\"Failed to log out\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return _handleLogout.apply(this,arguments);}function viewStatistics(){return _viewStatistics.apply(this,arguments);}/*\r\n     Start Game\r\n    */function _viewStatistics(){_viewStatistics=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setError(\"\");try{history.push(\"/Statistics\");}catch(_unused2){setError(\"Failed to view statistics\");}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _viewStatistics.apply(this,arguments);}function playPoker(){return _playPoker.apply(this,arguments);}/*\r\n     Get username from email address\r\n    */function _playPoker(){_playPoker=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var difficulty,_args3=arguments;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:difficulty=_args3.length>0&&_args3[0]!==undefined?_args3[0]:\"Beginner\";setError(\"\");try{history.push(\"/?difficulty=\"+difficulty);}catch(_unused3){setError(\"Failed to enter game\");}case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _playPoker.apply(this,arguments);}function getUsername(emailAddress){return emailAddress.substring(0,emailAddress.indexOf(\"@\"));}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-200 text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(helpers_Logo,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_Card[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm_Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-center mb-4\",children:\"Dashboard\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"danger\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center mb-2\",children:[\"Welcome \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"strong\",{children:[\" \",Dashboard.username]}),\"!\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-100 text-center mt-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"beginner\");},children:\"Join Beginner Table\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"intermediate\");},children:\"Join Intermediate Table\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"expert\");},children:\"Join Expert Table\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"ultimate\");},children:\"Join Ultimate Poker Pro Table\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"warning\",className:\"w-100\",onClick:viewStatistics,children:\"View Personal Statistics\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 text-center mt-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"link\",onClick:handleLogout,children:\"Log Out\"})})]})]})});}\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 14 modules\nvar Form = __webpack_require__(474);\n\n// CONCATENATED MODULE: ./src/components/interfaces/ForgotPassword.js\n/**\r\n * ForgotPassword component to allow users \r\n * to reset their account password (needed to login).\r\n */function ForgotPassword(){var emailRef=Object(react[\"useRef\"])();var _useAuth=useAuth(),resetPassword=_useAuth.resetPassword;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];/*\r\n    Handle user forgot password submission\r\n  */function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setMessage(\"\");setError(\"\");setLoading(true);_context.next=7;return resetPassword(emailRef.current.value);case 7:setMessage(\"Check your inbox for further instructions\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);setError(\"Failed to reset password\");case 13:setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:\"d-flex align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_Card[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm_Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-center mb-4\",children:\"Password Reset\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"danger\",children:error}),message&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"success\",children:message}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{id:\"email\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,className:\"w-100\",type:\"submit\",children:\"Reset Password\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 text-center mt-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-100 text-center mt-2\",children:[\"Need an account? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Sign Up\"})]})]})})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(109);\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/DropdownButton.js\nvar DropdownButton = __webpack_require__(473);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Dropdown.js + 10 modules\nvar Dropdown = __webpack_require__(403);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(444);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/uuid/v1.js\nvar v1 = __webpack_require__(72);\nvar v1_default = /*#__PURE__*/__webpack_require__.n(v1);\n\n// CONCATENATED MODULE: ./src/services/playersService.js\n/** \r\n* The playerService provides services to handle\r\n* player information and the passing of information\r\n* to players.\r\n*/ /* \r\nIntialise user and agents data\r\n*/var axios=__webpack_require__(447);var makeTable=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var playerName,users,_args=arguments;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:playerName=_args.length>0&&_args[0]!==undefined?_args[0]:\"User\";// a list containing both the user and the agents data\nusers=[{id:v1_default()(),name:playerName,avatarURL:'/assets/playerIcons/blackUser.svg',cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:20000,roundStartChips:20000,roundEndChips:20000,currentRoundChipsInvested:0,bet:0,betReconciled:false,folded:false,allIn:false,canRaise:true,stackInvestment:0,robot:false},{id:v1_default()(),name:'Agent 1',avatarURL:'/assets/playerIcons/blueUser.svg',cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:20000,roundStartChips:20000,roundEndChips:20000,currentRoundChipsInvested:0,bet:0,betReconciled:false,folded:false,allIn:false,canRaise:true,stackInvestment:0,robot:true},{id:v1_default()(),name:'Agent 2',avatarURL:'/assets/playerIcons/redUser.svg',cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:20000,roundStartChips:20000,roundEndChips:20000,currentRoundChipsInvested:0,bet:0,betReconciled:false,folded:false,allIn:false,canRaise:true,stackInvestment:0,robot:true},{id:v1_default()(),name:'Agent 3',avatarURL:'/assets/playerIcons/purpleUser.svg',cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:20000,roundStartChips:20000,roundEndChips:20000,currentRoundChipsInvested:0,bet:0,betReconciled:false,folded:false,allIn:false,canRaise:true,stackInvestment:0,robot:true},{id:v1_default()(),name:'Agent 4',avatarURL:'/assets/playerIcons/yellowUser.svg',cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:20000,roundStartChips:20000,roundEndChips:20000,currentRoundChipsInvested:0,bet:0,betReconciled:false,folded:false,allIn:false,canRaise:true,stackInvestment:0,robot:true},{id:v1_default()(),name:'Agent 5',avatarURL:'/assets/playerIcons/yellowUser.svg',cards:[],showDownHand:{hand:[],descendingSortHand:[]},chips:20000,roundStartChips:20000,roundEndChips:20000,currentRoundChipsInvested:0,bet:0,betReconciled:false,folded:false,allIn:false,canRaise:true,stackInvestment:0,robot:true}];return _context.abrupt(\"return\",users);case 3:case\"end\":return _context.stop();}}},_callee);}));return function makeTable(){return _ref.apply(this,arguments);};}();/* \r\n Used to create agents of different difficulties\r\n */var makePersonality=function makePersonality(seed){switch(seed){// intermediate/advanced ai\ncase seed>0.5:return'standard';// beginner ai\ncase seed>0.35:return'aggressive';case seed>0:// intermediate/advanced ai\ndefault:return'conservative';}};var manageOverflowIndex=function manageOverflowIndex(currentIndex,incrementBy,arrayLength,direction){switch(direction){case'up':{return(currentIndex+incrementBy)%arrayLength;}case'down':{return(currentIndex-incrementBy)%arrayLength+arrayLength;}default:throw Error(\"Attempted to overfow index on unfamiliar direction\");}};/* \r\n Determines which player starts the round\r\n */var choosePhaseStartActivePlayer=function choosePhaseStartActivePlayer(state){var recursion=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!recursion){state.activePlayerIndex=manageOverflowIndex(state.blindIndex.big,1,state.players.length,'up');}else if(recursion){state.activePlayerIndex=manageOverflowIndex(state.activePlayerIndex,1,state.players.length,'up');}if(state.players[state.activePlayerIndex].folded){return choosePhaseStartActivePlayer(state,true);}if(state.players[state.activePlayerIndex].chips===0){return choosePhaseStartActivePlayer(state,true);}return state;};/* \r\n Determines which players turn is next\r\n */var playersService_chooseNextActivePlayer=function chooseNextActivePlayer(state){state.activePlayerIndex=manageOverflowIndex(state.activePlayerIndex,1,state.players.length,'up');var activePlayer=state.players[state.activePlayerIndex];var allButOnePlayersAreAllIn=state.numPlayersActive-state.numPlayersAllIn===1;if(state.numPlayersActive===1){console.log(\"Only one player active, skipping to showdown.\");return cardsService_playerShowDown(betService_remakePot(cardsService_dealOtherCommunityCards(state)));}if(activePlayer.folded){console.log(\"Current player index is folded, going to next active player.\");return chooseNextActivePlayer(state);}if(allButOnePlayersAreAllIn&&!activePlayer.folded&&activePlayer.betReconciled){return cardsService_playerShowDown(betService_remakePot(cardsService_dealOtherCommunityCards(state)));}if(activePlayer.chips===0){if(state.numPlayersAllIn===state.numPlayersActive){console.log(\"All players are all in.\");return cardsService_playerShowDown(betService_remakePot(cardsService_dealOtherCommunityCards(state)));}else if(allButOnePlayersAreAllIn&&activePlayer.allIn){return cardsService_playerShowDown(betService_remakePot(cardsService_dealOtherCommunityCards(state)));}else{return chooseNextActivePlayer(state);}}if(activePlayer.betReconciled){console.log(\"Player is reconciled with pot, round betting cycle complete, proceed to next round.\");return betService_managePhaseShift(state);}return state;};/* \r\n The dealer chip is assigned to the \r\n player acting as the dealer in \r\n a given round.\r\n */var moveDealerChip=function moveDealerChip(state){state.dealerIndex=manageOverflowIndex(state.dealerIndex,1,state.players.length,'up');var nextDealer=state.players[state.dealerIndex];if(nextDealer.chips===0){return moveDealerChip(state);}return playersService_findBrokePlayers(state,nextDealer.name);};/* \r\n Finds and remove players with no funds remaining,\r\n shifts dealer if necessary and prepares state for \r\n next game phase.\r\n */var playersService_findBrokePlayers=function findBrokePlayers(state,dealerID){state.players=state.players.filter(function(player){return player.chips>0;});var newDealerIndex=state.players.findIndex(function(player){return player.name===dealerID;});state.dealerIndex=newDealerIndex;state.activePlayerIndex=newDealerIndex;if(state.players.length===1){// winner determined\nreturn state;}else if(state.players.length===2){state.blindIndex.small=newDealerIndex;state.blindIndex.big=manageOverflowIndex(newDealerIndex,1,state.players.length,'up');state.players=anteUpBlinds(state.players,{bigBlindIndex:state.blindIndex.big,smallBlindIndex:state.blindIndex.small},state.minBet).map(function(player){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},player),{},{cards:[],showDownHand:{hand:[],descendingSortHand:[]},roundStartChips:player.chips+player.bet,currentRoundChipsInvested:0,betReconciled:false,folded:false,allIn:false});});state.numPlayersAllIn=0;state.numPlayersFolded=0;state.numPlayersActive=state.players.length;}else{var blindIndicies=calculateBlindIndices(newDealerIndex,state.players.length);state.blindIndex={big:blindIndicies.bigBlindIndex,small:blindIndicies.smallBlindIndex};state.players=anteUpBlinds(state.players,blindIndicies,state.minBet).map(function(player){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},player),{},{cards:[],showDownHand:{hand:[],descendingSortHand:[]},roundStartChips:player.chips+player.bet,currentRoundChipsInvested:0,betReconciled:false,folded:false,allIn:false});});state.numPlayersAllIn=0;state.numPlayersFolded=0;state.numPlayersActive=state.players.length;}return cardsService_dealPlayerCards(state);};/* \r\n Increments state to next game phase and \r\n shifts dealer.\r\n */var playersService_startNextRound=function startNextRound(state){state.communityCards=[];state.sidePots=[];state.playerHierarchy=[];state.showDownMessages=[];state.deck=shuffleCards(cardsService_makeDeckOfCards());state.highBet=20;state.betInputValue=20;state.minBet=20;// can export out to initialState\n// Unmount all cards so react can re-trigger animations\nvar players=state.players;var clearPlayerCards=players.map(function(player){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},player),{},{cards:player.cards.map(function(card){})});});state.players=clearPlayerCards;return moveDealerChip(state);};/* \r\n Check if the game has a winner.\r\n */var checkWin=function checkWin(players){return players.filter(function(player){return player.chips>0;}).length===1;};\n// CONCATENATED MODULE: ./src/services/cardsService.js\n/**\r\n * cardsService provides key services to the App that\r\n * regard the Poker game cards. Such services include \r\n * shuffling the cards, dealing the cards finding \r\n * the best hand, etc.\r\n */var totalNumCards=52;var cardsService_cards=['2','3','4','5','6','7','8','9','10','J','Q','K','A'];var suits=['Heart','Spade','Club','Diamond'];// start from 2 as A (or 1) is the higest ranking card\nvar VALUE_MAP={2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:9,J:10,Q:11,K:12,A:13};/*\r\n  Generate the deck of 52 cards \r\n */var cardsService_makeDeckOfCards=function makeDeckOfCards(){var deck=[];// get every combination of suit and value\nvar _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(suits),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var suit=_step.value;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(cardsService_cards),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var card=_step2.value;deck.push({cardFace:card,suit:suit,value:VALUE_MAP[card]});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return deck;};/*\r\n  Shuffle cards to randomize their order\r\n */var shuffleCards=function shuffleCards(deck){var shuffledDeck=new Array(totalNumCards);var filledSlots=[];for(var i=0;i<totalNumCards;i++){// if all cards except 1 are given \nif(i===51){// assign the last slot to the remaining card\nvar lastSlot=shuffledDeck.findIndex(function(el){return typeof el=='undefined';});shuffledDeck[lastSlot]=deck[i];filledSlots.push(lastSlot);}else{// randomize order of all cards one by one\nvar shuffleToPosition=randomStartPosition(0,totalNumCards-1);while(filledSlots.includes(shuffleToPosition)){shuffleToPosition=randomStartPosition(0,totalNumCards-1);}shuffledDeck[shuffleToPosition]=deck[i];filledSlots.push(shuffleToPosition);}}return shuffledDeck;};/*\r\n  Deal players cards at start of each hand\r\n */var cardsService_dealPlayerCards=function dealPlayerCards(state){state.clearCards=false;var animationDelay=0;// deal cards until every player at table has 2\nwhile(state.players[state.activePlayerIndex].cards.length<2){var _getCards=cardsService_getCards(state.deck,1),mutableDeckCopy=_getCards.mutableDeckCopy,chosenCards=_getCards.chosenCards;// add animation delay \nchosenCards.animationDelay=animationDelay;animationDelay=animationDelay+250;var newDeck=Object(toConsumableArray[\"a\" /* default */])(mutableDeckCopy);state.players[state.activePlayerIndex].cards.push(chosenCards);state.deck=newDeck;state.activePlayerIndex=manageOverflowIndex(state.activePlayerIndex,1,state.players.length,'up');}if(state.players[state.activePlayerIndex].cards.length===2){state.activePlayerIndex=manageOverflowIndex(state.blindIndex.big,1,state.players.length,'up');// set first phase of betting\nstate.phase='betting1';return state;}};/*\r\n  Find random start position for giving cards (assigns dealer chip)\r\n */var randomStartPosition=function randomStartPosition(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min+1))+min;};/*\r\n  Get cards dealt to a player\r\n */var cardsService_getCards=function getCards(deck,numToGet){// make shallow copy of deck to not alter original deck attributes\nvar mutableDeckCopy=Object(toConsumableArray[\"a\" /* default */])(deck);var chosenCards;if(numToGet===1){// get last card \nchosenCards=mutableDeckCopy.pop();}else{// get chosen cards from mutable deck copy one by one\nchosenCards=[];for(var i=0;i<numToGet;i++){chosenCards.push(mutableDeckCopy.pop());}}return{mutableDeckCopy:mutableDeckCopy,chosenCards:chosenCards};};/*\r\n  Deal flop cards\r\n */var cardsService_dealFlopCards=function dealFlopCards(state){var animationDelay=0;var _getCards2=cardsService_getCards(state.deck,3),mutableDeckCopy=_getCards2.mutableDeckCopy,chosenCards=_getCards2.chosenCards;// deal first 3 chosen flop cards\nvar _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(chosenCards),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var card=_step3.value;// add animation delay \ncard.animationDelay=animationDelay;animationDelay=animationDelay+250;state.communityCards.push(card);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}state.deck=mutableDeckCopy;state=choosePhaseStartActivePlayer(state);// set second phase of betting\nstate.phase='betting2';return state;};/*\r\n  Deal turn cards\r\n */var cardsService_dealTurnCards=function dealTurnCards(state){var _getCards3=cardsService_getCards(state.deck,1),mutableDeckCopy=_getCards3.mutableDeckCopy,chosenCards=_getCards3.chosenCards;chosenCards.animationDelay=0;state.communityCards.push(chosenCards);state.deck=mutableDeckCopy;state=choosePhaseStartActivePlayer(state);// set third phase of betting\nstate.phase='betting3';return state;};/*\r\n  Deal river cards\r\n */var cardsService_dealRiverCards=function dealRiverCards(state){var _getCards4=cardsService_getCards(state.deck,1),mutableDeckCopy=_getCards4.mutableDeckCopy,chosenCards=_getCards4.chosenCards;chosenCards.animationDelay=0;state.communityCards.push(chosenCards);state.deck=mutableDeckCopy;state=choosePhaseStartActivePlayer(state);// set fourth phase of betting\nstate.phase='betting4';return state;};/*\r\n  Deal table Community cards \r\n */var cardsService_dealOtherCommunityCards=function dealOtherCommunityCards(state){// check number of cards left to deal\nvar cardsToPop=5-state.communityCards.length;if(cardsToPop>=1){var animationDelay=0;var _getShowdownCards=cardsService_getShowdownCards(state.deck,cardsToPop),mutableDeckCopy=_getShowdownCards.mutableDeckCopy,chosenCards=_getShowdownCards.chosenCards;var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(chosenCards),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var card=_step4.value;card.animationDelay=animationDelay;animationDelay=animationDelay+250;state.communityCards.push(card);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}state.deck=mutableDeckCopy;}// when completed move to showdown phase (phase to check winners of hand)\nstate.phase='showdown';return state;};/*\r\n  Perform player showdown at end of hand\r\n */var cardsService_playerShowDown=function playerShowDown(state){// find players that are still in the hand\nvar _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(state.players),_step5;try{var _loop=function _loop(){var player=_step5.value;var frequencyHistogram={};var suitHistogram={};// build each player's best hand\nplayer.showDownHand.hand=player.cards.concat(state.communityCards);player.showDownHand.descendingSortHand=player.showDownHand.hand.map(function(el){return el;}).sort(function(a,b){return b.value-a.value;});// This mutates showDownHand.hand in place(!!)\nplayer.showDownHand.descendingSortHand.forEach(function(card){frequencyHistogram[card.cardFace]=frequencyHistogram[card.cardFace]+1||1;suitHistogram[card.suit]=suitHistogram[card.suit]+1||1;});player.frequencyHistogram=frequencyHistogram;player.suitHistogram=suitHistogram;var valueSet=generateValueSet(player.showDownHand.descendingSortHand);// check value of each player's hand\nvar _checkIfFlush=checkIfFlush(suitHistogram),isFlush=_checkIfFlush.isFlush,flushedSuit=_checkIfFlush.flushedSuit;var flushCards=isFlush&&player.showDownHand.descendingSortHand.filter(function(card){return card.suit===flushedSuit;});var isRoyalFlush=isFlush&&checkIfRoyalFlush(flushCards);var _ref=isFlush&&checkIfStraightFlush(flushCards),isStraightFlush=_ref.isStraightFlush,isLowStraightFlush=_ref.isLowStraightFlush,concurrentSFCardValues=_ref.concurrentSFCardValues,concurrentSFCardValuesLow=_ref.concurrentSFCardValuesLow;var _checkIfStraight=cardsService_checkIfStraight(valueSet),isStraight=_checkIfStraight.isStraight,isLowStraight=_checkIfStraight.isLowStraight,concurrentCardValues=_checkIfStraight.concurrentCardValues,concurrentCardValuesLow=_checkIfStraight.concurrentCardValuesLow;var _checkFrequencyHistog=checkFrequencyHistogram(player.showDownHand.descendingSortHand,frequencyHistogram),isFourOfAKind=_checkFrequencyHistog.isFourOfAKind,isFullHouse=_checkFrequencyHistog.isFullHouse,isThreeOfAKind=_checkFrequencyHistog.isThreeOfAKind,isTwoPair=_checkFrequencyHistog.isTwoPair,isPair=_checkFrequencyHistog.isPair,frequencyHistogramMetaData=_checkFrequencyHistog.frequencyHistogramMetaData;var isNoPair=!isRoyalFlush&&!isStraightFlush&&!isFourOfAKind&&!isFullHouse&&!isFlush&&!isStraight&&!isThreeOfAKind&&!isTwoPair&&!isPair;// set value of each player's hand\nplayer.showDownHand.bools={isRoyalFlush:isRoyalFlush,isStraightFlush:isStraightFlush,isFourOfAKind:isFourOfAKind,isFullHouse:isFullHouse,isFlush:isFlush,isStraight:isStraight,isThreeOfAKind:isThreeOfAKind,isTwoPair:isTwoPair,isPair:isPair,isNoPair:isNoPair};player.showDownHand.heldRankHierarchy=[{name:'Royal Flush',match:isRoyalFlush},{name:'Straight Flush',match:isStraightFlush},{name:'Four Of A Kind',match:isFourOfAKind},{name:'Full House',match:isFullHouse},{name:'Flush',match:isFlush},{name:'Straight',match:isStraight},{name:'Three Of A Kind',match:isThreeOfAKind},{name:'Two Pair',match:isTwoPair},{name:'Pair',match:isPair},{name:'No Pair',match:isNoPair}];player.metaData=frequencyHistogramMetaData;// get best hand between players in showdown\nvar highRankPosition=player.showDownHand.heldRankHierarchy.findIndex(function(el){return el.match===true;});player.showDownHand.bestHandRank=player.showDownHand.heldRankHierarchy[highRankPosition].name;player.showDownHand.bestHand=cardsService_findBestHand(player.showDownHand.descendingSortHand,player.showDownHand.bestHandRank,flushedSuit,flushCards,concurrentCardValues,concurrentCardValuesLow,isLowStraight,isLowStraightFlush,concurrentSFCardValues,concurrentSFCardValuesLow,frequencyHistogramMetaData);};for(_iterator5.s();!(_step5=_iterator5.n()).done;){_loop();}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}return cardsService_assignSidePots(state);};/*\r\n  Get cards of players that are part of showdown\r\n */var cardsService_getShowdownCards=function getShowdownCards(deck,numToPop){// make shallow copy of deck to not alter original deck attributes\nvar mutableDeckCopy=Object(toConsumableArray[\"a\" /* default */])(deck);var chosenCards;// get last card \nif(numToPop===1){chosenCards=[mutableDeckCopy.pop()];}else{// get chosen cards from mutable deck copy one by one\nchosenCards=[];for(var i=0;i<numToPop;i++){chosenCards.push(mutableDeckCopy.pop());}}return{mutableDeckCopy:mutableDeckCopy,chosenCards:chosenCards};};/*\r\n  Find best hand amongst players still in a hand\r\n */var cardsService_findBestHand=function findBestHand(hand,bestRank,flushedSuit,flushCards,concurrentCardValues,concurrentCardValuesLow,isLowStraight,isLowStraightFlush,concurrentSFCardValues,concurrentSFCardValuesLow,frequencyHistogramMetaData){// check if hand matches any value from best to worst (Royal Flush to High Card)\nswitch(bestRank){// check if hand is Ten, Jack, Queen, King and Ace (all of same suit)\ncase'Royal Flush':{return flushCards.slice(0,5);}// check if hand is five cards in sequence (all of same suit)\ncase'Straight Flush':{if(isLowStraightFlush&&concurrentSFCardValues.length<5){concurrentSFCardValuesLow[0]=13;return concurrentSFCardValuesLow.reduce(function(acc,cur,index){if(index<5){acc.push(flushCards[flushCards.findIndex(function(match){return match.value===cur;})]);}return acc;},[]).reverse();}else{return concurrentSFCardValues.reduce(function(acc,cur,index){if(index<5){acc.push(flushCards[flushCards.findIndex(function(match){return match.value===cur;})]);}return acc;},[]);}}// check if hand is four cards all of the same denomination\ncase'Four Of A Kind':{var bestHand=[];var mutableHand=Object(lodash[\"cloneDeep\"])(hand);var _loop2=function _loop2(i){var indexOfQuad=mutableHand.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.quads[0].face;});bestHand.push(mutableHand[indexOfQuad]);mutableHand=mutableHand.filter(function(match,index){return index!==indexOfQuad;});};for(var i=0;i<4;i++){_loop2(i);}return bestHand.concat(mutableHand.slice(0,1));}// check if hand is three cards of one denomination and two cards of another denomination\ncase'Full House':{var _bestHand=[];var _mutableHand=Object(lodash[\"cloneDeep\"])(hand);if(frequencyHistogramMetaData.tripples.length>1){var _loop3=function _loop3(_i){var indexOfTripple=_mutableHand.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.tripples[0].face;});_bestHand.push(_mutableHand[indexOfTripple]);_mutableHand=_mutableHand.filter(function(match,index){return index!==indexOfTripple;});};for(var _i=0;_i<3;_i++){_loop3(_i);}var _loop4=function _loop4(_i2){var indexOfPair=_mutableHand.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.tripples[1].face;});_bestHand.push(_mutableHand[indexOfPair]);_mutableHand=_mutableHand.filter(function(match,index){return index!==indexOfPair;});};for(var _i2=0;_i2<2;_i2++){_loop4(_i2);}return _bestHand;}else{var _loop5=function _loop5(_i3){var indexOfTripple=_mutableHand.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.tripples[0].face;});_bestHand.push(_mutableHand[indexOfTripple]);_mutableHand=_mutableHand.filter(function(match,index){return index!==indexOfTripple;});};for(var _i3=0;_i3<3;_i3++){_loop5(_i3);}var _loop6=function _loop6(_i4){var indexOfPair=_mutableHand.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.pairs[0].face;});_bestHand.push(_mutableHand[indexOfPair]);_mutableHand=_mutableHand.filter(function(match,index){return index!==indexOfPair;});};for(var _i4=0;_i4<2;_i4++){_loop6(_i4);}return _bestHand;}}// check if hand is five cards all of the same suit\ncase'Flush':{return flushCards.slice(0,5);}// check if hand is five cards of any suit in sequence\ncase'Straight':{if(isLowStraight&&concurrentCardValues.length<5){concurrentCardValuesLow[0]=13;return concurrentCardValuesLow.reduce(function(acc,cur,index){if(index<5){acc.push(hand[hand.findIndex(function(match){return match.value===cur;})]);}return acc;},[]).reverse();}else{return concurrentCardValues.reduce(function(acc,cur,index){if(index<5){acc.push(hand[hand.findIndex(function(match){return match.value===cur;})]);}return acc;},[]);}}// check if hand is three cards of the same denomination and two unmatched cards\ncase'Three Of A Kind':{var _bestHand2=[];var _mutableHand2=Object(lodash[\"cloneDeep\"])(hand);var _loop7=function _loop7(_i5){var indexOfTripple=_mutableHand2.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.tripples[0].face;});_bestHand2.push(_mutableHand2[indexOfTripple]);_mutableHand2=_mutableHand2.filter(function(match,index){return index!==indexOfTripple;});};for(var _i5=0;_i5<3;_i5++){_loop7(_i5);}return _bestHand2.concat(_mutableHand2.slice(0,2));}// check if hand is two sets of two cards of the same denomination and any fifth card\ncase'Two Pair':{var _bestHand3=[];var _mutableHand3=Object(lodash[\"cloneDeep\"])(hand);var _loop8=function _loop8(_i6){var indexOfPair=_mutableHand3.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.pairs[0].face;});_bestHand3.push(_mutableHand3[indexOfPair]);_mutableHand3=_mutableHand3.filter(function(match,index){return index!==indexOfPair;});};for(var _i6=0;_i6<2;_i6++){_loop8(_i6);}var _loop9=function _loop9(_i7){var indexOfPair=_mutableHand3.findIndex(function(match){return match.cardFace===frequencyHistogramMetaData.pairs[1].face;});_bestHand3.push(_mutableHand3[indexOfPair]);_mutableHand3=_mutableHand3.filter(function(match,index){return index!==indexOfPair;});};for(var _i7=0;_i7<2;_i7++){_loop9(_i7);}return _bestHand3.concat(_mutableHand3.slice(0,1));}// check if hand is two cards of the same denomination and three unmatched cards\ncase'Pair':{var _bestHand4=[];var _mutableHand4=Object(lodash[\"cloneDeep\"])(hand);var _loop10=function _loop10(_i8){var indexOfPair=_mutableHand4.findIndex(function(card){return card.cardFace===frequencyHistogramMetaData.pairs[0].face;});// CONSIDER : \n_bestHand4.push(_mutableHand4[indexOfPair]);_mutableHand4=_mutableHand4.filter(function(card,index){return index!==indexOfPair;});};for(var _i8=0;_i8<2;_i8++){_loop10(_i8);}return _bestHand4.concat(_mutableHand4.slice(0,3));}// check if hand is all five cards are unmatched\ncase'No Pair':{return hand.slice(0,5);}default:throw Error('Recieved unfamiliar rank argument in findBestHand()');}};/*\r\n  Determine ranking order of players' hands\r\n */var determinePlayerHandsHierarchy=function determinePlayerHandsHierarchy(sortedComparator,handRank){var winnerHierarchy=[];var loserHierarchy=[];var processComparator=function processComparator(comparator){var round=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(comparator[0].length===1){var _comparator$0$=comparator[0][0],name=_comparator$0$.name,bestHand=_comparator$0$.bestHand;winnerHierarchy=winnerHierarchy.concat([{name:name,bestHand:bestHand,handRank:handRank}]);return;}var filterableComparator=sortedComparator.map(function(el){return el;});var frame=comparator[round];var _handleSnapshotFrame=handleSnapshotFrame(frame),winningFrame=_handleSnapshotFrame.winningFrame,losingFrame=_handleSnapshotFrame.losingFrame;// find order of players who did not win hand\nif(losingFrame.length>0){var lowerTierComparator=filterableComparator.map(function(frame){return frame.filter(function(snapshot){return losingFrame.some(function(snapshotToMatchName){return snapshotToMatchName.name===snapshot.name;});});});// Push the filtered comparator to the start of the losers queue. \nloserHierarchy=[lowerTierComparator].concat(loserHierarchy);}// if only one winner they are best hand\nif(winningFrame.length===1){var _winningFrame$=winningFrame[0],_name=_winningFrame$.name,_bestHand5=_winningFrame$.bestHand;winnerHierarchy=winnerHierarchy.concat([{name:_name,bestHand:_bestHand5,handRank:handRank}]);// find order of players who won hand if more than one\n}else if(round===sortedComparator.length-1){var filteredWinnerSnapshots=winningFrame.map(function(snapshot){return{name:snapshot.name,bestHand:snapshot.bestHand,handRank:handRank};});winnerHierarchy=winnerHierarchy.concat([filteredWinnerSnapshots]);}else{var higherTierComparator=filterableComparator.map(function(frame){return frame.filter(function(snapshot){return winningFrame.some(function(snapshotToMatchName){return snapshotToMatchName.name===snapshot.name;});});});processComparator(higherTierComparator,round+1);}};var processLowTierComparators=function processLowTierComparators(loserHierarchyFrame){if(loserHierarchy.length>0){var loserComparatorToProcess=loserHierarchyFrame[0];loserHierarchy=loserHierarchyFrame.slice(1);processComparator(loserComparatorToProcess);processLowTierComparators(loserHierarchy);}};processComparator(sortedComparator);processLowTierComparators(loserHierarchy);return winnerHierarchy;};/*\r\n  Build ranking of hands of each player still in hand\r\n */var cardsService_buildPlayerRankings=function buildPlayerRankings(state){// only consider players still active in hand\nvar activePlayers=state.players.filter(function(player){return!player.folded;});var hierarchy=[];// map of possible hand rankings\nvar rankMap=new Map([['Royal Flush',[]],['Straight Flush',[]],['Four Of A Kind',[]],['Full House',[]],['Flush',[]],['Straight',[]],['Three Of A Kind',[]],['Two Pair',[]],['Pair',[]],['No Pair',[]]]);// for each player find rank and add to ranking map\nactivePlayers.forEach(function(player,playerIndex){var name=player.name,_player$showDownHand=player.showDownHand,bestHandRank=_player$showDownHand.bestHandRank,bestHand=_player$showDownHand.bestHand;rankMap.get(bestHandRank).push({name:name,bestHand:bestHand,playerIndex:playerIndex});});var _iterator6=Object(createForOfIteratorHelper[\"a\" /* default */])(rankMap),_step6;try{var _loop11=function _loop11(){var _step6$value=Object(slicedToArray[\"a\" /* default */])(_step6.value,2),handRank=_step6$value[0],playersWhoHoldThisRank=_step6$value[1];if(playersWhoHoldThisRank.length>0){// only one player can have Royal Flush so they would win regardless of the rest\nif(handRank==='Royal Flush'){var formattedPlayersWhoHoldThisRank=playersWhoHoldThisRank.map(function(player){return{name:player.name,bestHand:player.bestHand,handRank:handRank};});hierarchy=hierarchy.concat(formattedPlayersWhoHoldThisRank);return\"continue\";}// if only one player has a ranking that player is the best for that ranking\nif(playersWhoHoldThisRank.length===1){var _playersWhoHoldThisRa=playersWhoHoldThisRank[0],name=_playersWhoHoldThisRa.name,bestHand=_playersWhoHoldThisRa.bestHand;hierarchy=hierarchy.concat([{name:name,bestHand:bestHand,handRank:handRank}]);// if more than one player has same ranking must find which one has higher value\n}else if(playersWhoHoldThisRank.length>1){var sortedComparator=createRankingsComparator(handRank,playersWhoHoldThisRank).map(function(snapshot){return snapshot.sort(function(a,b){return b.card.value-a.card.value;});});var winnerHierarchy=determinePlayerHandsHierarchy(sortedComparator,handRank);hierarchy=hierarchy.concat(winnerHierarchy);}}};for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _ret=_loop11();if(_ret===\"continue\")continue;}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}return hierarchy;};/*\r\n  Rank hands of players still active in hand\r\n */var cardsService_rankPlayersHands=function rankPlayersHands(state,contestants){// map of possible hand rankings\nvar rankMap=new Map([['Royal Flush',[]],['Straight Flush',[]],['Four Of A Kind',[]],['Full House',[]],['Flush',[]],['Straight',[]],['Three Of A Kind',[]],['Two Pair',[]],['Pair',[]],['No Pair',[]]]);var _iterator7=Object(createForOfIteratorHelper[\"a\" /* default */])(contestants),_step7;try{var _loop12=function _loop12(){var contestant=_step7.value;var playerIndex=state.players.findIndex(function(player){return player.name===contestant;});var player=state.players[playerIndex];// if player is active in hand\nif(!player.folded){// rank player hand\nrankMap.get(player.showDownHand.bestHandRank).push({name:player.name,playerIndex:playerIndex,bestHand:player.showDownHand.bestHand});}};for(_iterator7.s();!(_step7=_iterator7.n()).done;){_loop12();}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}return rankMap;};/*\r\n  Handle and get snapshot with winners and losers of hand\r\n */var handleSnapshotFrame=function handleSnapshotFrame(frame){var highValue=frame[0].card.value;var winningFrame=frame.filter(function(snapshot){return snapshot.card.value===highValue;});var losingFrame=frame.filter(function(snapshot){return snapshot.card.value<highValue;});return{winningFrame:winningFrame,losingFrame:losingFrame};};/*\r\n  Assign winnings to hand winners (handles pot splits too)\r\n */var assignWinnings=function assignWinnings(state,rankMap,prize){var winnerFound=false;// find hand winners\nrankMap.forEach(function(contestants,rank,map){if(!winnerFound){// if only one player active in hand they win\nif(contestants.length===1){winnerFound=true;console.log(\"Winner, \",contestants[0].name,\" , beating out the competition with a \",rank);state=payWinnings(state,contestants,prize,rank);// if more than one player active in hand find winner\n}else if(contestants.length>1){console.log(contestants);winnerFound=true;// get active players hand rankings\nvar winners=findHandWinner(createRankingsComparator(rank,contestants),rank);// if only one player wins they get all the pot\nif(winners.length===1){console.log(\"Winner, \",winners[0].name,\" , beating out the competition with a \",rank);state=payWinnings(state,winners,prize,rank);// if multilple players win the pot is split amongst them\n}else{console.log(\"We have a tie! Split the pot amongst \",winners,\" Who will take the pot with their \",rank);state=payWinnings(state,winners,prize,rank);}}}});return state;};/*\r\n  Assign side pots when there are multiple winners for the same hand\r\n */var cardsService_assignSidePots=function assignSidePots(state){// find winners of hand\nstate.playerHierarchy=cardsService_buildPlayerRankings(state);console.log(\"Ultimate Player Hierarchy Determined:\");console.log(state.playerHierarchy);// assign each side pot to the corresponding winner\nvar _iterator8=Object(createForOfIteratorHelper[\"a\" /* default */])(state.sidePots),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var sidePot=_step8.value;var rankMap=cardsService_rankPlayersHands(state,sidePot.contestants);state=assignWinnings(state,rankMap,sidePot.potValue);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}state.players=state.players.map(function(player){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},player),{},{roundEndChips:player.chips});});return state;};/*\r\n  Pay winnings to hand winners\r\n */var payWinnings=function payWinnings(state,winners,prize,rank){// if only one winner they win all the pot\nif(winners.length===1){state.showDownMessages=state.showDownMessages.concat([{users:[winners[0].name],prize:prize,rank:rank}]);console.log(\"Transferring \",prize,\" chips to \",winners[0].name);state.players[winners[0].playerIndex].chips+=prize;state.pot-=prize;// if more than one winner split pot accordingly between them\n}else if(winners.length>1){var overflow=prize%winners.length;var splitPot=Math.floor(prize/winners.length);console.log(\"Mediating Tie. Total Prize \",prize,\" split into \",winners.length,\" portions with an overflow of \",overflow);state.showDownMessages=state.showDownMessages.concat([{users:winners.map(function(winner){return winner.name;}),prize:splitPot,rank:rank}]);winners.forEach(function(winner){state.players[winner.playerIndex].chips+=splitPot;state.pot-=splitPot;});}return state;};/*\r\n  Create hand rankings comparator to compare hand rankings\r\n */var createRankingsComparator=function createRankingsComparator(rank,playerData){var comparator;switch(rank){// check if hand is Ten, Jack, Queen, King and Ace (all of same suit)\ncase'Royal Flush':{comparator=Array.from({length:1});playerData.forEach(function(playerShowdownData,index){comparator.push({// there can only be one royal flush which will be the winner regardless of other hand rankings\nname:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});});break;}// check if hand is four cards all of the same denomination\ncase'Four Of A Kind':{comparator=Array.from({length:2},function(){return Array.from({length:0});});playerData.forEach(function(playerShowdownData,index){comparator[0].push({// four cards all of the same denomination\ncard:playerData[index].bestHand[0],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[1].push({// last card is unmatched\ncard:playerData[index].bestHand[4],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});});break;}// check if hand is three cards of one denomination and two cards of another denomination\ncase'Full House':{comparator=Array.from({length:2},function(){return Array.from({length:0});});playerData.forEach(function(playerShowdownData,index){comparator[0].push({// three cards of one denomination\ncard:playerData[index].bestHand[0],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[1].push({// two cards of another denomination\ncard:playerData[index].bestHand[3],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});});break;}// check if hand is three cards of one denomination and two cards of another denomination\n// or if all five cards are unmatched\ncase'Flush':case'No Pair':{comparator=Array.from({length:5},function(){return Array.from({length:0});});playerData.forEach(function(playerShowdownData,index){for(var i=0;i<5;i++){comparator[i].push({// check all 5 cards of a flush or no-pair\ncard:playerData[index].bestHand[i],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});}});break;}// check if hand is three cards of the same denomination and two unmatched cards\ncase'Three Of A Kind':{comparator=Array.from({length:3},function(){return Array.from({length:0});});playerData.forEach(function(playerShowdownData,index){comparator[0].push({// three cards of the same denomination\ncard:playerData[index].bestHand[0],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[1].push({// fourth card is unmatched\ncard:playerData[index].bestHand[3],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[2].push({// fifth card is unmatched\ncard:playerData[index].bestHand[4],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});});break;}// check if hand is five cards of any suit in sequence\n// or if hand is five cards in sequence (all of same suit)\ncase'Straight':case'Straight Flush':{comparator=Array.from({length:1},function(){return Array.from({length:0});});playerData.forEach(function(playerShowdownData,index){comparator[0].push({// check highest card of a straight as it will determine the straight value\ncard:playerData[index].bestHand[0],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});});break;}// check if hand is two sets of two cards of the same denomination and any fifth card\ncase'Two Pair':{comparator=Array.from({length:3},function(){return Array.from({length:0});});playerData.forEach(function(playerShowdownData,index){comparator[0].push({// two cards of the same denomination\ncard:playerData[index].bestHand[0],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[1].push({// another two cards of the same denomination\ncard:playerData[index].bestHand[2],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[2].push({// fifth unmatched card\ncard:playerData[index].bestHand[4],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});});break;}// check if hand is two cards of the same denomination and three unmatched cards\ncase'Pair':{comparator=Array.from({length:4},function(){return Array.from({length:0});});playerData.forEach(function(playerShowdownData,index){comparator[0].push({// two cards of the same denomination\ncard:playerData[index].bestHand[0],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[1].push({// third unmtached card\ncard:playerData[index].bestHand[2],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[2].push({// fourth unmtached card\ncard:playerData[index].bestHand[3],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});comparator[3].push({// fifth unmtached card\ncard:playerData[index].bestHand[4],name:playerData[index].name,playerIndex:playerData[index].playerIndex,bestHand:playerData[index].bestHand});});break;}default:throw Error('Recieved unfamiliar rank argument in createRankingsComparator()');}return comparator;};/*\r\n  Find current hand winner\r\n */var findHandWinner=function findHandWinner(comparator,rank){var winners;if(rank==='Royal Flush')return comparator;var _loop13=function _loop13(i){var highValue=0;var losers=[];// sort player rankings comparator \nwinners=comparator[i].sort(function(a,b){return b.card.value-a.card.value;}).reduce(function(acc,cur,index){// add player with higher ranking hands first\nif(cur.card.value>highValue){highValue=cur.card.value;acc.push({name:cur.name,playerIndex:cur.playerIndex});return acc;}else if(cur.card.value===highValue){acc.push({name:cur.name,playerIndex:cur.playerIndex});return acc;// then add non active players (back of list)\n}else if(cur.card.value<highValue){losers.push(cur.name);return acc;}},[]);if(winners.length===1||i===comparator.length){return{v:winners};}else{if(losers.length>=1){losers.forEach(function(nameToExtract){comparator=comparator.map(function(snapshot){return snapshot.filter(function(el){return el.name!==nameToExtract;});});});}}};for(var i=0;i<comparator.length;i++){var _ret2=_loop13(i);if(typeof _ret2===\"object\")return _ret2.v;}return winners;};/*\r\n  Check if hand is a Flush\r\n */var checkIfFlush=function checkIfFlush(suitHistogram){var isFlush;var flushedSuit;// check if all five cards have the same suit\nfor(var suit in suitHistogram){if(suitHistogram[suit]>=5){return{isFlush:true,flushedSuit:suit};}}return{isFlush:false,flushedSuit:null};};/*\r\n  Check if hand is a Royal Flush\r\n */var checkIfRoyalFlush=function checkIfRoyalFlush(flushMatchCards){// check if hand is Ten, Jack, Queen, King and Ace (all of same suit)\nif(flushMatchCards[0].value===13&&flushMatchCards[1].value===12&&flushMatchCards[2].value===11&&flushMatchCards[3].value===10&&flushMatchCards[4].value===10){return true;}else{return false;}};/*\r\n  Check if hand is a Straight\r\n */var cardsService_checkIfStraight=function checkIfStraight(valueSet){// if less than five cards are valuable to the hand it is not a straight\nif(valueSet.length<5)return false;var numConcurrentCards=0;var concurrentCardValues=[];// check if hand is five cards of any suit in sequence\nfor(var i=1;i<valueSet.length;i++){if(numConcurrentCards===5){return{isStraight:true,concurrentCardValues:concurrentCardValues};}if(valueSet[i]-valueSet[i-1]===-1){if(numConcurrentCards===0){numConcurrentCards=2;concurrentCardValues.push(valueSet[i-1]);concurrentCardValues.push(valueSet[i]);}else{numConcurrentCards++;concurrentCardValues.push(valueSet[i]);}}else{numConcurrentCards=0;concurrentCardValues=[];}}if(numConcurrentCards>=5){return{isStraight:true,concurrentCardValues:concurrentCardValues};}else{// check if is straight with Ace, two, three, four, five\nif(valueSet[0]===13){var _checkIfLowerStraight=checkIfLowerStraight(Object(lodash[\"cloneDeep\"])(valueSet)),isLowStraight=_checkIfLowerStraight.isLowStraight,concurrentCardValuesLow=_checkIfLowerStraight.concurrentCardValuesLow;if(isLowStraight)return{isStraight:true,isLowStraight:isLowStraight,concurrentCardValues:concurrentCardValues,concurrentCardValuesLow:concurrentCardValuesLow};}return{isStraight:false,isLowStraight:false,concurrentCardValues:concurrentCardValues};}};/*\r\n  Check if hand is a Straight Flush\r\n */var checkIfStraightFlush=function checkIfStraightFlush(flushMatchCards){// check if hand is five cards in sequence (all of same suit)\nvar valueSet=generateValueSet(flushMatchCards);var _checkIfStraight2=cardsService_checkIfStraight(valueSet),isStraight=_checkIfStraight2.isStraight,isLowStraight=_checkIfStraight2.isLowStraight,concurrentCardValues=_checkIfStraight2.concurrentCardValues,concurrentCardValuesLow=_checkIfStraight2.concurrentCardValuesLow;return{isStraightFlush:isStraight,isLowStraightFlush:isLowStraight,concurrentSFCardValues:concurrentCardValues,concurrentSFCardValuesLow:concurrentCardValuesLow};};/*\r\n  Check how many hand rankings have occured and with what frequence \r\n  and order\r\n */var checkFrequencyHistogram=function checkFrequencyHistogram(hand,frequencyHistogram){// set hand rankings to not seen \nvar isFourOfAKind=false;var isFullHouse=false;var isThreeOfAKind=false;var isTwoPair=false;var isPair=false;var numTripples=0;var numPairs=0;var frequencyHistogramMetaData={pairs:[],tripples:[],quads:[]};// check if hand is four cards all of the same denomination\nfor(var cardFace in frequencyHistogram){if(frequencyHistogram[cardFace]===4){isFourOfAKind=true;frequencyHistogramMetaData.quads.push({face:cardFace,value:VALUE_MAP[cardFace]});}// check if hand is three cards of the same denomination and two unmatched cards\nif(frequencyHistogram[cardFace]===3){isThreeOfAKind=true;numTripples++;frequencyHistogramMetaData.tripples.push({face:cardFace,value:VALUE_MAP[cardFace]});}// check if hand is two cards of the same denomination and three unmatched cards\nif(frequencyHistogram[cardFace]===2){isPair=true;numPairs++;frequencyHistogramMetaData.pairs.push({face:cardFace,value:VALUE_MAP[cardFace]});}}// sort histogram from best hand to worst hand\nfrequencyHistogramMetaData.pairs=frequencyHistogramMetaData.pairs.map(function(el){return el;}).sort(function(a,b){return b.value-a.value;});frequencyHistogramMetaData.tripples=frequencyHistogramMetaData.tripples.map(function(el){return el;}).sort(function(a,b){return b.value-a.value;});frequencyHistogramMetaData.quads=frequencyHistogramMetaData.quads.map(function(el){return el;}).sort(function(a,b){return b.value-a.value;});// check if hand is three cards of one denomination and two cards of another denomination (full house)\nif(numTripples>=2||numPairs>=1&&numTripples>=1){isFullHouse=true;}// check if hand is two sets of two cards of the same denomination and any fifth card (Two Pairs)\nif(numPairs>=2){isTwoPair=true;}return{isFourOfAKind:isFourOfAKind,isFullHouse:isFullHouse,isThreeOfAKind:isThreeOfAKind,isTwoPair:isTwoPair,isPair:isPair,frequencyHistogramMetaData:frequencyHistogramMetaData};};/*\r\n  Check if hand is straight with Ace, two, three, four, five\r\n */var checkIfLowerStraight=function checkIfLowerStraight(valueSetCopy){var numConcurrentCards=0;var concurrentCardValuesLow=[];// Convert Ace which has highest value of 13 to lowest value 0 from which straight would start\nvalueSetCopy[0]=0;// sort card values\nvar sortedValueSetCopy=valueSetCopy.map(function(el){return el;}).sort(function(a,b){return a-b;});// check if Ace, two, three, four, five are found\nfor(var i=1;i<5;i++){if(numConcurrentCards>=5){return{isLowStraight:true,concurrentCardValuesLow:concurrentCardValuesLow};}if(sortedValueSetCopy[i]-sortedValueSetCopy[i-1]===1){if(numConcurrentCards===0){numConcurrentCards=2;concurrentCardValuesLow.push(sortedValueSetCopy[i-1]);concurrentCardValuesLow.push(sortedValueSetCopy[i]);}else{numConcurrentCards++;concurrentCardValuesLow.push(sortedValueSetCopy[i]);}}else{numConcurrentCards=0;concurrentCardValuesLow=[];}}if(numConcurrentCards>=5){return{isLowStraight:true,concurrentCardValuesLow:concurrentCardValuesLow};}else{return{isLowStraight:false,concurrentCardValuesLow:concurrentCardValuesLow};}};/*\r\n  Generate set of five cards that add value to hand\r\n */var generateValueSet=function generateValueSet(hand){return Array.from(new Set(hand.map(function(cardInfo){return cardInfo.value;})));};\n// CONCATENATED MODULE: ./src/services/betService.js\n/**\r\n* The betService provides all services players\r\n* need to make bets. It also handles calculations\r\n* relating to bets and the betting pot.\r\n*/var calculateBlindIndices=function calculateBlindIndices(dealerIndex,numPlayers){return{bigBlindIndex:(dealerIndex+2)%numPlayers,smallBlindIndex:(dealerIndex+1)%numPlayers};};var anteUpBlinds=function anteUpBlinds(players,blindIndices,minBet){var bigBlindIndex=blindIndices.bigBlindIndex,smallBlindIndex=blindIndices.smallBlindIndex;players[bigBlindIndex].bet=minBet;players[bigBlindIndex].chips=players[bigBlindIndex].chips-minBet;players[smallBlindIndex].bet=minBet/2;players[smallBlindIndex].chips=players[smallBlindIndex].chips-minBet/2;return players;};var calculateMinBet=function calculateMinBet(highBet,playerChipsStack,playerBet){var playerTotalChips=playerChipsStack+playerBet;if(playerTotalChips<highBet){return playerTotalChips;}else{return highBet;}};/* \r\nDetermines the integrity of all bets.\r\n*/var betService_manageBet=function manageBet(state,bet,min,max){if(bet<min){state.betInputValue=min;return console.log(\"Invalid Bet\");}if(bet>max){state.betInputValue=max;return console.log(\"Invalid Bet\");}if(bet>state.highBet){// minbet and highbet may be condensed to a single property\nstate.highBet=bet;state.minBet=state.highBet;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(state.players),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var player=_step.value;if(!player.folded||!player.chips===0){player.betReconciled=false;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}var activePlayer=state.players[state.activePlayerIndex];var subtractableChips=bet-activePlayer.bet;activePlayer.bet=bet;activePlayer.chips=activePlayer.chips-subtractableChips;if(activePlayer.chips===0){activePlayer.allIn=true;state.numPlayersAllIn++;}activePlayer.betReconciled=true;return playersService_chooseNextActivePlayer(state);};var betService_managePlayerFold=function managePlayerFold(state){var activePlayer=state.players[state.activePlayerIndex];activePlayer.folded=true;activePlayer.betReconciled=true;state.numPlayersFolded++;state.numPlayersActive--;var nextState=playersService_chooseNextActivePlayer(state);return nextState;};var betService_managePhaseShift=function managePhaseShift(state){switch(state.phase){case'betting1':{state.phase='flop';return cardsService_dealFlopCards(betService_remakePot(state));}case'betting2':{state.phase='turn';return cardsService_dealTurnCards(betService_remakePot(state));}case'betting3':{state.phase='river';return cardsService_dealRiverCards(betService_remakePot(state));}case'betting4':{state.phase='showdown';return cardsService_playerShowDown(betService_remakePot(state));}default:throw Error(\"managePhaseShift() called from non-betting phase\");}};/* \r\nCombine sidepots into a single pot to save resources.\r\n*/var betService_remakePot=function remakePot(state){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(state.players),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var player=_step2.value;state.pot=state.pot+player.bet;player.sidePotStack=player.bet;player.betReconciled=false;}// condense pots as processing each one requires expensive card comparator functions\n}catch(err){_iterator2.e(err);}finally{_iterator2.f();}state=condensePots(calculatePots(state,state.players));var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(state.players),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _player=_step3.value;_player.currentRoundChipsInvested+=_player.bet;_player.bet=0;// reset all player bets to 0 for the start of the next round\n}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}state.minBet=0;// reset markers which control min/max bet validation\nstate.highBet=0;state.betInputValue=0;return state;};/* \r\n Determine which players are included in the current pot.\r\n*/var calculatePots=function calculatePots(state,playerStacks){// remove players who did not bet from pot\nvar investedPlayers=playerStacks.filter(function(player){return player.sidePotStack>0;});if(investedPlayers.length===0){return state;}if(investedPlayers.length===1){// refund players who bet in excess of pot\nvar playerToRefund=state.players[state.players.findIndex(function(player){return player.name===investedPlayers[0].name;})];playerToRefund.chips=playerToRefund.chips+investedPlayers[0].sidePotStack;state.pot-=investedPlayers[0].sidePotStack;return state;}// sort players\nvar ascBetPlayers=investedPlayers.sort(function(a,b){return a.sidePotStack-b.sidePotStack;});var smallStackValue=ascBetPlayers[0].sidePotStack;var builtSidePot=ascBetPlayers.reduce(function(acc,cur){if(!cur.folded){acc.contestants.push(cur.name);}acc.potValue=acc.potValue+smallStackValue;cur.sidePotStack=cur.sidePotStack-smallStackValue;return acc;},{contestants:[],potValue:0});state.sidePots.push(builtSidePot);return calculatePots(state,ascBetPlayers);};/* \r\n Condenses mutiple pots into a single pot. \r\n*/var condensePots=function condensePots(state){if(state.sidePots.length>1){for(var i=0;i<state.sidePots.length;i++){var _loop=function _loop(n){if(arrayIdentical(state.sidePots[i].contestants,state.sidePots[n].contestants)){state.sidePots[i].potValue=state.sidePots[i].potValue+state.sidePots[n].potValue;state.sidePots=state.sidePots.filter(function(el,index){return index!==n;});}};for(var n=i+1;n<state.sidePots.length;n++){_loop(n);}}}return state;};var arrayIdentical=function arrayIdentical(arr1,arr2){if(arr1.length!==arr2.length){return false;}return arr1.map(function(el){return arr2.includes(el);}).filter(function(bool){return bool!==true;}).length!==0?false:true;};\n// EXTERNAL MODULE: ./node_modules/react-compound-slider/es/index.js + 47 modules\nvar es = __webpack_require__(113);\n\n// CONCATENATED MODULE: ./src/components/raiseBar/Controller.jsx\n/**\r\n * Controller functional component which represents the base \r\n * of the raise bar users can perform  call, fold or raise\r\n * actions through.\r\n */function Controller(_ref){var _ref$handle=_ref.handle,id=_ref$handle.id,value=_ref$handle.value,percent=_ref$handle.percent,getHandleProps=_ref.getHandleProps;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({style:{left:\"\".concat(percent,\"%\"),position:'absolute',marginLeft:-15,marginTop:25,zIndex:2,width:50,height:25,border:\"3px solid #7177A3\",textAlign:'center',cursor:'pointer',borderRadius:\"15px\",backgroundColor:'#FFEB49',color:'#aaa'}},getHandleProps(id)),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',textShadow:'2px 2px 8px rgba(0,0,0,0.95)',justifyContent:'center',fontFamily:'Roboto',fontSize:11,marginTop:30},children:value})}));}/* harmony default export */ var raiseBar_Controller = (Controller);\n// CONCATENATED MODULE: ./src/components/raiseBar/styles.js\n/**\r\n * Slider and Raise Rail  \r\n*/var sliderStyle={position:'relative',width:'100%',height:80};var railStyle={position:'absolute',width:'100%',height:10,marginTop:35,borderRadius:5,backgroundColor:'#7177A3'};\n// CONCATENATED MODULE: ./src/components/raiseBar/Tracker.jsx\n/**\r\n * Tracker functional component which tracks the raise \r\n * slider bar users can perform bets/raises through.\r\n */function Tracker(_ref){var source=_ref.source,target=_ref.target,getTrackProps=_ref.getTrackProps;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])({style:{position:'absolute',height:10,zIndex:1,marginTop:35,backgroundColor:'#FFEB49',borderRadius:5,cursor:'pointer',left:\"\".concat(source.percent,\"%\"),width:\"\".concat(target.percent-source.percent,\"%\")}},getTrackProps()));}/* harmony default export */ var raiseBar_Tracker = (Tracker);\n// CONCATENATED MODULE: ./src/services/uiService.js\n/** \r\n* The uiService provides services to handle\r\n* UI animations assignments and renderings.\r\n*/ /* \r\n Set next game phase\r\n*/var makePhaseStatement=function makePhaseStatement(phase){switch(phase){case'loading':return'Finding a Table, Please Wait';case'initialDeal':return'Dealing out the cards';case'betting1':return'Betting 1';case'flop':return'Flop';case'betting2':return'Flop';case'turn':return'Turn';case'betting3':return'Turn';case'river':return'River';case'betting4':return'River';case'showdown':return'Show Your Cards!';default:throw Error('Unfamiliar phase returned from makePhaseStatement()');}};/* \r\n Render Action Button text (Fold, Call, Raise, All in, etc.)\r\n*/var makeActionButtonText=function makeActionButtonText(highBet,betInputValue,activePlayer){if(highBet===0&&betInputValue===0){return'Check';}else if(highBet===betInputValue){return'Call';}else if(betInputValue<highBet||betInputValue===activePlayer.chips+activePlayer.bet){return'All-in!';}else if(betInputValue>highBet){return'Raise';}};/* \r\n Show player winning after each hand\r\n*/var uiService_makeNetPlayerEarnings=function makeNetPlayerEarnings(endChips,startChips){var netChipEarnings=endChips-startChips;var win=netChipEarnings>0;var none=netChipEarnings===0;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"showdown-player-earnings \".concat(win?'positive':none?'':'negative'),children:\"\".concat(win?'+':'').concat(netChipEarnings)});};/* \r\n Show Showdown messages\r\n*/var uiService_makeShowdownMessages=function makeShowdownMessages(showDownMessages){return showDownMessages.map(function(message,index){var users=message.users,prize=message.prize,rank=message.rank;if(users.length>1){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-user\",children:\"\".concat(users.length,\" players \")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-content\",children:\"split the pot with a \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-rank\",children:\"\".concat(rank,\"!\")})]}),users.map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"message-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-player\",children:\"\".concat(user,\" \")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-content\",children:\"takes \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-earnings\",children:\"\".concat(prize,\" chips \")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-content\",children:\"from the pot.\"})]},index+user);})]},index);}else if(users.length===1){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-player\",children:\"\".concat(users[0],\" \")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-content\",children:\"wins \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-earnings\",children:\"\".concat(prize,\" chips \")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-content\",children:\"from the pot with a \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message-rank\",children:\"\".concat(rank,\"!\")})]},index);}});};/* \r\n Render User Action menu for actions and slider (for raising)\r\n*/var uiService_makeActionMenu=function makeActionMenu(highBet,players,activePlayerIndex,phase,changeSliderInputFn){var min=calculateMinBet(highBet,players[activePlayerIndex].chips,players[activePlayerIndex].bet);var max=players[activePlayerIndex].chips+players[activePlayerIndex].bet;return phase==='betting1'||phase==='betting2'||phase==='betting3'||phase==='betting4'?players[activePlayerIndex].robot?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{className:\"current-move-head\",children:[\" \",\"Current Move: \".concat(players[activePlayerIndex].name)]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"c\" /* Slider */],{rootStyle:sliderStyle,domain:[min,max],values:[min],step:1,onChange:changeSliderInputFn,mode:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"b\" /* Rail */],{children:function children(_ref){var getRailProps=_ref.getRailProps;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])({style:railStyle},getRailProps()));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Handles */],{children:function children(_ref2){var handles=_ref2.handles,getHandleProps=_ref2.getHandleProps;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"slider-handles\",children:handles.map(function(handle){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(raiseBar_Controller,{handle:handle,getHandleProps:getHandleProps},handle.id);})});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* Tracks */],{right:false,children:function children(_ref3){var tracks=_ref3.tracks,getTrackProps=_ref3.getTrackProps;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"slider-tracks\",children:tracks.map(function(_ref4){var id=_ref4.id,source=_ref4.source,target=_ref4.target;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(raiseBar_Tracker,{source:source,target:target,getTrackProps:getTrackProps},id);})});}})]})}):null;};\n// CONCATENATED MODULE: ./src/services/aiService.js\n/**\r\n* The aiService provides key services for the \r\n* functinality of Ai players. It handles \r\n* how the Ai determines what move to make.\r\n*/ /* \r\nThe main function to handle the behavior of an Ai player in a given situation \r\n*/var aiService_aiHandler=function aiHandler(state,moveAnimationState){var highBet=state.highBet;var activePlayer=state.players[state.activePlayerIndex];var min=calculateMinBet(highBet,activePlayer.chips,activePlayer.bet);var max=activePlayer.chips+activePlayer.bet;var totalInvestment=activePlayer.chips+activePlayer.bet+activePlayer.stackInvestment;var investmentRequiredToRemain=highBet/totalInvestment*100;var descendingSortHand=activePlayer.cards.concat(state.communityCards).sort(function(a,b){return b.value-a.value;});var _makeHistogram=makeHistogram(descendingSortHand),frequencyHistogram=_makeHistogram.frequencyHistogram,suitHistogram=_makeHistogram.suitHistogram;var stakes=groupStakes(investmentRequiredToRemain);var preFlopValues=activePlayer.cards.map(function(el){return el.value;});var highCard=Math.max.apply(Math,Object(toConsumableArray[\"a\" /* default */])(preFlopValues));var lowCard=Math.min.apply(Math,Object(toConsumableArray[\"a\" /* default */])(preFlopValues));switch(state.phase){// determine Ai action for round 1 of betting\ncase'betting1':{// use specific factors to determine fold, call/check or bet\nvar suited=Object.entries(suitHistogram).find(function(keyValuePair){return keyValuePair[1]===2;});var straightGap=highCard-lowCard<=4;var _createPreFlopDetermi=createPreFlopDeterminant(highCard,lowCard,suited,straightGap),_callLimit=_createPreFlopDetermi.callLimit,_raiseChance=_createPreFlopDetermi.raiseChance,_raiseRange=_createPreFlopDetermi.raiseRange;var _willCall=betting_hierarchy[stakes]<=betting_hierarchy[_callLimit];var _callValue=activePlayer.chips+activePlayer.bet>=highBet?highBet:activePlayer.chips+activePlayer.bet;if(_willCall){if(willRaise(_raiseChance)){var determinedRaiseRange=_raiseRange[Math.floor(Math.random()*(_raiseRange.length-0))+0];var wantRaise=betting_hierarchy[stakes]<=betting_hierarchy[determinedRaiseRange];if(wantRaise){var betValue=Math.floor(chooseBetProportion(determinedRaiseRange)*activePlayer.chips);if(betValue<highBet){if(highBet<max){betValue=highBet;}}if(betValue>max)activePlayer.canRaise=false;moveAnimationState(state.activePlayerIndex,\"\".concat(makeActionButtonText(highBet,betValue,activePlayer),\" \").concat(betValue));return betService_manageBet(state,betValue,min,max);}else{// will not render the bet value if it's a \"check\"\nmoveAnimationState(state.activePlayerIndex,\"\".concat(makeActionButtonText(highBet,_callValue,activePlayer),\" \").concat(_callValue>activePlayer.bet?_callValue:\"\"));return betService_manageBet(state,_callValue,min,max);}}else{moveAnimationState(state.activePlayerIndex,\"\".concat(makeActionButtonText(highBet,_callValue,activePlayer),\" \").concat(_callValue>activePlayer.bet?_callValue:\"\"));return betService_manageBet(state,_callValue,min,max);}}else{moveAnimationState(state.activePlayerIndex,\"FOLD\");return betService_managePlayerFold(state);}}// determine Ai action for subsequent betting rounds\ncase'betting2':case'betting3':case'betting4':// update freq histogram used to track hands\nvar _checkFrequencyHistog=checkFrequencyHistogram(descendingSortHand,frequencyHistogram),isPair=_checkFrequencyHistog.isPair,isTwoPair=_checkFrequencyHistog.isTwoPair,isThreeOfAKind=_checkFrequencyHistog.isThreeOfAKind,isFourOfAKind=_checkFrequencyHistog.isFourOfAKind,isFullHouse=_checkFrequencyHistog.isFullHouse,frequencyHistogramMetaData=_checkFrequencyHistog.frequencyHistogramMetaData;var valueSet=generateValueSet(descendingSortHand);var _checkIfStraight=cardsService_checkIfStraight(valueSet),isStraight=_checkIfStraight.isStraight,isLowStraight=_checkIfStraight.isLowStraight,concurrentCardValues=_checkIfStraight.concurrentCardValues,concurrentCardValuesLow=_checkIfStraight.concurrentCardValuesLow;var _checkIfFlush=checkIfFlush(suitHistogram),isFlush=_checkIfFlush.isFlush,flushedSuit=_checkIfFlush.flushedSuit;var flushCards=isFlush&&descendingSortHand.filter(function(card){return card.suit===flushedSuit;});var _ref=isFlush&&checkIfStraightFlush(flushCards),isStraightFlush=_ref.isStraightFlush,isLowStraightFlush=_ref.isLowStraightFlush,concurrentSFCardValues=_ref.concurrentSFCardValues,concurrentSFCardValuesLow=_ref.concurrentSFCardValuesLow;var isRoyalFlush=isFlush&&checkIfRoyalFlush(flushCards);var isNoPair=!isRoyalFlush&&!isStraightFlush&&!isFourOfAKind&&!isFullHouse&&!isFlush&&!isStraight&&!isThreeOfAKind&&!isTwoPair&&!isPair;// create a hierarchy to rank hand strength\nvar handHierarchy=[{name:'Royal Flush',match:isRoyalFlush},{name:'Straight Flush',match:isStraightFlush},{name:'Four Of A Kind',match:isFourOfAKind},{name:'Full House',match:isFullHouse},{name:'Flush',match:isFlush},{name:'Straight',match:isStraight},{name:'Three Of A Kind',match:isThreeOfAKind},{name:'Two Pair',match:isTwoPair},{name:'Pair',match:isPair},{name:'No Pair',match:isNoPair}];// use hand hierarchy to determine Ai action\nvar highRank=handHierarchy[handHierarchy.findIndex(function(el){return el.match===true;})].name;var _createGeneralizedDet=createGeneralizedDeterminant(descendingSortHand,highRank,frequencyHistogramMetaData),callLimit=_createGeneralizedDet.callLimit,raiseChance=_createGeneralizedDet.raiseChance,raiseRange=_createGeneralizedDet.raiseRange;var willCall=betting_hierarchy[stakes]<=betting_hierarchy[callLimit];var callValue=activePlayer.chips+activePlayer.bet>=highBet?highBet:activePlayer.chips+activePlayer.bet;if(willCall){if(willRaise(raiseChance)){var _determinedRaiseRange=raiseRange[Math.floor(Math.random()*(raiseRange.length-0))+0];var _wantRaise=betting_hierarchy[stakes]<=betting_hierarchy[_determinedRaiseRange];if(_wantRaise){var _betValue=Math.floor(chooseBetProportion(_determinedRaiseRange)*activePlayer.chips);if(_betValue<highBet){_betValue=highBet;}activePlayer.canRaise=false;moveAnimationState(state.activePlayerIndex,\"\".concat(makeActionButtonText(highBet,_betValue,activePlayer),\" \").concat(_betValue));return betService_manageBet(state,_betValue,min,max);}else{moveAnimationState(state.activePlayerIndex,\"\".concat(makeActionButtonText(highBet,callValue,activePlayer),\" \").concat(callValue>activePlayer.bet?callValue:\"\"));return betService_manageBet(state,callValue,min,max);}}else{moveAnimationState(state.activePlayerIndex,\"\".concat(makeActionButtonText(highBet,callValue,activePlayer),\" \").concat(callValue>activePlayer.bet?callValue:\"\"));return betService_manageBet(state,callValue,min,max);}}else{moveAnimationState(state.activePlayerIndex,\"FOLD\");return betService_managePlayerFold(state);}default:throw Error(\"Handle AI Running during incorrect phase\");}};/* \r\nThis function determines Ai behavior based \r\non the rank of its card hand.\r\n*/var createGeneralizedDeterminant=function createGeneralizedDeterminant(hand,highRank,frequencyHistogramMetaData){if(highRank==='Royal Flush'){return{callLimit:'beware',raiseChance:1,raiseRange:['beware']};}else if(highRank==='Straight Flush'){return{callLimit:'beware',raiseChance:1,raiseRange:['strong','aggro','beware']};}else if(highRank==='Four Of A Kind'){return{callLimit:'beware',raiseChance:1,raiseRange:['strong','aggro','beware']};}else if(highRank==='Full House'){return{callLimit:'beware',raiseChance:1,raiseRange:['hidraw','strong','aggro','beware']};}else if(highRank==='Flush'){return{callLimit:'beware',raiseChange:1,raiseRange:['strong','aggro','beware']};}else if(highRank==='Straight'){return{callLimit:'beware',raiseChange:1,raiseRange:['lowdraw','meddraw','hidraw, strong']};}else if(highRank==='Three Of A Kind'){return{callLimit:'beware',raiseChange:1,raiseRange:['lowdraw','meddraw','hidraw, strong']};}else if(highRank==='Two Pair'){return{callLimit:'beware',raiseChange:0.7,raiseRange:['lowdraw','meddraw','hidraw, strong']};}else if(highRank==='Pair'){return{callLimit:'hidraw',raiseChange:0.5,raiseRange:['lowdraw','meddraw','hidraw, strong']};}else if(highRank==='No Pair'){return{callLimit:'meddraw',raiseChange:0.2,raiseRange:['lowdraw','meddraw','hidraw, strong']};}};/* \r\nA function to determine Ai behavior based on the flop\r\nand its results. \r\n*/var createPreFlopDeterminant=function createPreFlopDeterminant(highCard,lowCard,suited,straightGap){if(highCard===lowCard){switch(highCard){case highCard>8:{return{callLimit:'beware',raiseChance:0.9,raiseRange:['lowdraw','meddraw','hidraw','strong']// randomly determine bet based on this\n};}case highCard>5:{return{callLimit:'aggro',raiseChance:0.75,// if Math.random() is < than this, select a random raiseTarget \nraiseRange:['insignificant','lowdraw','meddraw']};}case highCard<5:default:{return{callLimit:'aggro',raiseChance:0.5,raiseRange:['insignificant','lowdraw','meddraw']};}}}else if(highCard>9&&lowCard>9){// two high cards\nif(suited){return{callLimit:'beware',raiseChance:1,raiseRange:['insignificant','lowdraw','meddraw','hidraw']};}else{return{callLimit:'beware',raiseChance:0.75,raiseRange:['insignificant','lowdraw','meddraw','hidraw']};}}else if(highCard>8&&lowCard>6){// one high card\nif(suited){return{callLimit:'beware',raiseChance:0.65,raiseRange:['insignificant','lowdraw','meddraw','hidraw']};}else{return{callLimit:'beware',raiseChance:0.45,raiseRange:['insignificant','lowdraw','meddraw','hidraw']};}}else if(highCard>8&&lowCard<6){if(suited){return{callLimit:'major',raiseChance:0.45,raiseRange:['insignificant','lowdraw']};}else{return{callLimit:'aggro',raiseChance:0.35,raiseRange:['insignificant','lowdraw']};}}else if(highCard>5&&lowCard>3){if(suited){return{callLimit:'strong',raiseChance:0.1,raiseRange:['insignificant','lowdraw']};}else if(straightGap){return{callLimit:'aggro',raiseChance:0};}else{return{callLimit:'strong',raiseChance:0};}}else{if(suited){return{callLimit:'strong',raiseChance:0.1,raiseRange:['insignificant']};}else if(straightGap){return{callLimit:'strong',raiseChance:0};}else{return{callLimit:'insignificant',raiseChance:0};}}};/* \r\nA function to group stakes into terms for betting.\r\n*/var groupStakes=function groupStakes(percentage){switch(true){case percentage>75:return'beware';case percentage>40:return'aggro';case percentage>35:return'major';case percentage>25:return'strong';case percentage>15:return'hidraw';case percentage>10:return'meddraw';case percentage>3:return'lowdraw';case percentage>=1:return'insignificant';case percentage<1:default:return'blind';}};/* \r\nThis function determines the amount an Ai\r\nwill bet based on the betting hierarchy value.\r\n*/var chooseBetProportion=function chooseBetProportion(stakes){if(stakes==='blind'){return Math.random()*(0.1-0)+0;}else if(stakes==='insignificant'){return Math.random()*(0.03-0.01)+0.01;}else if(stakes==='lowdraw'){return Math.random()*(0.10-0.03)+0.03;}else if(stakes==='meddraw'){return Math.random()*(0.15-0.10)+0.10;}else if(stakes==='hidraw'){return Math.random()*(0.25-0.15)+0.15;}else if(stakes==='strong'){return Math.random()*(0.35-0.25)+0.25;}else if(stakes==='major'){return Math.random()*(0.40-0.35)+0.35;}else if(stakes==='aggro'){return Math.random()*(0.75-0.40)+0.40;}else if(stakes==='beware'){return Math.random()*(1-0.75)+0.75;}};/* \r\nA list to set the degree of an Ai bet.\r\n*/var betting_hierarchy={blind:0,insignificant:1,lowdraw:2,meddraw:3,hidraw:4,strong:5,major:6,aggro:7,beware:8};var willRaise=function willRaise(chance){return Math.random()<chance;};var makeHistogram=function makeHistogram(hand){var histogram=hand.reduce(function(acc,cur){acc.frequencyHistogram[cur.cardFace]=(acc.frequencyHistogram[cur.cardFace]||0)+1;acc.suitHistogram[cur.suit]=(acc.suitHistogram[cur.suit]||0)+1;return acc;},{frequencyHistogram:{},suitHistogram:{}});return histogram;};\n// CONCATENATED MODULE: ./src/components/cards/Card.jsx\n/**\r\n * Card component which represents the private Poker game cards \r\n * dealt to the User and the Community cards dealt on the table.\r\n */var Card_Card=function Card(props){var _props$cardData=props.cardData,suit=_props$cardData.suit,cardFace=_props$cardData.cardFace,animationDelay=_props$cardData.animationDelay,applyFoldedClassname=props.applyFoldedClassname;// get suit of card\nvar cardSuit=suit.substring(0,1).toUpperCase();// display card according to value and suit given\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"poker-card\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"\".concat(\"\",\"/assets/cardFaces/\").concat(cardFace).concat(cardSuit,\".svg\")})});};/* harmony default export */ var cards_Card = (Card_Card);\n// CONCATENATED MODULE: ./src/components/helpers/SpinnerLoading.js\n/**\r\n * SpinnerLoading component which represents the App logo\r\n * spinning when a a page is loading.\r\n */var SpinnerLoading_SpinnerLoading=function SpinnerLoading(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"spinner-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:'/assets/logo.svg',alt:\"Loading game...\"})})});};/* harmony default export */ var helpers_SpinnerLoading = (SpinnerLoading_SpinnerLoading);\n// CONCATENATED MODULE: ./src/components/cards/BackOfCard.jsx\n/**\r\n * Back of Card component which represents the private Poker game cards \r\n * dealt to AI players which remain hidden from the user.\r\n */var BackOfCard_BackOfCard=function BackOfCard(props){var _props$cardData=props.cardData,suit=_props$cardData.suit,cardFace=_props$cardData.cardFace,animationDelay=_props$cardData.animationDelay,applyFoldedClassname=props.applyFoldedClassname;// display back of card (values hidden from user)\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"poker-card cardIn agent-card\".concat(applyFoldedClassname?' folded':''),style:{animationDelay:\"\".concat(applyFoldedClassname?0:animationDelay,\"ms\")}},\"\".concat(suit,\" \").concat(cardFace));};/* harmony default export */ var cards_BackOfCard = (BackOfCard_BackOfCard);\n// EXTERNAL MODULE: ./node_modules/react-transition-group/esm/CSSTransition.js + 2 modules\nvar CSSTransition = __webpack_require__(477);\n\n// CONCATENATED MODULE: ./src/components/players/PlayerStatus.jsx\n/**\r\n * This component controls the animations \r\n * and transitional effects of player actions.\r\n */function PlayerStatus(_ref){var index=_ref.index,isActive=_ref.isActive,content=_ref.content,endTransition=_ref.endTransition;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CSSTransition[\"a\" /* default */],{in:isActive,timeout:{appear:0,enter:0,exit:1250},classNames:\"trans-notification\",onEntered:function onEntered(){return endTransition(index);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"notification\",children:\"\".concat(content)})});}/* harmony default export */ var players_PlayerStatus = (PlayerStatus);\n// CONCATENATED MODULE: ./src/components/players/Player.jsx\nvar dealerChipImageURL=\"/assets/logo.svg\";var chipCountImageURL=\"./assets/chips.svg\";var playerBetImageURL=\"./assets/bet.svg\";/**\r\n * Player component that creates the base player entity \r\n * for both the user and AI agents.\r\n */var Player_Player=function Player(props){var arrayIndex=props.arrayIndex,playerAnimationSwitchboard=props.playerAnimationSwitchboard,endTransition=props.endTransition,hasDealerChip=props.hasDealerChip,isActive=props.isActive,phase=props.phase,clearCards=props.clearCards,_props$player=props.player,robot=_props$player.robot,folded=_props$player.folded,cards=_props$player.cards,avatarURL=_props$player.avatarURL,name=_props$player.name,chips=_props$player.chips,bet=_props$player.bet;/*\r\n     Assigns the correct format of card to players\r\n  */var makePlayerCards=function makePlayerCards(){var applyFoldedClassname;if(folded||clearCards){applyFoldedClassname=true;}// Hidden back of card for agents\nif(robot){return cards.map(function(card,index){if(phase!=='showdown'){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cards_BackOfCard,{cardData:card,applyFoldedClassname:applyFoldedClassname},index);}else{// Reset Animation Delay\nvar cardData=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},card),{},{animationDelay:0});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cards_Card,{cardData:cardData,applyFoldedClassname:applyFoldedClassname},index);}});}// Visible front of card for user\nelse{return cards.map(function(card,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cards_Card,{cardData:card,applyFoldedClassname:applyFoldedClassname},index);});}};/*\r\n     Assign dealer chip to current round dealer\r\n  */var makeDealerChip=function makeDealerChip(){if(hasDealerChip){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dealer-chips-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:dealerChipImageURL,alt:\"Dealer Chip\"})});}else return null;};/*\r\n     Check if player should have animation\r\n  */var Animating=function Animating(playerBoxIndex){if(playerAnimationSwitchboard[playerBoxIndex].Animating){return true;}else{return false;}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"player-wrapper p\".concat(arrayIndex),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(players_PlayerStatus,{index:arrayIndex,isActive:Animating(arrayIndex),content:playerAnimationSwitchboard[arrayIndex].content,endTransition:endTransition}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row abscard\",children:makePlayerCards()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"player-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"player-icon-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"player-icon-image\".concat(isActive?' activePlayer':''),src:avatarURL,alt:\"Player Avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"player-data-name\",style:{'fontSize':name.length<14?12:10},children:\"\".concat(name)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"player-data-stash-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"player-data-stash-image\",src:chipCountImageURL,alt:\"Player Stash\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"player-data-stash-head\",children:\"\".concat(chips)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"player-data-bet-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"player-data-bet-image\",src:\"./assets/pot.svg\",alt:\"Player Bet\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"player-data-bet-head\",children:\"\".concat(bet)})]}),makeDealerChip()]})})]});};/* harmony default export */ var players_Player = (Player_Player);\n// CONCATENATED MODULE: ./src/components/interfaces/PlayerWin.js\n/**\r\n * PlayerWin component to display Winning player\r\n * name and record user statistics.\r\n */function PlayerWin(props){var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var history=Object(react_router[\"g\" /* useHistory */])();var search=Object(react_router[\"h\" /* useLocation */])().search;var difficulty=new URLSearchParams(search).get('difficulty');Object(react[\"useEffect\"])(function(){recordUserStatistics();});// Increase games played and/or wins for difficulty played\nfunction recordUserStatistics(_x){return _recordUserStatistics.apply(this,arguments);}/*\r\n     Return user to dashboard menu\r\n    */function _recordUserStatistics(){_recordUserStatistics=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var userStatistics;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userStatistics=new Object();firebase.database().ref().child(currentUser.uid).once(\"value\").then(function(snapshot){var countValues=0;snapshot.forEach(function(childSnapshot){var key=childSnapshot.key;var childData=childSnapshot.val();userStatistics[key]=childData;countValues+=1;});if(countValues==0){firebase.database().ref().child(currentUser.uid).set({\"num_beginner_games\":0,\"num_beginner_wins\":0,\"num_intermediate_games\":0,\"num_intermediate_wins\":0,\"num_expert_games\":0,\"num_expert_wins\":0,\"num_ultimate_games\":0,\"num_ultimate_wins\":0});userStatistics={\"num_beginner_games\":0,\"num_beginner_wins\":0,\"num_intermediate_games\":0,\"num_intermediate_wins\":0,\"num_expert_games\":0,\"num_expert_wins\":0,\"num_ultimate_games\":0,\"num_ultimate_wins\":0};}// Add results to DB\nif(difficulty==\"beginner\"){userStatistics[\"num_beginner_games\"]=userStatistics[\"num_beginner_games\"]+1;if(props.winner.name==Dashboard.username)userStatistics[\"num_beginner_wins\"]=userStatistics[\"num_beginner_wins\"]+1;}else if(difficulty==\"intermediate\"){userStatistics[\"num_intermediate_games\"]=userStatistics[\"num_intermediate_games\"]+1;if(props.winner.name==Dashboard.username)userStatistics[\"num_intermediate_wins\"]=userStatistics[\"num_intermediate_wins\"]+1;}else if(difficulty==\"expert\"){userStatistics[\"num_expert_games\"]=userStatistics[\"num_expert_games\"]+1;if(props.winner.name==Dashboard.username)userStatistics[\"num_expert_wins\"]=userStatistics[\"num_expert_wins\"]+1;}else if(difficulty==\"ultimate\"){userStatistics[\"num_ultimate_games\"]=userStatistics[\"num_ultimate_games\"]+1;if(props.winner.name==Dashboard.username)userStatistics[\"num_ultimate_wins\"]=userStatistics[\"num_ultimate_wins\"]+1;}firebase.database().ref().child(currentUser.uid).set({\"num_beginner_games\":userStatistics[\"num_beginner_games\"],\"num_beginner_wins\":userStatistics[\"num_beginner_wins\"],\"num_intermediate_games\":userStatistics[\"num_intermediate_games\"],\"num_intermediate_wins\":userStatistics[\"num_intermediate_wins\"],\"num_expert_games\":userStatistics[\"num_expert_games\"],\"num_expert_wins\":userStatistics[\"num_expert_wins\"],\"num_ultimate_games\":userStatistics[\"num_ultimate_games\"],\"num_ultimate_wins\":userStatistics[\"num_ultimate_wins\"]});},function(error){console.log(\"Error reading player statistics from DB\");});case 2:case\"end\":return _context.stop();}}},_callee);}));return _recordUserStatistics.apply(this,arguments);}function handleReturnToDashboard(_x2){return _handleReturnToDashboard.apply(this,arguments);}function _handleReturnToDashboard(){_handleReturnToDashboard=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(\"Returning to dashboard...\");try{history.push(\"/dashboard\");}catch(_unused){console.log(\"Error returning to dashboard. Please try again.\");}case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _handleReturnToDashboard.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_Card[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm_Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-200 text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"logo mr-2\",src:\"/assets/win-trophy.png\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 m-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[props.winner.name,\" Wins!\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"w-100 mt-3\",onClick:handleReturnToDashboard,children:\"Return to Dashboard\"})]})})})});}\n// CONCATENATED MODULE: ./src/components/interfaces/Game.js\n/**\r\n * Game component that manages all aspects of the Poker Game\r\n * and allows user to compete with AI Agents.\r\n */var Game_Game=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Game,_Component);var _super=Object(createSuper[\"a\" /* default */])(Game);function Game(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Game);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,winnerFound:null,winner:null,players:null,numPlayersActive:null,numPlayersFolded:null,numPlayersAllIn:null,activePlayerIndex:null,dealerIndex:null,blindIndex:null,deck:null,communityCards:[],pot:null,highBet:null,betInputValue:null,sidePots:[],minBet:20,phase:'loading',playerHierarchy:[],showDownMessages:[],playActionMessages:[],playerAnimationSwitchboard:{0:{isAnimating:false,content:null},1:{isAnimating:false,content:null},2:{isAnimating:false,content:null},3:{isAnimating:false,content:null},4:{isAnimating:false,content:null},5:{isAnimating:false,content:null}}};_this.cardAnimationDelay=0;_this.executeGame=function(){// deal player cards\nvar newState=cardsService_dealPlayerCards(Object(lodash[\"cloneDeep\"])(_this.state));// update state after each action\n_this.setState(newState,function(){if(_this.state.players[_this.state.activePlayerIndex].robot&&_this.state.phase!=='showdown'){setTimeout(function(){_this.aiHandler();},1200);}});};_this.aiHandler=function(){var _this$state=_this.state,playerAnimationSwitchboard=_this$state.playerAnimationSwitchboard,appState=Object(objectWithoutProperties[\"a\" /* default */])(_this$state,[\"playerAnimationSwitchboard\"]);// change state according to AI decision/action\nvar newState=aiService_aiHandler(Object(lodash[\"cloneDeep\"])(appState),_this.changePlayerAnimationState);// update state after action\n_this.setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newState),{},{betInputValue:newState.minBet}),function(){if(_this.state.players[_this.state.activePlayerIndex].robot&&_this.state.phase!=='showdown'){setTimeout(function(){_this.aiHandler();},1200);}});};_this.manageBetChange=function(val,min,max){if(val==='')val=min;if(val>max)val=max;// handle player bet change\n_this.setState({betInputValue:parseInt(val,10)});};_this.manageBetSubmit=function(bet,min,max){var _this$state2=_this.state,playerAnimationSwitchboard=_this$state2.playerAnimationSwitchboard,appState=Object(objectWithoutProperties[\"a\" /* default */])(_this$state2,[\"playerAnimationSwitchboard\"]);// get active player\nvar activePlayerIndex=appState.activePlayerIndex;// execute player action \n_this.changePlayerAnimationState(activePlayerIndex,\"\".concat(makeActionButtonText(_this.state.highBet,_this.state.betInputValue,_this.state.players[_this.state.activePlayerIndex]),\" \").concat(bet>_this.state.players[_this.state.activePlayerIndex].bet?bet:\"\"));;var newState=betService_manageBet(Object(lodash[\"cloneDeep\"])(appState),parseInt(bet,10),parseInt(min,10),parseInt(max,10));// continue to next player if hand is not over\n_this.setState(newState,function(){if(_this.state.players[_this.state.activePlayerIndex].robot&&_this.state.phase!=='showdown'){setTimeout(function(){_this.aiHandler();},1200);}});};_this.manageSliderInputChange=function(val){_this.setState({betInputValue:val[0]});};_this.managePlayerFold=function(){var _this$state3=_this.state,playerAnimationSwitchboard=_this$state3.playerAnimationSwitchboard,appState=Object(objectWithoutProperties[\"a\" /* default */])(_this$state3,[\"playerAnimationSwitchboard\"]);// player fold action\nvar newState=betService_managePlayerFold(Object(lodash[\"cloneDeep\"])(appState));// continue to next player if hand is not over\n_this.setState(newState,function(){if(_this.state.players[_this.state.activePlayerIndex].robot&&_this.state.phase!=='showdown'){setTimeout(function(){_this.aiHandler();},1200);}});};_this.manageNextRound=function(){// remove cards from table\n_this.setState({clearCards:true});// start fresh round\nvar newState=playersService_startNextRound(Object(lodash[\"cloneDeep\"])(_this.state));var winner;// if there is a winner the game is over\nif(checkWin(newState.players)){var players=newState.players;players.forEach(function(element){if(element.chips>0)winner=element;});_this.setState({winner:winner});_this.setState({winnerFound:true});return;}// continue to next round if hand is over\n_this.setState(newState,function(){if(_this.state.players[_this.state.activePlayerIndex].robot&&_this.state.phase!=='showdown'){setTimeout(function(){return _this.aiHandler();},1200);}});};_this.changePlayerAnimationState=function(index,content){var newAnimationSwitchboard=Object.assign({},_this.state.playerAnimationSwitchboard,Object(defineProperty[\"a\" /* default */])({},index,{isAnimating:true,content:content}));_this.setState({playerAnimationSwitchboard:newAnimationSwitchboard});};_this.popPlayerAnimationState=function(index){var persistContent=_this.state.playerAnimationSwitchboard[index].content;var newAnimationSwitchboard=Object.assign({},_this.state.playerAnimationSwitchboard,Object(defineProperty[\"a\" /* default */])({},index,{isAnimating:false,content:persistContent}));_this.setState({playerAnimationSwitchboard:newAnimationSwitchboard});};_this.renderTable=function(){// update table features according to current game state\nvar _this$state4=_this.state,players=_this$state4.players,activePlayerIndex=_this$state4.activePlayerIndex,dealerIndex=_this$state4.dealerIndex,clearCards=_this$state4.clearCards,phase=_this$state4.phase,playerAnimationSwitchboard=_this$state4.playerAnimationSwitchboard;// changes turn of player each hand\nvar reversedPlayers=players.reduce(function(result,player,index){var isActive=index===activePlayerIndex;var hasDealerChip=index===dealerIndex;// shift player in array to allow move dealer chip to each player counter clock-wise\nresult.unshift(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(players_Player,{arrayIndex:index,isActive:isActive,hasDealerChip:hasDealerChip,player:player,clearCards:clearCards,phase:phase,playerAnimationSwitchboard:playerAnimationSwitchboard,endTransition:_this.popPlayerAnimationState},index));return result;},[]);return reversedPlayers.map(function(component){return component;});};_this.renderPlayerActionButtons=function(){var _this$state5=_this.state,highBet=_this$state5.highBet,players=_this$state5.players,activePlayerIndex=_this$state5.activePlayerIndex,phase=_this$state5.phase,betInputValue=_this$state5.betInputValue;// calculate min bet user has to place\nvar min=calculateMinBet(highBet,players[activePlayerIndex].chips,players[activePlayerIndex].bet);// calculate max bet user can place\nvar max=players[activePlayerIndex].chips+players[activePlayerIndex].bet;// render different buttons/text according to user input \nreturn players[activePlayerIndex].robot||phase==='showdown'?null:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"fold-button\",onClick:function onClick(){return _this.managePlayerFold();},children:\"Fold\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"bet-button\",onClick:function onClick(){return _this.manageBetSubmit(betInputValue,min,max);},children:makeActionButtonText(highBet,betInputValue,players[activePlayerIndex])})]});};_this.renderTableCommunityCards=function(purgeAnimation){return _this.state.communityCards.map(function(card,index){var cardData=Object(objectSpread2[\"a\" /* default */])({},card);if(purgeAnimation){cardData.animationDelay=0;}// render card according to its value and suit\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cards_Card,{cardData:cardData},index);});};_this.renderPlayerShowdown=function(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"showdown-div-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"showdown-div-title\",children:\"Hand Complete!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"showdown-div-messages\",children:uiService_makeShowdownMessages(_this.state.showDownMessages)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"showdown-div-community-card-label\",children:\"Community Cards\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"showdown-div-community-cards\",children:_this.renderTableCommunityCards(true)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"showdown-nextRound-button\",onClick:function onClick(){return _this.manageNextRound();},children:\" Next Hand \"}),_this.renderBestHands()]});};_this.renderBestHands=function(){// get best hands from current state of game\nvar playerHierarchy=_this.state.playerHierarchy;return playerHierarchy.map(function(rankSnapshot){var tie=Array.isArray(rankSnapshot);return tie?_this.renderHandSplit(rankSnapshot):_this.renderHandWinner(rankSnapshot);});};_this.renderHandSplit=function(rankSnapshot){return rankSnapshot.map(function(player){return _this.renderHandWinner(player);});};_this.makeCards=function(cards){return cards.map(function(card,index){var cardData=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},card),{},{animationDelay:0});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cards_Card,{cardData:cardData},index);});};_this.renderHandWinner=function(player){// get best hand and hand ranking from winning player\nvar name=player.name,bestHand=player.bestHand,handRank=player.handRank;// get info of winning player\nvar playerStateData=_this.state.players.find(function(statePlayer){return statePlayer.name===name;});// display winning player information\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{class:\"showdown-table content-table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Player\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Private Cards\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Best Hand\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Hand Ranking\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Win/Loss\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"showdown-player-privateCards\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"showdown-player-cards\",children:_this.makeCards(playerStateData.cards)})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"showdown-player-besthand-div\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"showdown-player-besthand-cards\",style:{alignItems:'center'},children:bestHand.map(function(card,index){// reset animation delay for next round\nvar cardData=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},card),{},{animationDelay:0});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cards_Card,{cardData:cardData},index);})})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:handRank}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:uiService_makeNetPlayerEarnings(playerStateData.roundEndChips,playerStateData.roundStartChips)})]})})]});};_this.renderGame=function(){var _this$state6=_this.state,highBet=_this$state6.highBet,players=_this$state6.players,activePlayerIndex=_this$state6.activePlayerIndex,phase=_this$state6.phase;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app-background\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"title-text\",style:{maxWidth:\"400px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"poker-table-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"title-logo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"./assets/logo.svg\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"No-Limit Texas Hold'em Poker\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DropdownButton[\"a\" /* default */],{id:\"dropdown-basic-button\",title:\"\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dropdown[\"a\" /* default */].Item,{href:\"#\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/dashboard\",children:\"Return to Dashboard\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dropdown[\"a\" /* default */].Item,{href:\"#\",children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Logout\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"poker-table-image\",src:\"./assets/table.svg\",alt:\"Poker Table\"}),_this.renderTable(),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"community-hand-div\",children:_this.renderTableCommunityCards()}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pot-div\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:'./assets/pot.svg',alt:\"Pot Value\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h5\",{children:[\" \",\"\".concat(_this.state.pot),\" \"]})]})]}),_this.state.phase==='showdown'&&_this.renderPlayerShowdown(),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"game-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"game-buttons\",children:_this.renderPlayerActionButtons()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"slider\",children:!_this.state.loading&&uiService_makeActionMenu(highBet,players,activePlayerIndex,phase,_this.manageBetChange)})]})]});};return _this;}Object(createClass[\"a\" /* default */])(Game,[{key:\"componentDidMount\",value:/*\r\n   On component load create game with table, players, etc.\r\n  */function(){var _componentDidMount=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _this2=this;var players,dealerIndex,blindIndicies,playersBoughtIn,imageLoaderRequest;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return makeTable(Dashboard.username);case 2:players=_context.sent;// randomly assign dealer chip\ndealerIndex=Math.floor(Math.random()*Math.floor(players.length));// assign blinds to respective players\nblindIndicies=calculateBlindIndices(dealerIndex,players.length);playersBoughtIn=anteUpBlinds(players,blindIndicies,this.state.minBet);imageLoaderRequest=new XMLHttpRequest();// wait for table to load\nimageLoaderRequest.addEventListener(\"load\",function(e){console.log(\"\".concat(e.type));console.log(e);console.log(\"Table Loaded!\");_this2.setState({loading:false});});imageLoaderRequest.addEventListener(\"loadstart\",function(e){console.log(\"\".concat(e.type));console.log(e);});imageLoaderRequest.addEventListener(\"loadend\",function(e){console.log(\"\".concat(e.type));console.log(e);});imageLoaderRequest.addEventListener(\"progress\",function(e){console.log(\"\".concat(e.type));console.log(e);});imageLoaderRequest.addEventListener(\"abort\",function(e){console.log(\"\".concat(e.type));console.log(e);});imageLoaderRequest.addEventListener(\"error\",function(e){console.log(\"\".concat(e.type));console.log(e);});imageLoaderRequest.open(\"GET\",\"./assets/table.svg\");imageLoaderRequest.send();// set initial game state\nthis.setState(function(prevState){return{players:playersBoughtIn,numPlayersActive:players.length,numPlayersFolded:0,numPlayersAllIn:0,activePlayerIndex:dealerIndex,dealerIndex:dealerIndex,blindIndex:{big:blindIndicies.bigBlindIndex,small:blindIndicies.smallBlindIndex},deck:shuffleCards(cardsService_makeDeckOfCards()),pot:0,highBet:prevState.minBet,betInputValue:prevState.minBet,phase:'initialDeal'};});// game executes until there is a winner\nthis.executeGame();case 17:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()/*\r\n   Game execution which iterates through each phase of the \r\n   Poker game repeatedly until there is a winner at the table\r\n  */},{key:\"render\",value:/*\r\n   Render Poker Game until there is a winner. When that occurs \r\n   render \"Player wins\" page.\r\n  */function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"poker-table-wrapper\",children:this.state.loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(helpers_SpinnerLoading,{}):this.state.winnerFound?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PlayerWin,{winner:this.state.winner}):this.renderGame()// to test Player Wins page\n// <PlayerWin winner={this.state.winner} difficulty=\"\"/>\n})});}}]);return Game;}(react[\"Component\"]);/* harmony default export */ var interfaces_Game = (Game_Game);\n// CONCATENATED MODULE: ./src/components/interfaces/Login.js\n/**\r\n * Login component to allow users to \r\n * login to their accounts and play.\r\n */function Login(){var emailRef=Object(react[\"useRef\"])();var passwordRef=Object(react[\"useRef\"])();var _useAuth=useAuth(),login=_useAuth.login;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var history=Object(react_router[\"g\" /* useHistory */])();/*\r\n     Login user submission\r\n  */function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}/*\r\n    Login guest submission\r\n  */function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setError(\"\");setLoading(true);_context.next=6;return login(emailRef.current.value,passwordRef.current.value);case 6:history.push(\"/dashboard\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);setError(\"Invalid email or password\");case 12:setLoading(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _handleSubmit.apply(this,arguments);}function handleSubmitGuest(_x2){return _handleSubmitGuest.apply(this,arguments);}function _handleSubmitGuest(){_handleSubmitGuest=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(\"Guest log in\");_context2.prev=2;setError(\"\");setLoading(true);_context2.next=7;return login(\"guest@guest.com\",\"password\");case 7:console.log(login);history.push(\"/dashboard\");_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](2);setError(\"Error. Cannot play as guest\");case 14:setLoading(false);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[2,11]]);}));return _handleSubmitGuest.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-200 text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(helpers_Logo,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_Card[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm_Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-center mb-4\",children:\"Log In\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"danger\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{id:\"email\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{id:\"password\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",ref:passwordRef,required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,className:\"w-100\",type:\"submit\",children:\"Log In\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,variant:\"warning\",className:\"w-100 mt-3\",onClick:handleSubmitGuest,children:\"Play as Guest\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 text-center mt-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/forgot-password\",children:\"Forgot Password?\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"help-text text-center mt-2\",children:[\"Don't have an account? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Sign Up\"})]})]})]})});}\n// CONCATENATED MODULE: ./src/components/interfaces/Signup.js\n/**\r\n * Signup component to allow users to sign up\r\n * to the Poker App and create an account\r\n * for storing their game statistics.\r\n */function Signup(){var emailRef=Object(react[\"useRef\"])();var passwordRef=Object(react[\"useRef\"])();var passwordConfirmRef=Object(react[\"useRef\"])();var _useAuth=useAuth(),signup=_useAuth.signup;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var history=Object(react_router[\"g\" /* useHistory */])();/*\r\n     Signup user submission\r\n  */function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(passwordRef.current.value!==passwordConfirmRef.current.value)){_context.next=3;break;}return _context.abrupt(\"return\",setError(\"Passwords do not match\"));case 3:_context.prev=3;setError(\"\");setLoading(true);_context.next=8;return signup(emailRef.current.value,passwordRef.current.value);case 8:history.push(\"/dashboard\");_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);setError(\"Failed to create an account\");case 14:setLoading(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-200 text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(helpers_Logo,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_Card[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm_Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-center mb-4\",children:\"Sign Up\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"danger\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{id:\"email\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{id:\"password\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",ref:passwordRef,required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{id:\"password-confirm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Password Confirmation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",ref:passwordConfirmRef,required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,className:\"w-100\",type:\"submit\",children:\"Sign Up\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"help-text w-100 text-center mt-2\",children:[\"Already have an account? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Log In\"})]})]})]})});}\n// CONCATENATED MODULE: ./src/components/interfaces/Statistics.js\n/**\r\n * UserStatistics component to allow users view\r\n * their individual game statistics.\r\n */function UserStatistics(_ref){var userStatistics=_ref.userStatistics;var history=Object(react_router[\"g\" /* useHistory */])();function handleReturnToDashboard(_x){return _handleReturnToDashboard.apply(this,arguments);}function _handleReturnToDashboard(){_handleReturnToDashboard=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(\"Returning to dashboard...\");try{history.push(\"/dashboard\");}catch(_unused){console.log(\"Error returning to dashboard. Please try again.\");}case 3:case\"end\":return _context.stop();}}},_callee);}));return _handleReturnToDashboard.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{class:\"content-table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Played\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Difficulty\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Won\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tbody\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{children:[\" \",userStatistics.num_beginner_games]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:\"Beginner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_beginner_wins})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_intermediate_games}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:\"Intermediate\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_intermediate_wins})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_expert_games}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:\"Expert\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_expert_wins})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_ultimate_games}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:\"Ultimate Poker Pro\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_ultimate_wins})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{class:\"active-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_beginner_games+userStatistics.num_intermediate_games+userStatistics.num_expert_games+userStatistics.num_ultimate_games}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:\"Total\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:userStatistics.num_beginner_wins+userStatistics.num_intermediate_wins+userStatistics.num_expert_wins+userStatistics.num_ultimate_wins})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"w-100 mt-3\",onClick:handleReturnToDashboard,children:\"Return to Dashboard\"})]});}function GuestUserStatistics(_ref2){var userStatistics=_ref2.userStatistics;var history=Object(react_router[\"g\" /* useHistory */])();function handleReturnToDashboard(_x2){return _handleReturnToDashboard2.apply(this,arguments);}function _handleReturnToDashboard2(){_handleReturnToDashboard2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(\"Returning to dashboard...\");try{history.push(\"/dashboard\");}catch(_unused2){console.log(\"Error returning to dashboard. Please try again.\");}case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _handleReturnToDashboard2.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"No Statistics Recorded for Guest Users\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"w-100 mt-3\",onClick:handleReturnToDashboard,children:\"Return to Dashboard\"})]});}function Statistics(props){var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=Object(react[\"useState\"])(new Object()),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userStats=_useState4[0],setUserStats=_useState4[1];var userStatistics=new Object();Object(react[\"useEffect\"])(function(){setUserStatistics();});function setUserStatistics(){return _setUserStatistics.apply(this,arguments);}function _setUserStatistics(){_setUserStatistics=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var countValues;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:countValues=0;// If email is guest email show message saying that as a guest player nos stats are recorded\nfirebase.database().ref().child(currentUser.uid).once(\"value\").then(function(snapshot){console.log(\"snapshot\");console.log(snapshot);snapshot.forEach(function(childSnapshot){var key=childSnapshot.key;var childData=childSnapshot.val();userStatistics[key]=childData;countValues+=1;});if(countValues==0){userStatistics={\"num_beginner_games\":0,\"num_beginner_wins\":0,\"num_intermediate_games\":0,\"num_intermediate_wins\":0,\"num_expert_games\":0,\"num_expert_wins\":0,\"num_ultimate_games\":0,\"num_ultimate_wins\":0};}setUserStats(userStatistics);if(countValues==8){setLoading(false);}});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return _setUserStatistics.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-200 text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(helpers_Logo,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_Card[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(esm_Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-center mb-4\",children:\"Personal Statistics\"}),currentUser.email==\"guest@guest.com\"?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuestUserStatistics,{}):loading?\"Loading...\":/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserStatistics,{userStatistics:userStats})]})})})]})});}\n// CONCATENATED MODULE: ./src/App.js\n/**\r\n * Main Application Component\r\n */var App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(){Object(classCallCheck[\"a\" /* default */])(this,App);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(App,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PrivateRoute,{exact:true,path:\"/\",component:interfaces_Game}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PrivateRoute,{exact:true,path:\"/dashboard\",component:Dashboard}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PrivateRoute,{exact:true,path:\"/statistics\",component:Statistics}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/signup\",component:Signup}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/login\",component:Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/forgot-password\",component:ForgotPassword})]})})});}}]);return App;}(react[\"Component\"]);/* harmony default export */ var src_App_0 = (App_App);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(466);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[467,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\src\\App.css","C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\src\\index.css","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/firebase.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/contexts/AuthContext.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/helpers/PrivateRoute.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/helpers/Logo.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/Dashboard.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/ForgotPassword.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/services/playersService.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/services/cardsService.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/services/betService.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/raiseBar/Controller.jsx","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/raiseBar/styles.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/raiseBar/Tracker.jsx","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/services/uiService.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/services/aiService.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/cards/Card.jsx","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/helpers/SpinnerLoading.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/cards/BackOfCard.jsx","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/players/PlayerStatus.jsx","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/players/Player.jsx","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/PlayerWin.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/Game.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/Login.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/Signup.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/Statistics.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/App.js","C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/index.js","C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\manny\\2021-ca400-idelegi2-puzzuos2\\src\\ui\\src\\Game.css"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","storageBucket","messagingSenderId","appId","auth","firebaseDb","database","ref","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","useEffect","unsubscribe","onAuthStateChanged","user","value","PrivateRoute","Component","component","rest","props","Logo","Dashboard","error","setError","history","useHistory","username","getUsername","handleLogout","push","viewStatistics","playPoker","difficulty","emailAddress","substring","indexOf","minHeight","maxWidth","ForgotPassword","emailRef","useRef","message","setMessage","handleSubmit","e","preventDefault","current","axios","require","makeTable","playerName","users","id","uuid","name","avatarURL","cards","showDownHand","hand","descendingSortHand","chips","roundStartChips","roundEndChips","currentRoundChipsInvested","bet","betReconciled","folded","allIn","canRaise","stackInvestment","robot","makePersonality","seed","manageOverflowIndex","currentIndex","incrementBy","arrayLength","direction","Error","choosePhaseStartActivePlayer","state","recursion","activePlayerIndex","blindIndex","big","players","length","chooseNextActivePlayer","activePlayer","allButOnePlayersAreAllIn","numPlayersActive","numPlayersAllIn","console","log","playerShowDown","remakePot","dealOtherCommunityCards","managePhaseShift","moveDealerChip","dealerIndex","nextDealer","findBrokePlayers","dealerID","filter","player","newDealerIndex","findIndex","small","anteUpBlinds","bigBlindIndex","smallBlindIndex","minBet","map","numPlayersFolded","blindIndicies","calculateBlindIndices","dealPlayerCards","startNextRound","communityCards","sidePots","playerHierarchy","showDownMessages","deck","shuffleCards","makeDeckOfCards","highBet","betInputValue","clearPlayerCards","card","checkWin","totalNumCards","suits","VALUE_MAP","J","Q","K","A","suit","cardFace","shuffledDeck","Array","filledSlots","i","lastSlot","el","shuffleToPosition","randomStartPosition","includes","clearCards","animationDelay","getCards","mutableDeckCopy","chosenCards","newDeck","phase","min","max","Math","ceil","floor","random","numToGet","pop","dealFlopCards","dealTurnCards","dealRiverCards","cardsToPop","getShowdownCards","frequencyHistogram","suitHistogram","concat","sort","a","b","forEach","valueSet","generateValueSet","checkIfFlush","isFlush","flushedSuit","flushCards","isRoyalFlush","checkIfRoyalFlush","checkIfStraightFlush","isStraightFlush","isLowStraightFlush","concurrentSFCardValues","concurrentSFCardValuesLow","checkIfStraight","isStraight","isLowStraight","concurrentCardValues","concurrentCardValuesLow","checkFrequencyHistogram","isFourOfAKind","isFullHouse","isThreeOfAKind","isTwoPair","isPair","frequencyHistogramMetaData","isNoPair","bools","heldRankHierarchy","match","metaData","highRankPosition","bestHandRank","bestHand","findBestHand","assignSidePots","numToPop","bestRank","slice","reduce","acc","cur","index","reverse","mutableHand","cloneDeep","indexOfQuad","quads","face","tripples","indexOfTripple","indexOfPair","pairs","determinePlayerHandsHierarchy","sortedComparator","handRank","winnerHierarchy","loserHierarchy","processComparator","comparator","round","filterableComparator","frame","handleSnapshotFrame","winningFrame","losingFrame","lowerTierComparator","snapshot","some","snapshotToMatchName","filteredWinnerSnapshots","higherTierComparator","processLowTierComparators","loserHierarchyFrame","loserComparatorToProcess","buildPlayerRankings","activePlayers","hierarchy","rankMap","Map","playerIndex","get","playersWhoHoldThisRank","formattedPlayersWhoHoldThisRank","createRankingsComparator","rankPlayersHands","contestants","contestant","highValue","assignWinnings","prize","winnerFound","rank","payWinnings","winners","findHandWinner","sidePot","potValue","pot","overflow","splitPot","winner","playerData","from","playerShowdownData","losers","nameToExtract","flushMatchCards","numConcurrentCards","checkIfLowerStraight","numTripples","numPairs","valueSetCopy","sortedValueSetCopy","Set","cardInfo","numPlayers","blindIndices","calculateMinBet","playerChipsStack","playerBet","playerTotalChips","manageBet","subtractableChips","managePlayerFold","nextState","sidePotStack","condensePots","calculatePots","playerStacks","investedPlayers","playerToRefund","ascBetPlayers","smallStackValue","builtSidePot","n","arrayIdentical","arr1","arr2","bool","Controller","handle","percent","getHandleProps","left","position","marginLeft","marginTop","zIndex","width","height","border","textAlign","cursor","borderRadius","backgroundColor","color","display","textShadow","justifyContent","fontFamily","fontSize","sliderStyle","railStyle","Tracker","source","target","getTrackProps","makePhaseStatement","makeActionButtonText","makeNetPlayerEarnings","endChips","startChips","netChipEarnings","win","none","makeShowdownMessages","makeActionMenu","changeSliderInputFn","getRailProps","handles","tracks","aiHandler","moveAnimationState","totalInvestment","investmentRequiredToRemain","makeHistogram","stakes","groupStakes","preFlopValues","highCard","lowCard","suited","Object","entries","find","keyValuePair","straightGap","createPreFlopDeterminant","callLimit","raiseChance","raiseRange","willCall","betting_hierarchy","callValue","willRaise","determinedRaiseRange","wantRaise","betValue","chooseBetProportion","handHierarchy","highRank","createGeneralizedDeterminant","raiseChange","percentage","blind","insignificant","lowdraw","meddraw","hidraw","strong","major","aggro","beware","chance","histogram","Card","cardData","applyFoldedClassname","cardSuit","toUpperCase","SpinnerLoading","BackOfCard","PlayerStatus","isActive","content","endTransition","appear","enter","exit","dealerChipImageURL","chipCountImageURL","playerBetImageURL","Player","arrayIndex","playerAnimationSwitchboard","hasDealerChip","makePlayerCards","makeDealerChip","Animating","playerBoxIndex","PlayerWin","search","useLocation","URLSearchParams","recordUserStatistics","userStatistics","child","uid","once","then","countValues","childSnapshot","key","childData","val","set","handleReturnToDashboard","Game","playActionMessages","isAnimating","cardAnimationDelay","executeGame","newState","setState","setTimeout","appState","aiHandlerUtil","changePlayerAnimationState","manageBetChange","parseInt","manageBetSubmit","manageSliderInputChange","manageNextRound","element","newAnimationSwitchboard","assign","popPlayerAnimationState","persistContent","renderTable","reversedPlayers","result","unshift","renderPlayerActionButtons","renderTableCommunityCards","purgeAnimation","renderPlayerShowdown","renderBestHands","rankSnapshot","tie","isArray","renderHandSplit","renderHandWinner","makeCards","playerStateData","statePlayer","alignItems","renderGame","playersBoughtIn","imageLoaderRequest","XMLHttpRequest","addEventListener","type","open","send","prevState","Login","passwordRef","handleSubmitGuest","Signup","passwordConfirmRef","UserStatistics","num_beginner_games","num_beginner_wins","num_intermediate_games","num_intermediate_wins","num_expert_games","num_expert_wins","num_ultimate_games","num_ultimate_wins","GuestUserStatistics","Statistics","userStats","setUserStats","setUserStatistics","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/database\"\r\n\r\n/**\r\n * Initialize Firebase cloud key values (for recording data on cloud DB)\r\n */\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport const firebaseDb = app.database().ref()\r\nexport default app","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\n\r\n\r\n/**\r\n * Authentication context to handle user authentication for\r\n * restricted pages (Dashboard, Statistics, Game, etc.)\r\n */\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\n/*\r\n    Authentication Provider\r\n*/\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  /*\r\n    Sign up with Email and Password\r\n  */\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  /*\r\n    Login with Email and Password\r\n  */\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  /*\r\n    Logout with Email and Password\r\n  */\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  /*\r\n    Reset Password for Email\r\n  */\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  /*\r\n    Update Email\r\n  */\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  /*\r\n    Update Email\r\n  */\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\n\r\n/**\r\n * PrivateRoute component used to restrict access to specific\r\n * pages to only logged in users.\r\n */\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}","import React, { Component } from 'react';\r\n\r\n/**\r\n * Logo component which represents the Logo image of the Poker App\r\n * aligned with the name of the App.\r\n */\r\nclass Logo extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"logo-main mb-4\">\r\n                <span className=\"navbar-brand\">\r\n                    <span ><img className=\"logo mr-2\" src=\"/assets/logo.svg\" /></span>\r\n                    <h3 className=\"navbar-text\">No-Limit Texas Hold'em Poker</h3>\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Logo;","import React, { useState } from \"react\";\r\nimport { Alert, Button, Card, Container } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport '../../Game.css';\r\nimport Logo from '../helpers/Logo';\r\n\r\n\r\n/**\r\n * Dashboard component to provide users with menu \r\n * where they can join a Poker game or view their \r\n * individual game statistics.\r\n */\r\nexport default function Dashboard() {\r\n    const [error, setError] = useState(\"\")\r\n    const { currentUser, logout } = useAuth()\r\n    const history = useHistory()\r\n\r\n    Dashboard.username = getUsername(currentUser.email)\r\n\r\n    /*\r\n     Logout user\r\n    */\r\n    async function handleLogout() {\r\n        setError(\"\")\r\n\r\n        try {\r\n            await logout()\r\n            history.push(\"/login\")\r\n        } catch {\r\n            setError(\"Failed to log out\")\r\n        }\r\n    }\r\n\r\n    /*\r\n     Show user statistics\r\n    */\r\n    async function viewStatistics() {\r\n        setError(\"\")\r\n        try {\r\n            history.push(\"/Statistics\")\r\n        } catch {\r\n            setError(\"Failed to view statistics\")\r\n        }\r\n    }\r\n\r\n    /*\r\n     Start Game\r\n    */\r\n    async function playPoker(difficulty = \"Beginner\") {\r\n        setError(\"\")\r\n        try {\r\n            history.push(\"/?difficulty=\" + difficulty)\r\n        } catch {\r\n            setError(\"Failed to enter game\")\r\n        }\r\n    }\r\n\r\n    /*\r\n     Get username from email address\r\n    */\r\n    function getUsername(emailAddress) {\r\n        return emailAddress.substring(0, emailAddress.indexOf(\"@\"));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container\r\n                className=\"d-flex flex-column align-items-center justify-content-center\"\r\n                style={{ minHeight: \"100vh\" }}\r\n            >\r\n                <div className=\"w-200 text-center\">\r\n                    <Logo />\r\n                </div>\r\n                <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <h2 className=\"text-center mb-4\">Dashboard</h2>\r\n                            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                            <div className=\"text-center mb-2\">Welcome <strong> {Dashboard.username}</strong>!</div>\r\n                            <div className=\"w-100 text-center mt-2\">\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"beginner\")}>\r\n                                    Join Beginner Table\r\n                                </Button>\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"intermediate\")}>\r\n                                    Join Intermediate Table\r\n                                </Button>\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"expert\")}>\r\n                                    Join Expert Table\r\n                                </Button>\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"ultimate\")}>\r\n                                    Join Ultimate Poker Pro Table\r\n                                </Button>\r\n                                <Button variant=\"warning\" className=\"w-100\" onClick={viewStatistics}>\r\n                                    View Personal Statistics\r\n                                </Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                    <div className=\"w-100 text-center mt-2\">\r\n                        <Button variant=\"link\" onClick={handleLogout}>\r\n                            Log Out\r\n                </Button>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Container, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\n/**\r\n * ForgotPassword component to allow users \r\n * to reset their account password (needed to login).\r\n */\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef()\r\n  const { resetPassword } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  /*\r\n    Handle user forgot password submission\r\n  */\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setMessage(\"\")\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await resetPassword(emailRef.current.value)\r\n      setMessage(\"Check your inbox for further instructions\")\r\n    } catch {\r\n      setError(\"Failed to reset password\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container\r\n        className=\"d-flex align-items-center justify-content-center\"\r\n        style={{ minHeight: \"100vh\" }}\r\n      >\r\n        <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n          <Card>\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              {message && <Alert variant=\"success\">{message}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group id=\"email\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control type=\"email\" ref={emailRef} required />\r\n                </Form.Group>\r\n                <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                  Reset Password\r\n            </Button>\r\n              </Form>\r\n              <div className=\"w-100 text-center mt-3\">\r\n                <Link to=\"/login\">Login</Link>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n          <div className=\"w-100 text-center mt-2\">\r\n            Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}","import uuid from 'uuid/v1';\r\nimport { anteUpBlinds, calculateBlindIndices, managePhaseShift, remakePot } from './betService.js';\r\nimport { dealOtherCommunityCards, dealPlayerCards, makeDeckOfCards, playerShowDown, shuffleCards } from './cardsService.js';\r\n\r\n/** \r\n* The playerService provides services to handle\r\n* player information and the passing of information\r\n* to players.\r\n*/\r\n\r\n/* \r\nIntialise user and agents data\r\n*/\r\nconst axios = require('axios')\r\nconst makeTable = async (playerName = \"User\") => {\r\n\t// a list containing both the user and the agents data\r\n\tconst users = [{\r\n\t\tid: uuid(),\r\n\t\tname: playerName,\r\n\t\tavatarURL: '/assets/playerIcons/blackUser.svg',\r\n\t\tcards: [],\r\n\t\tshowDownHand: {\r\n\t\t\thand: [],\r\n\t\t\tdescendingSortHand: [],\r\n\t\t},\r\n\t\tchips: 20000,\r\n\t\troundStartChips: 20000,\r\n\t\troundEndChips: 20000,\r\n\t\tcurrentRoundChipsInvested: 0,\r\n\t\tbet: 0,\r\n\t\tbetReconciled: false,\r\n\t\tfolded: false,\r\n\t\tallIn: false,\r\n\t\tcanRaise: true,\r\n\t\tstackInvestment: 0,\r\n\t\trobot: false\r\n\t},\r\n\t{\r\n\t\tid: uuid(),\r\n\t\tname: 'Agent 1',\r\n\t\tavatarURL: '/assets/playerIcons/blueUser.svg',\r\n\t\tcards: [],\r\n\t\tshowDownHand: {\r\n\t\t\thand: [],\r\n\t\t\tdescendingSortHand: [],\r\n\t\t},\r\n\t\tchips: 20000,\r\n\t\troundStartChips: 20000,\r\n\t\troundEndChips: 20000,\r\n\t\tcurrentRoundChipsInvested: 0,\r\n\t\tbet: 0,\r\n\t\tbetReconciled: false,\r\n\t\tfolded: false,\r\n\t\tallIn: false,\r\n\t\tcanRaise: true,\r\n\t\tstackInvestment: 0,\r\n\t\trobot: true\r\n\t},\r\n\t{\r\n\t\tid: uuid(),\r\n\t\tname: 'Agent 2',\r\n\t\tavatarURL: '/assets/playerIcons/redUser.svg',\r\n\t\tcards: [],\r\n\t\tshowDownHand: {\r\n\t\t\thand: [],\r\n\t\t\tdescendingSortHand: [],\r\n\t\t},\r\n\t\tchips: 20000,\r\n\t\troundStartChips: 20000,\r\n\t\troundEndChips: 20000,\r\n\t\tcurrentRoundChipsInvested: 0,\r\n\t\tbet: 0,\r\n\t\tbetReconciled: false,\r\n\t\tfolded: false,\r\n\t\tallIn: false,\r\n\t\tcanRaise: true,\r\n\t\tstackInvestment: 0,\r\n\t\trobot: true\r\n\t},\r\n\t{\r\n\t\tid: uuid(),\r\n\t\tname: 'Agent 3',\r\n\t\tavatarURL: '/assets/playerIcons/purpleUser.svg',\r\n\t\tcards: [],\r\n\t\tshowDownHand: {\r\n\t\t\thand: [],\r\n\t\t\tdescendingSortHand: [],\r\n\t\t},\r\n\t\tchips: 20000,\r\n\t\troundStartChips: 20000,\r\n\t\troundEndChips: 20000,\r\n\t\tcurrentRoundChipsInvested: 0,\r\n\t\tbet: 0,\r\n\t\tbetReconciled: false,\r\n\t\tfolded: false,\r\n\t\tallIn: false,\r\n\t\tcanRaise: true,\r\n\t\tstackInvestment: 0,\r\n\t\trobot: true\r\n\t},\r\n\t{\r\n\t\tid: uuid(),\r\n\t\tname: 'Agent 4',\r\n\t\tavatarURL: '/assets/playerIcons/yellowUser.svg',\r\n\t\tcards: [],\r\n\t\tshowDownHand: {\r\n\t\t\thand: [],\r\n\t\t\tdescendingSortHand: [],\r\n\t\t},\r\n\t\tchips: 20000,\r\n\t\troundStartChips: 20000,\r\n\t\troundEndChips: 20000,\r\n\t\tcurrentRoundChipsInvested: 0,\r\n\t\tbet: 0,\r\n\t\tbetReconciled: false,\r\n\t\tfolded: false,\r\n\t\tallIn: false,\r\n\t\tcanRaise: true,\r\n\t\tstackInvestment: 0,\r\n\t\trobot: true\r\n\t},\r\n\t{\r\n\t\tid: uuid(),\r\n\t\tname: 'Agent 5',\r\n\t\tavatarURL: '/assets/playerIcons/yellowUser.svg',\r\n\t\tcards: [],\r\n\t\tshowDownHand: {\r\n\t\t\thand: [],\r\n\t\t\tdescendingSortHand: [],\r\n\t\t},\r\n\t\tchips: 20000,\r\n\t\troundStartChips: 20000,\r\n\t\troundEndChips: 20000,\r\n\t\tcurrentRoundChipsInvested: 0,\r\n\t\tbet: 0,\r\n\t\tbetReconciled: false,\r\n\t\tfolded: false,\r\n\t\tallIn: false,\r\n\t\tcanRaise: true,\r\n\t\tstackInvestment: 0,\r\n\t\trobot: true\r\n\t}];\r\n\r\n\treturn users\r\n}\r\n/* \r\n Used to create agents of different difficulties\r\n */\r\nconst makePersonality = (seed) => {\r\n\tswitch (seed) {\r\n\t\t// intermediate/advanced ai\r\n\t\tcase (seed > 0.5):\r\n\t\t\treturn 'standard'\r\n\t\t// beginner ai\r\n\t\tcase (seed > 0.35):\r\n\t\t\treturn 'aggressive'\r\n\t\tcase (seed > 0):\r\n\t\t// intermediate/advanced ai\r\n\t\tdefault:\r\n\t\t\treturn 'conservative'\r\n\t}\r\n}\r\n\r\nconst manageOverflowIndex = (currentIndex, incrementBy, arrayLength, direction) => {\r\n\tswitch (direction) {\r\n\t\tcase ('up'): {\r\n\t\t\treturn (\r\n\t\t\t\t(currentIndex + incrementBy) % arrayLength\r\n\t\t\t)\r\n\t\t}\r\n\t\tcase ('down'): {\r\n\t\t\treturn (\r\n\t\t\t\t((currentIndex - incrementBy) % arrayLength) + arrayLength\r\n\t\t\t)\r\n\t\t}\r\n\t\tdefault: throw Error(\"Attempted to overfow index on unfamiliar direction\");\r\n\t}\r\n}\r\n/* \r\n Determines which player starts the round\r\n */\r\nconst choosePhaseStartActivePlayer = (state, recursion = false) => {\r\n\tif (!recursion) {\r\n\t\tstate.activePlayerIndex = manageOverflowIndex(state.blindIndex.big, 1, state.players.length, 'up');\r\n\t} else if (recursion) {\r\n\t\tstate.activePlayerIndex = manageOverflowIndex(state.activePlayerIndex, 1, state.players.length, 'up');\r\n\t}\r\n\tif (state.players[state.activePlayerIndex].folded) {\r\n\t\treturn choosePhaseStartActivePlayer(state, true)\r\n\t}\r\n\tif (state.players[state.activePlayerIndex].chips === 0) {\r\n\t\treturn choosePhaseStartActivePlayer(state, true)\r\n\t}\r\n\treturn state\r\n}\r\n\r\n/* \r\n Determines which players turn is next\r\n */\r\nconst chooseNextActivePlayer = (state) => {\r\n\tstate.activePlayerIndex = manageOverflowIndex(state.activePlayerIndex, 1, state.players.length, 'up');\r\n\tconst activePlayer = state.players[state.activePlayerIndex];\r\n\r\n\tconst allButOnePlayersAreAllIn = (state.numPlayersActive - state.numPlayersAllIn === 1);\r\n\tif (state.numPlayersActive === 1) {\r\n\t\tconsole.log(\"Only one player active, skipping to showdown.\")\r\n\t\treturn (playerShowDown(remakePot(dealOtherCommunityCards(state))));\r\n\t}\r\n\tif (activePlayer.folded) {\r\n\t\tconsole.log(\"Current player index is folded, going to next active player.\")\r\n\t\treturn chooseNextActivePlayer(state);\r\n\t}\r\n\r\n\tif (\r\n\t\tallButOnePlayersAreAllIn &&\r\n\t\t!activePlayer.folded &&\r\n\t\tactivePlayer.betReconciled\r\n\t) {\r\n\t\treturn (playerShowDown(remakePot(dealOtherCommunityCards(state))));\r\n\t}\r\n\r\n\tif (activePlayer.chips === 0) {\r\n\t\tif (state.numPlayersAllIn === state.numPlayersActive) {\r\n\t\t\tconsole.log(\"All players are all in.\")\r\n\t\t\treturn (playerShowDown(remakePot(dealOtherCommunityCards(state))));\r\n\t\t} else if (allButOnePlayersAreAllIn && activePlayer.allIn) {\r\n\t\t\treturn (playerShowDown(remakePot(dealOtherCommunityCards(state))));\r\n\t\t} else {\r\n\t\t\treturn chooseNextActivePlayer(state);\r\n\t\t}\r\n\t}\r\n\r\n\tif (activePlayer.betReconciled) {\r\n\t\tconsole.log(\"Player is reconciled with pot, round betting cycle complete, proceed to next round.\")\r\n\t\treturn managePhaseShift(state);\r\n\t}\r\n\r\n\treturn state\r\n}\r\n\r\n/* \r\n The dealer chip is assigned to the \r\n player acting as the dealer in \r\n a given round.\r\n */\r\nconst moveDealerChip = (state) => {\r\n\tstate.dealerIndex = manageOverflowIndex(state.dealerIndex, 1, state.players.length, 'up');\r\n\tconst nextDealer = state.players[state.dealerIndex]\r\n\tif (nextDealer.chips === 0) {\r\n\t\treturn moveDealerChip(state)\r\n\t}\r\n\r\n\treturn findBrokePlayers(state, nextDealer.name);\r\n}\r\n\r\n\r\n/* \r\n Finds and remove players with no funds remaining,\r\n shifts dealer if necessary and prepares state for \r\n next game phase.\r\n */\r\nconst findBrokePlayers = (state, dealerID) => {\r\n\tstate.players = state.players.filter(player => player.chips > 0);\r\n\tconst newDealerIndex = state.players.findIndex(player => player.name === dealerID)\r\n\tstate.dealerIndex = newDealerIndex\r\n\tstate.activePlayerIndex = newDealerIndex\r\n\tif (state.players.length === 1) {\r\n\t\t// winner determined\r\n\t\treturn state\r\n\t} else if (state.players.length === 2) {\r\n\t\tstate.blindIndex.small = newDealerIndex;\r\n\t\tstate.blindIndex.big = manageOverflowIndex(newDealerIndex, 1, state.players.length, 'up');\r\n\t\tstate.players = anteUpBlinds(state.players, { bigBlindIndex: state.blindIndex.big, smallBlindIndex: state.blindIndex.small }, state.minBet).map(player => ({\r\n\t\t\t...player,\r\n\t\t\tcards: [],\r\n\t\t\tshowDownHand: {\r\n\t\t\t\thand: [],\r\n\t\t\t\tdescendingSortHand: [],\r\n\t\t\t},\r\n\t\t\troundStartChips: player.chips + player.bet,\r\n\t\t\tcurrentRoundChipsInvested: 0,\r\n\t\t\tbetReconciled: false,\r\n\t\t\tfolded: false,\r\n\t\t\tallIn: false,\r\n\t\t}))\r\n\t\tstate.numPlayersAllIn = 0;\r\n\t\tstate.numPlayersFolded = 0;\r\n\t\tstate.numPlayersActive = state.players.length;\r\n\t} else {\r\n\t\tconst blindIndicies = calculateBlindIndices(newDealerIndex, state.players.length);\r\n\t\tstate.blindIndex = {\r\n\t\t\tbig: blindIndicies.bigBlindIndex,\r\n\t\t\tsmall: blindIndicies.smallBlindIndex,\r\n\t\t}\r\n\t\tstate.players = anteUpBlinds(state.players, blindIndicies, state.minBet).map(player => ({\r\n\t\t\t...player,\r\n\t\t\tcards: [],\r\n\t\t\tshowDownHand: {\r\n\t\t\t\thand: [],\r\n\t\t\t\tdescendingSortHand: [],\r\n\t\t\t},\r\n\t\t\troundStartChips: player.chips + player.bet,\r\n\t\t\tcurrentRoundChipsInvested: 0,\r\n\t\t\tbetReconciled: false,\r\n\t\t\tfolded: false,\r\n\t\t\tallIn: false,\r\n\t\t}))\r\n\t\tstate.numPlayersAllIn = 0;\r\n\t\tstate.numPlayersFolded = 0;\r\n\t\tstate.numPlayersActive = state.players.length;\r\n\t}\r\n\treturn dealPlayerCards(state)\r\n}\r\n\r\n/* \r\n Increments state to next game phase and \r\n shifts dealer.\r\n */\r\nconst startNextRound = (state) => {\r\n\tstate.communityCards = [];\r\n\tstate.sidePots = [];\r\n\tstate.playerHierarchy = [];\r\n\tstate.showDownMessages = [];\r\n\tstate.deck = shuffleCards(makeDeckOfCards())\r\n\tstate.highBet = 20;\r\n\tstate.betInputValue = 20;\r\n\tstate.minBet = 20; // can export out to initialState\r\n\t// Unmount all cards so react can re-trigger animations\r\n\tconst { players } = state;\r\n\tconst clearPlayerCards = players.map(player => ({ ...player, cards: player.cards.map(card => { }) }))\r\n\tstate.players = clearPlayerCards;\r\n\treturn moveDealerChip(state)\r\n}\r\n\r\n/* \r\n Check if the game has a winner.\r\n */\r\nconst checkWin = players => {\r\n\treturn (players.filter(player => player.chips > 0).length === 1)\r\n}\r\n\r\nexport { makeTable, manageOverflowIndex, chooseNextActivePlayer, choosePhaseStartActivePlayer, startNextRound, checkWin };\r\n\r\n","import { cloneDeep } from 'lodash';\r\nimport { choosePhaseStartActivePlayer, manageOverflowIndex } from './playersService.js';\r\n\r\n/**\r\n * cardsService provides key services to the App that\r\n * regard the Poker game cards. Such services include \r\n * shuffling the cards, dealing the cards finding \r\n * the best hand, etc.\r\n */\r\n\r\nconst totalNumCards = 52;\r\nconst cards = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];\r\nconst suits = ['Heart', 'Spade', 'Club', 'Diamond'];\r\n\r\n// start from 2 as A (or 1) is the higest ranking card\r\nconst VALUE_MAP = {\r\n\t2: 1,\r\n\t3: 2,\r\n\t4: 3,\r\n\t5: 4,\r\n\t6: 5,\r\n\t7: 6,\r\n\t8: 7,\r\n\t9: 8,\r\n\t10: 9,\r\n\tJ: 10,\r\n\tQ: 11,\r\n\tK: 12,\r\n\tA: 13,\r\n};\r\n\r\n\r\n\r\n/*\r\n  Generate the deck of 52 cards \r\n */\r\nconst makeDeckOfCards = () => {\r\n\tconst deck = [];\r\n\r\n\t// get every combination of suit and value\r\n\tfor (let suit of suits) {\r\n\t\tfor (let card of cards) {\r\n\t\t\tdeck.push({\r\n\t\t\t\tcardFace: card,\r\n\t\t\t\tsuit: suit,\r\n\t\t\t\tvalue: VALUE_MAP[card]\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\treturn deck\r\n}\r\n\r\n\r\n/*\r\n  Shuffle cards to randomize their order\r\n */\r\nconst shuffleCards = (deck) => {\r\n\tlet shuffledDeck = new Array(totalNumCards);\r\n\tlet filledSlots = [];\r\n\tfor (let i = 0; i < totalNumCards; i++) {\r\n\t\t// if all cards except 1 are given \r\n\t\tif (i === 51) {\r\n\t\t\t// assign the last slot to the remaining card\r\n\t\t\tconst lastSlot = shuffledDeck.findIndex((el) => typeof el == 'undefined');\r\n\t\t\tshuffledDeck[lastSlot] = deck[i];\r\n\t\t\tfilledSlots.push(lastSlot);\r\n\t\t} else {\r\n\t\t\t// randomize order of all cards one by one\r\n\t\t\tlet shuffleToPosition = randomStartPosition(0, totalNumCards - 1);\r\n\t\t\twhile (filledSlots.includes(shuffleToPosition)) {\r\n\t\t\t\tshuffleToPosition = randomStartPosition(0, totalNumCards - 1);\r\n\t\t\t}\r\n\t\t\tshuffledDeck[shuffleToPosition] = deck[i];\r\n\t\t\tfilledSlots.push(shuffleToPosition);\r\n\t\t}\r\n\t}\r\n\treturn shuffledDeck\r\n}\r\n\r\n\r\n/*\r\n  Deal players cards at start of each hand\r\n */\r\nconst dealPlayerCards = (state) => {\r\n\tstate.clearCards = false;\r\n\tlet animationDelay = 0;\r\n\t// deal cards until every player at table has 2\r\n\twhile (state.players[state.activePlayerIndex].cards.length < 2) {\r\n\t\tconst { mutableDeckCopy, chosenCards } = getCards(state.deck, 1);\r\n\r\n\t\t// add animation delay \r\n\t\tchosenCards.animationDelay = animationDelay;\r\n\t\tanimationDelay = animationDelay + 250;\r\n\r\n\t\tconst newDeck = [...mutableDeckCopy];\r\n\t\tstate.players[state.activePlayerIndex].cards.push(chosenCards);\r\n\r\n\t\tstate.deck = newDeck;\r\n\t\tstate.activePlayerIndex = manageOverflowIndex(state.activePlayerIndex, 1, state.players.length, 'up');\r\n\t}\r\n\tif (state.players[state.activePlayerIndex].cards.length === 2) {\r\n\t\tstate.activePlayerIndex = manageOverflowIndex(state.blindIndex.big, 1, state.players.length, 'up');\r\n\t\t// set first phase of betting\r\n\t\tstate.phase = 'betting1';\r\n\t\treturn state;\r\n\t}\r\n}\r\n\r\n\r\n/*\r\n  Find random start position for giving cards (assigns dealer chip)\r\n */\r\nconst randomStartPosition = (min, max) => {\r\n\tmin = Math.ceil(min);\r\n\tmax = Math.floor(max);\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n\r\n/*\r\n  Get cards dealt to a player\r\n */\r\nconst getCards = (deck, numToGet) => {\r\n\t// make shallow copy of deck to not alter original deck attributes\r\n\tconst mutableDeckCopy = [...deck];\r\n\tlet chosenCards;\r\n\tif (numToGet === 1) {\r\n\t\t// get last card \r\n\t\tchosenCards = mutableDeckCopy.pop();\r\n\t} else {\r\n\t\t// get chosen cards from mutable deck copy one by one\r\n\t\tchosenCards = [];\r\n\t\tfor (let i = 0; i < numToGet; i++) {\r\n\t\t\tchosenCards.push(mutableDeckCopy.pop());\r\n\t\t}\r\n\t}\r\n\treturn { mutableDeckCopy, chosenCards }\r\n}\r\n\r\n\r\n/*\r\n  Deal flop cards\r\n */\r\nconst dealFlopCards = (state) => {\r\n\tlet animationDelay = 0;\r\n\tconst { mutableDeckCopy, chosenCards } = getCards(state.deck, 3);\r\n\r\n\t// deal first 3 chosen flop cards\r\n\tfor (let card of chosenCards) {\r\n\t\t// add animation delay \r\n\t\tcard.animationDelay = animationDelay;\r\n\t\tanimationDelay = animationDelay + 250;\r\n\t\tstate.communityCards.push(card);\r\n\t}\r\n\r\n\tstate.deck = mutableDeckCopy;\r\n\tstate = choosePhaseStartActivePlayer(state)\r\n\t// set second phase of betting\r\n\tstate.phase = 'betting2';\r\n\r\n\treturn state;\r\n}\r\n\r\n/*\r\n  Deal turn cards\r\n */\r\nconst dealTurnCards = (state) => {\r\n\tconst { mutableDeckCopy, chosenCards } = getCards(state.deck, 1);\r\n\tchosenCards.animationDelay = 0;\r\n\r\n\tstate.communityCards.push(chosenCards);\r\n\tstate.deck = mutableDeckCopy;\r\n\tstate = choosePhaseStartActivePlayer(state)\r\n\t// set third phase of betting\r\n\tstate.phase = 'betting3'\r\n\r\n\treturn state\r\n}\r\n\r\n\r\n/*\r\n  Deal river cards\r\n */\r\nconst dealRiverCards = (state) => {\r\n\tconst { mutableDeckCopy, chosenCards } = getCards(state.deck, 1);\r\n\tchosenCards.animationDelay = 0;\r\n\r\n\tstate.communityCards.push(chosenCards);\r\n\tstate.deck = mutableDeckCopy;\r\n\tstate = choosePhaseStartActivePlayer(state)\r\n\t// set fourth phase of betting\r\n\tstate.phase = 'betting4'\r\n\r\n\treturn state\r\n}\r\n\r\n/*\r\n  Deal table Community cards \r\n */\r\nconst dealOtherCommunityCards = (state) => {\r\n\t// check number of cards left to deal\r\n\tconst cardsToPop = 5 - state.communityCards.length\r\n\tif (cardsToPop >= 1) {\r\n\t\tlet animationDelay = 0;\r\n\t\tconst { mutableDeckCopy, chosenCards } = getShowdownCards(state.deck, cardsToPop);\r\n\r\n\t\tfor (let card of chosenCards) {\r\n\t\t\tcard.animationDelay = animationDelay;\r\n\t\t\tanimationDelay = animationDelay + 250;\r\n\t\t\tstate.communityCards.push(card);\r\n\t\t}\r\n\r\n\t\tstate.deck = mutableDeckCopy;\r\n\t}\r\n\t// when completed move to showdown phase (phase to check winners of hand)\r\n\tstate.phase = 'showdown'\r\n\treturn state\r\n}\r\n\r\n/*\r\n  Perform player showdown at end of hand\r\n */\r\nconst playerShowDown = (state) => {\r\n\t// find players that are still in the hand\r\n\tfor (let player of state.players) {\r\n\t\tconst frequencyHistogram = {};\r\n\t\tconst suitHistogram = {};\r\n\r\n\t\t// build each player's best hand\r\n\t\tplayer.showDownHand.hand = player.cards.concat(state.communityCards);\r\n\t\tplayer.showDownHand.descendingSortHand = player.showDownHand.hand.map(el => el).sort((a, b) => b.value - a.value); // This mutates showDownHand.hand in place(!!)\r\n\r\n\t\tplayer.showDownHand.descendingSortHand.forEach(card => {\r\n\t\t\tfrequencyHistogram[card.cardFace] = (frequencyHistogram[card.cardFace] + 1 || 1);\r\n\t\t\tsuitHistogram[card.suit] = (suitHistogram[card.suit] + 1 || 1);\r\n\t\t})\r\n\r\n\t\tplayer.frequencyHistogram = frequencyHistogram;\r\n\t\tplayer.suitHistogram = suitHistogram;\r\n\r\n\t\tconst valueSet = generateValueSet(player.showDownHand.descendingSortHand);\r\n\r\n\t\t// check value of each player's hand\r\n\t\tconst { isFlush, flushedSuit } = checkIfFlush(suitHistogram);\r\n\t\tconst flushCards = (isFlush) && player.showDownHand.descendingSortHand.filter(card => card.suit === flushedSuit);\r\n\t\tconst isRoyalFlush = (isFlush) && checkIfRoyalFlush(flushCards);\r\n\t\tconst { isStraightFlush, isLowStraightFlush, concurrentSFCardValues, concurrentSFCardValuesLow } = (isFlush) && checkIfStraightFlush(flushCards)\r\n\t\tconst { isStraight, isLowStraight, concurrentCardValues, concurrentCardValuesLow } = checkIfStraight(valueSet);\r\n\t\tconst { isFourOfAKind, isFullHouse, isThreeOfAKind, isTwoPair, isPair, frequencyHistogramMetaData } = checkFrequencyHistogram(player.showDownHand.descendingSortHand, frequencyHistogram);\r\n\t\tconst isNoPair = ((!isRoyalFlush) && (!isStraightFlush) && (!isFourOfAKind) && (!isFullHouse) && (!isFlush) && (!isStraight) && (!isThreeOfAKind) && (!isTwoPair) && (!isPair))\r\n\r\n\t\t// set value of each player's hand\r\n\t\tplayer.showDownHand.bools = {\r\n\t\t\tisRoyalFlush,\r\n\t\t\tisStraightFlush,\r\n\t\t\tisFourOfAKind,\r\n\t\t\tisFullHouse,\r\n\t\t\tisFlush,\r\n\t\t\tisStraight,\r\n\t\t\tisThreeOfAKind,\r\n\t\t\tisTwoPair,\r\n\t\t\tisPair,\r\n\t\t\tisNoPair,\r\n\t\t}\r\n\r\n\t\tplayer.showDownHand.heldRankHierarchy = [{\r\n\t\t\tname: 'Royal Flush',\r\n\t\t\tmatch: isRoyalFlush,\r\n\t\t}, {\r\n\t\t\tname: 'Straight Flush',\r\n\t\t\tmatch: isStraightFlush\r\n\t\t}, {\r\n\t\t\tname: 'Four Of A Kind',\r\n\t\t\tmatch: isFourOfAKind,\r\n\t\t}, {\r\n\t\t\tname: 'Full House',\r\n\t\t\tmatch: isFullHouse,\r\n\t\t}, {\r\n\t\t\tname: 'Flush',\r\n\t\t\tmatch: isFlush,\r\n\t\t}, {\r\n\t\t\tname: 'Straight',\r\n\t\t\tmatch: isStraight,\r\n\t\t}, {\r\n\t\t\tname: 'Three Of A Kind',\r\n\t\t\tmatch: isThreeOfAKind,\r\n\t\t}, {\r\n\t\t\tname: 'Two Pair',\r\n\t\t\tmatch: isTwoPair,\r\n\t\t}, {\r\n\t\t\tname: 'Pair',\r\n\t\t\tmatch: isPair,\r\n\t\t}, {\r\n\t\t\tname: 'No Pair',\r\n\t\t\tmatch: isNoPair\r\n\t\t}];\r\n\r\n\t\tplayer.metaData = frequencyHistogramMetaData\r\n\r\n\t\t// get best hand between players in showdown\r\n\t\tconst highRankPosition = player.showDownHand.heldRankHierarchy.findIndex(el => el.match === true);\r\n\t\tplayer.showDownHand.bestHandRank = player.showDownHand.heldRankHierarchy[highRankPosition].name;\r\n\t\tplayer.showDownHand.bestHand = findBestHand(player.showDownHand.descendingSortHand, player.showDownHand.bestHandRank, flushedSuit, flushCards, concurrentCardValues, concurrentCardValuesLow, isLowStraight, isLowStraightFlush, concurrentSFCardValues, concurrentSFCardValuesLow, frequencyHistogramMetaData)\r\n\r\n\t}\r\n\r\n\treturn assignSidePots(state)\r\n\r\n}\r\n\r\n/*\r\n  Get cards of players that are part of showdown\r\n */\r\nconst getShowdownCards = (deck, numToPop) => {\r\n\t// make shallow copy of deck to not alter original deck attributes\r\n\tconst mutableDeckCopy = [...deck];\r\n\tlet chosenCards;\r\n\t// get last card \r\n\tif (numToPop === 1) {\r\n\t\tchosenCards = [mutableDeckCopy.pop()];\r\n\t} else {\r\n\t\t// get chosen cards from mutable deck copy one by one\r\n\t\tchosenCards = [];\r\n\t\tfor (let i = 0; i < numToPop; i++) {\r\n\t\t\tchosenCards.push(mutableDeckCopy.pop());\r\n\t\t}\r\n\t}\r\n\treturn { mutableDeckCopy, chosenCards }\r\n}\r\n\r\n/*\r\n  Find best hand amongst players still in a hand\r\n */\r\nconst findBestHand = (hand, bestRank, flushedSuit, flushCards, concurrentCardValues, concurrentCardValuesLow, isLowStraight, isLowStraightFlush, concurrentSFCardValues, concurrentSFCardValuesLow, frequencyHistogramMetaData) => {\r\n\t// check if hand matches any value from best to worst (Royal Flush to High Card)\r\n\tswitch (bestRank) {\r\n\t\t// check if hand is Ten, Jack, Queen, King and Ace (all of same suit)\r\n\t\tcase ('Royal Flush'): {\r\n\t\t\treturn flushCards.slice(0, 5)\r\n\t\t}\r\n\t\t// check if hand is five cards in sequence (all of same suit)\r\n\t\tcase ('Straight Flush'): {\r\n\t\t\tif (isLowStraightFlush && concurrentSFCardValues.length < 5) {\r\n\t\t\t\tconcurrentSFCardValuesLow[0] = 13\r\n\t\t\t\treturn concurrentSFCardValuesLow.reduce((acc, cur, index) => {\r\n\t\t\t\t\tif (index < 5) {\r\n\t\t\t\t\t\tacc.push(flushCards[flushCards.findIndex(match => match.value === cur)]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn acc;\r\n\t\t\t\t}, []).reverse();\r\n\t\t\t} else {\r\n\t\t\t\treturn concurrentSFCardValues.reduce((acc, cur, index) => {\r\n\t\t\t\t\tif (index < 5) {\r\n\t\t\t\t\t\tacc.push(flushCards[flushCards.findIndex(match => match.value === cur)]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn acc;\r\n\t\t\t\t}, []);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// check if hand is four cards all of the same denomination\r\n\t\tcase ('Four Of A Kind'): {\r\n\t\t\tconst bestHand = [];\r\n\t\t\tlet mutableHand = cloneDeep(hand);\r\n\r\n\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\tconst indexOfQuad = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.quads[0].face);\r\n\t\t\t\tbestHand.push(mutableHand[indexOfQuad])\r\n\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfQuad)\r\n\t\t\t}\r\n\r\n\t\t\treturn bestHand.concat(mutableHand.slice(0, 1))\r\n\t\t}\r\n\t\t// check if hand is three cards of one denomination and two cards of another denomination\r\n\t\tcase ('Full House'): {\r\n\t\t\tconst bestHand = [];\r\n\t\t\tlet mutableHand = cloneDeep(hand);\r\n\t\t\tif (frequencyHistogramMetaData.tripples.length > 1) {\r\n\t\t\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\t\t\tconst indexOfTripple = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.tripples[0].face);\r\n\t\t\t\t\tbestHand.push(mutableHand[indexOfTripple])\r\n\t\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfTripple)\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < 2; i++) {\r\n\t\t\t\t\tconst indexOfPair = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.tripples[1].face);\r\n\t\t\t\t\tbestHand.push(mutableHand[indexOfPair])\r\n\t\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfPair)\r\n\t\t\t\t}\r\n\t\t\t\treturn bestHand\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\t\t\tconst indexOfTripple = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.tripples[0].face);\r\n\t\t\t\t\tbestHand.push(mutableHand[indexOfTripple])\r\n\t\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfTripple)\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < 2; i++) {\r\n\t\t\t\t\tconst indexOfPair = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.pairs[0].face);\r\n\t\t\t\t\tbestHand.push(mutableHand[indexOfPair])\r\n\t\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfPair)\r\n\t\t\t\t}\r\n\t\t\t\treturn bestHand\r\n\t\t\t}\r\n\t\t}\r\n\t\t// check if hand is five cards all of the same suit\r\n\t\tcase ('Flush'): {\r\n\t\t\treturn flushCards.slice(0, 5)\r\n\t\t}\r\n\t\t// check if hand is five cards of any suit in sequence\r\n\t\tcase ('Straight'): {\r\n\t\t\tif (isLowStraight && concurrentCardValues.length < 5) {\r\n\t\t\t\tconcurrentCardValuesLow[0] = 13\r\n\t\t\t\treturn concurrentCardValuesLow.reduce((acc, cur, index) => {\r\n\t\t\t\t\tif (index < 5) {\r\n\t\t\t\t\t\tacc.push(hand[hand.findIndex(match => match.value === cur)]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn acc;\r\n\t\t\t\t}, []).reverse();\r\n\t\t\t} else {\r\n\t\t\t\treturn concurrentCardValues.reduce((acc, cur, index) => {\r\n\t\t\t\t\tif (index < 5) {\r\n\t\t\t\t\t\tacc.push(hand[hand.findIndex(match => match.value === cur)]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn acc;\r\n\t\t\t\t}, []);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// check if hand is three cards of the same denomination and two unmatched cards\r\n\t\tcase ('Three Of A Kind'): {\r\n\t\t\tconst bestHand = [];\r\n\t\t\tlet mutableHand = cloneDeep(hand);\r\n\r\n\t\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\t\tconst indexOfTripple = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.tripples[0].face);\r\n\t\t\t\tbestHand.push(mutableHand[indexOfTripple])\r\n\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfTripple)\r\n\t\t\t}\r\n\r\n\t\t\treturn bestHand.concat(mutableHand.slice(0, 2))\r\n\t\t}\r\n\t\t// check if hand is two sets of two cards of the same denomination and any fifth card\r\n\t\tcase ('Two Pair'): {\r\n\t\t\tconst bestHand = [];\r\n\t\t\tlet mutableHand = cloneDeep(hand);\r\n\t\t\tfor (let i = 0; i < 2; i++) {\r\n\t\t\t\tconst indexOfPair = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.pairs[0].face);\r\n\t\t\t\tbestHand.push(mutableHand[indexOfPair])\r\n\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfPair)\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < 2; i++) {\r\n\r\n\t\t\t\tconst indexOfPair = mutableHand.findIndex(match => match.cardFace === frequencyHistogramMetaData.pairs[1].face);\r\n\t\t\t\tbestHand.push(mutableHand[indexOfPair])\r\n\t\t\t\tmutableHand = mutableHand.filter((match, index) => index !== indexOfPair)\r\n\t\t\t}\r\n\t\t\treturn bestHand.concat(mutableHand.slice(0, 1))\r\n\r\n\t\t}\r\n\t\t// check if hand is two cards of the same denomination and three unmatched cards\r\n\t\tcase ('Pair'): {\r\n\t\t\tconst bestHand = [];\r\n\t\t\tlet mutableHand = cloneDeep(hand);\r\n\t\t\tfor (let i = 0; i < 2; i++) {\r\n\t\t\t\tconst indexOfPair = mutableHand.findIndex(card => card.cardFace === frequencyHistogramMetaData.pairs[0].face);\r\n\t\t\t\t// CONSIDER : \r\n\t\t\t\tbestHand.push(mutableHand[indexOfPair])\r\n\t\t\t\tmutableHand = mutableHand.filter((card, index) => index !== indexOfPair)\r\n\t\t\t}\r\n\t\t\treturn bestHand.concat(mutableHand.slice(0, 3))\r\n\r\n\r\n\t\t}\r\n\t\t// check if hand is all five cards are unmatched\r\n\t\tcase ('No Pair'): {\r\n\t\t\treturn hand.slice(0, 5)\r\n\t\t}\r\n\t\tdefault: throw Error('Recieved unfamiliar rank argument in findBestHand()');\r\n\t}\r\n}\r\n\r\n/*\r\n  Determine ranking order of players' hands\r\n */\r\nconst determinePlayerHandsHierarchy = (sortedComparator, handRank) => {\r\n\tlet winnerHierarchy = [];\r\n\tlet loserHierarchy = [];\r\n\tconst processComparator = (comparator, round = 0) => {\r\n\t\tif (comparator[0].length === 1) {\r\n\t\t\tconst { name, bestHand } = comparator[0][0]\r\n\t\t\twinnerHierarchy = winnerHierarchy.concat([{ name, bestHand, handRank }])\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet filterableComparator = sortedComparator.map(el => el);\r\n\t\tconst frame = comparator[round];\r\n\t\tconst { winningFrame, losingFrame } = handleSnapshotFrame(frame);\r\n\t\t// find order of players who did not win hand\r\n\t\tif (losingFrame.length > 0) {\r\n\t\t\tconst lowerTierComparator = filterableComparator.map(frame => {\r\n\t\t\t\treturn frame.filter(snapshot => {\r\n\t\t\t\t\treturn losingFrame.some(snapshotToMatchName => {\r\n\t\t\t\t\t\treturn snapshotToMatchName.name === snapshot.name;\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// Push the filtered comparator to the start of the losers queue. \r\n\t\t\tloserHierarchy = [lowerTierComparator].concat(loserHierarchy);\r\n\t\t}\r\n\t\t// if only one winner they are best hand\r\n\t\tif (winningFrame.length === 1) {\r\n\t\t\tconst { name, bestHand } = winningFrame[0];\r\n\t\t\twinnerHierarchy = winnerHierarchy.concat([{\r\n\t\t\t\tname,\r\n\t\t\t\tbestHand,\r\n\t\t\t\thandRank\r\n\t\t\t}])\r\n\t\t\t// find order of players who won hand if more than one\r\n\t\t} else if (round === (sortedComparator.length - 1)) {\r\n\t\t\tconst filteredWinnerSnapshots = winningFrame.map(snapshot => ({\r\n\t\t\t\tname: snapshot.name,\r\n\t\t\t\tbestHand: snapshot.bestHand,\r\n\t\t\t\thandRank\r\n\t\t\t}))\r\n\t\t\twinnerHierarchy = winnerHierarchy.concat([filteredWinnerSnapshots]);\r\n\t\t} else {\r\n\t\t\tconst higherTierComparator = filterableComparator.map(frame => {\r\n\t\t\t\treturn frame.filter(snapshot => {\r\n\t\t\t\t\treturn winningFrame.some(snapshotToMatchName => {\r\n\t\t\t\t\t\treturn snapshotToMatchName.name === snapshot.name;\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tprocessComparator(higherTierComparator, (round + 1));\r\n\t\t}\r\n\t}\r\n\r\n\tconst processLowTierComparators = (loserHierarchyFrame) => {\r\n\t\tif (loserHierarchy.length > 0) {\r\n\t\t\tconst loserComparatorToProcess = loserHierarchyFrame[0];\r\n\t\t\tloserHierarchy = loserHierarchyFrame.slice(1);\r\n\t\t\tprocessComparator(loserComparatorToProcess);\r\n\t\t\tprocessLowTierComparators(loserHierarchy);\r\n\t\t}\r\n\t}\r\n\tprocessComparator(sortedComparator);\r\n\tprocessLowTierComparators(loserHierarchy);\r\n\treturn winnerHierarchy;\r\n}\r\n\r\n/*\r\n  Build ranking of hands of each player still in hand\r\n */\r\nconst buildPlayerRankings = (state) => {\r\n\r\n\t// only consider players still active in hand\r\n\tconst activePlayers = state.players.filter(player => !player.folded);\r\n\tlet hierarchy = [];\r\n\t// map of possible hand rankings\r\n\tconst rankMap = new Map([\r\n\t\t['Royal Flush', []],\r\n\t\t['Straight Flush', []],\r\n\t\t['Four Of A Kind', []],\r\n\t\t['Full House', []],\r\n\t\t['Flush', []],\r\n\t\t['Straight', []],\r\n\t\t['Three Of A Kind', []],\r\n\t\t['Two Pair', []],\r\n\t\t['Pair', []],\r\n\t\t['No Pair', []]\r\n\t]);\r\n\r\n\t// for each player find rank and add to ranking map\r\n\tactivePlayers.forEach((player, playerIndex) => {\r\n\t\tconst {\r\n\t\t\tname,\r\n\t\t\tshowDownHand: { bestHandRank, bestHand }\r\n\t\t} = player;\r\n\t\trankMap.get(bestHandRank).push({\r\n\t\t\tname,\r\n\t\t\tbestHand,\r\n\t\t\tplayerIndex\r\n\t\t})\r\n\t})\r\n\r\n\tfor (const [handRank, playersWhoHoldThisRank] of rankMap) {\r\n\t\tif (playersWhoHoldThisRank.length > 0) {\r\n\t\t\t// only one player can have Royal Flush so they would win regardless of the rest\r\n\t\t\tif (handRank === 'Royal Flush') {\r\n\t\t\t\tconst formattedPlayersWhoHoldThisRank = playersWhoHoldThisRank.map(player => ({\r\n\t\t\t\t\tname: player.name,\r\n\t\t\t\t\tbestHand: player.bestHand,\r\n\t\t\t\t\thandRank\r\n\t\t\t\t}))\r\n\t\t\t\thierarchy = hierarchy.concat(formattedPlayersWhoHoldThisRank);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// if only one player has a ranking that player is the best for that ranking\r\n\t\t\tif (playersWhoHoldThisRank.length === 1) {\r\n\t\t\t\tconst { name, bestHand } = playersWhoHoldThisRank[0];\r\n\t\t\t\thierarchy = hierarchy.concat([{\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tbestHand,\r\n\t\t\t\t\thandRank\r\n\t\t\t\t}]);\r\n\t\t\t\t// if more than one player has same ranking must find which one has higher value\r\n\t\t\t} else if (playersWhoHoldThisRank.length > 1) {\r\n\t\t\t\tconst sortedComparator = createRankingsComparator(handRank, playersWhoHoldThisRank)\r\n\t\t\t\t\t.map((snapshot) => {\r\n\t\t\t\t\t\treturn snapshot.sort((a, b) => b.card.value - a.card.value)\r\n\t\t\t\t\t});\r\n\t\t\t\tconst winnerHierarchy = determinePlayerHandsHierarchy(sortedComparator, handRank);\r\n\t\t\t\thierarchy = hierarchy.concat(winnerHierarchy);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn hierarchy;\r\n}\r\n\r\n/*\r\n  Rank hands of players still active in hand\r\n */\r\nconst rankPlayersHands = (state, contestants) => {\r\n\r\n\t// map of possible hand rankings\r\n\tconst rankMap = new Map([\r\n\t\t['Royal Flush', []],\r\n\t\t['Straight Flush', []],\r\n\t\t['Four Of A Kind', []],\r\n\t\t['Full House', []],\r\n\t\t['Flush', []],\r\n\t\t['Straight', []],\r\n\t\t['Three Of A Kind', []],\r\n\t\t['Two Pair', []],\r\n\t\t['Pair', []],\r\n\t\t['No Pair', []]\r\n\t]);\r\n\r\n\tfor (let contestant of contestants) {\r\n\t\tconst playerIndex = state.players.findIndex(player => player.name === contestant);\r\n\t\tconst player = state.players[playerIndex];\r\n\t\t// if player is active in hand\r\n\t\tif (!player.folded) {\r\n\t\t\t// rank player hand\r\n\t\t\trankMap.get(player.showDownHand.bestHandRank).push({\r\n\t\t\t\tname: player.name,\r\n\t\t\t\tplayerIndex,\r\n\t\t\t\tbestHand: player.showDownHand.bestHand,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\treturn rankMap;\r\n}\r\n\r\n/*\r\n  Handle and get snapshot with winners and losers of hand\r\n */\r\nconst handleSnapshotFrame = (frame) => {\r\n\tconst highValue = frame[0].card.value;\r\n\tconst winningFrame = frame.filter(snapshot => snapshot.card.value === highValue);\r\n\tconst losingFrame = frame.filter(snapshot => snapshot.card.value < highValue);\r\n\treturn { winningFrame, losingFrame }\r\n}\r\n\r\n/*\r\n  Assign winnings to hand winners (handles pot splits too)\r\n */\r\nconst assignWinnings = (state, rankMap, prize) => {\r\n\tlet winnerFound = false;\r\n\r\n\t// find hand winners\r\n\trankMap.forEach((contestants, rank, map) => {\r\n\t\tif (!winnerFound) {\r\n\t\t\t// if only one player active in hand they win\r\n\t\t\tif (contestants.length === 1) {\r\n\t\t\t\twinnerFound = true\r\n\t\t\t\tconsole.log(\"Winner, \", contestants[0].name, \" , beating out the competition with a \", rank)\r\n\t\t\t\tstate = payWinnings(state, contestants, prize, rank)\r\n\t\t\t\t// if more than one player active in hand find winner\r\n\t\t\t} else if (contestants.length > 1) {\r\n\t\t\t\tconsole.log(contestants)\r\n\t\t\t\twinnerFound = true\r\n\t\t\t\t// get active players hand rankings\r\n\t\t\t\tconst winners = findHandWinner(createRankingsComparator(rank, contestants), rank)\r\n\t\t\t\t// if only one player wins they get all the pot\r\n\t\t\t\tif (winners.length === 1) {\r\n\t\t\t\t\tconsole.log(\"Winner, \", winners[0].name, \" , beating out the competition with a \", rank)\r\n\t\t\t\t\tstate = payWinnings(state, winners, prize, rank)\r\n\t\t\t\t\t// if multilple players win the pot is split amongst them\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"We have a tie! Split the pot amongst \", winners, \" Who will take the pot with their \", rank)\r\n\t\t\t\t\tstate = payWinnings(state, winners, prize, rank)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\treturn state\r\n}\r\n\r\n/*\r\n  Assign side pots when there are multiple winners for the same hand\r\n */\r\nconst assignSidePots = (state) => {\r\n\t// find winners of hand\r\n\tstate.playerHierarchy = buildPlayerRankings(state);\r\n\tconsole.log(\"Ultimate Player Hierarchy Determined:\")\r\n\tconsole.log(state.playerHierarchy);\r\n\r\n\t// assign each side pot to the corresponding winner\r\n\tfor (let sidePot of state.sidePots) {\r\n\t\tconst rankMap = rankPlayersHands(state, sidePot.contestants);\r\n\t\tstate = assignWinnings(state, rankMap, sidePot.potValue)\r\n\t}\r\n\r\n\tstate.players = state.players.map(player => ({\r\n\t\t...player,\r\n\t\troundEndChips: player.chips\r\n\t}));\r\n\r\n\treturn state\r\n}\r\n\r\n/*\r\n  Pay winnings to hand winners\r\n */\r\nconst payWinnings = (state, winners, prize, rank) => {\r\n\t// if only one winner they win all the pot\r\n\tif (winners.length === 1) {\r\n\t\tstate.showDownMessages = state.showDownMessages.concat([{\r\n\t\t\tusers: [winners[0].name],\r\n\t\t\tprize,\r\n\t\t\trank\r\n\t\t}]);\r\n\t\tconsole.log(\"Transferring \", prize, \" chips to \", winners[0].name)\r\n\t\tstate.players[winners[0].playerIndex].chips += prize\r\n\t\tstate.pot -= prize\r\n\t\t// if more than one winner split pot accordingly between them\r\n\t} else if (winners.length > 1) {\r\n\t\tconst overflow = prize % winners.length;\r\n\t\tconst splitPot = Math.floor(prize / winners.length)\r\n\t\tconsole.log(\"Mediating Tie. Total Prize \", prize, \" split into \", winners.length, \" portions with an overflow of \", overflow)\r\n\t\tstate.showDownMessages = state.showDownMessages.concat([{\r\n\t\t\tusers: winners.map(winner => winner.name),\r\n\t\t\tprize: splitPot,\r\n\t\t\trank\r\n\t\t}])\r\n\t\twinners.forEach(winner => {\r\n\t\t\tstate.players[winner.playerIndex].chips += splitPot\r\n\t\t\tstate.pot -= splitPot\r\n\t\t})\r\n\t}\r\n\treturn state\r\n}\r\n\r\n/*\r\n  Create hand rankings comparator to compare hand rankings\r\n */\r\nconst createRankingsComparator = (rank, playerData) => {\r\n\tlet comparator;\r\n\tswitch (rank) {\r\n\t\t// check if hand is Ten, Jack, Queen, King and Ace (all of same suit)\r\n\t\tcase ('Royal Flush'): {\r\n\t\t\tcomparator = Array.from({ length: 1 });\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tcomparator.push({\r\n\t\t\t\t\t// there can only be one royal flush which will be the winner regardless of other hand rankings\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\t// check if hand is four cards all of the same denomination\r\n\t\tcase ('Four Of A Kind'): {\r\n\t\t\tcomparator = Array.from({ length: 2 }, () => Array.from({ length: 0 }))\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tcomparator[0].push({\r\n\t\t\t\t\t// four cards all of the same denomination\r\n\t\t\t\t\tcard: playerData[index].bestHand[0],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t\tcomparator[1].push({\r\n\t\t\t\t\t// last card is unmatched\r\n\t\t\t\t\tcard: playerData[index].bestHand[4],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\t// check if hand is three cards of one denomination and two cards of another denomination\r\n\t\tcase ('Full House'): {\r\n\t\t\tcomparator = Array.from({ length: 2 }, () => Array.from({ length: 0 }))\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tcomparator[0].push({\r\n\t\t\t\t\t// three cards of one denomination\r\n\t\t\t\t\tcard: playerData[index].bestHand[0],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t\tcomparator[1].push({\r\n\t\t\t\t\t// two cards of another denomination\r\n\t\t\t\t\tcard: playerData[index].bestHand[3],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\t// check if hand is three cards of one denomination and two cards of another denomination\r\n\t\t// or if all five cards are unmatched\r\n\t\tcase ('Flush'):\r\n\t\tcase ('No Pair'): {\r\n\t\t\tcomparator = Array.from({ length: 5 }, () => Array.from({ length: 0 }))\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\t\t\tcomparator[i].push({\r\n\t\t\t\t\t\t// check all 5 cards of a flush or no-pair\r\n\t\t\t\t\t\tcard: playerData[index].bestHand[i],\r\n\t\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\t// check if hand is three cards of the same denomination and two unmatched cards\r\n\t\tcase ('Three Of A Kind'): {\r\n\t\t\tcomparator = Array.from({ length: 3 }, () => Array.from({ length: 0 }))\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tcomparator[0].push({\r\n\t\t\t\t\t// three cards of the same denomination\r\n\t\t\t\t\tcard: playerData[index].bestHand[0],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t});\r\n\t\t\t\tcomparator[1].push({\r\n\t\t\t\t\t// fourth card is unmatched\r\n\t\t\t\t\tcard: playerData[index].bestHand[3],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t});\r\n\t\t\t\tcomparator[2].push({\r\n\t\t\t\t\t// fifth card is unmatched\r\n\t\t\t\t\tcard: playerData[index].bestHand[4],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\t// check if hand is five cards of any suit in sequence\r\n\t\t// or if hand is five cards in sequence (all of same suit)\r\n\t\tcase ('Straight'):\r\n\t\tcase ('Straight Flush'): {\r\n\t\t\tcomparator = Array.from({ length: 1 }, () => Array.from({ length: 0 }))\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tcomparator[0].push({\r\n\t\t\t\t\t// check highest card of a straight as it will determine the straight value\r\n\t\t\t\t\tcard: playerData[index].bestHand[0],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\t// check if hand is two sets of two cards of the same denomination and any fifth card\r\n\t\tcase ('Two Pair'): {\r\n\t\t\tcomparator = Array.from({ length: 3 }, () => Array.from({ length: 0 }))\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tcomparator[0].push({\r\n\t\t\t\t\t// two cards of the same denomination\r\n\t\t\t\t\tcard: playerData[index].bestHand[0],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t\tcomparator[1].push({\r\n\t\t\t\t\t// another two cards of the same denomination\r\n\t\t\t\t\tcard: playerData[index].bestHand[2],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t\tcomparator[2].push({\r\n\t\t\t\t\t// fifth unmatched card\r\n\t\t\t\t\tcard: playerData[index].bestHand[4],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\t// check if hand is two cards of the same denomination and three unmatched cards\r\n\t\tcase ('Pair'): {\r\n\t\t\tcomparator = Array.from({ length: 4 }, () => Array.from({ length: 0 }))\r\n\t\t\tplayerData.forEach((playerShowdownData, index) => {\r\n\t\t\t\tcomparator[0].push({\r\n\t\t\t\t\t// two cards of the same denomination\r\n\t\t\t\t\tcard: playerData[index].bestHand[0],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t});\r\n\t\t\t\tcomparator[1].push({\r\n\t\t\t\t\t// third unmtached card\r\n\t\t\t\t\tcard: playerData[index].bestHand[2],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t});\r\n\t\t\t\tcomparator[2].push({\r\n\t\t\t\t\t// fourth unmtached card\r\n\t\t\t\t\tcard: playerData[index].bestHand[3],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t});\r\n\t\t\t\tcomparator[3].push({\r\n\t\t\t\t\t// fifth unmtached card\r\n\t\t\t\t\tcard: playerData[index].bestHand[4],\r\n\t\t\t\t\tname: playerData[index].name,\r\n\t\t\t\t\tplayerIndex: playerData[index].playerIndex,\r\n\t\t\t\t\tbestHand: playerData[index].bestHand\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tdefault: throw Error('Recieved unfamiliar rank argument in createRankingsComparator()');\r\n\t}\r\n\treturn comparator\r\n}\r\n\r\n/*\r\n  Find current hand winner\r\n */\r\nconst findHandWinner = (comparator, rank) => {\r\n\tlet winners;\r\n\tif (rank === 'Royal Flush') return comparator\r\n\tfor (let i = 0; i < comparator.length; i++) {\r\n\t\tlet highValue = 0;\r\n\t\tlet losers = [];\r\n\t\t// sort player rankings comparator \r\n\t\twinners = comparator[i].sort((a, b) => b.card.value - a.card.value).reduce((acc, cur, index) => {\r\n\t\t\t// add player with higher ranking hands first\r\n\t\t\tif (cur.card.value > highValue) {\r\n\r\n\t\t\t\thighValue = cur.card.value;\r\n\t\t\t\tacc.push({\r\n\t\t\t\t\tname: cur.name,\r\n\t\t\t\t\tplayerIndex: cur.playerIndex,\r\n\t\t\t\t});\r\n\t\t\t\treturn acc;\r\n\t\t\t} else if (cur.card.value === highValue) {\r\n\t\t\t\tacc.push({\r\n\t\t\t\t\tname: cur.name,\r\n\t\t\t\t\tplayerIndex: cur.playerIndex,\r\n\t\t\t\t});\r\n\t\t\t\treturn acc;\r\n\t\t\t\t// then add non active players (back of list)\r\n\t\t\t} else if (cur.card.value < highValue) {\r\n\t\t\t\tlosers.push(cur.name);\r\n\t\t\t\treturn acc;\r\n\t\t\t}\r\n\t\t}, [])\r\n\r\n\t\tif (winners.length === 1 || i === comparator.length) {\r\n\t\t\treturn winners\r\n\t\t} else {\r\n\t\t\tif (losers.length >= 1) {\r\n\t\t\t\tlosers.forEach((nameToExtract) => {\r\n\t\t\t\t\tcomparator = comparator.map(snapshot => snapshot.filter((el) => el.name !== nameToExtract));\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn winners\r\n\r\n}\r\n\r\n/*\r\n  Check if hand is a Flush\r\n */\r\nconst checkIfFlush = (suitHistogram) => {\r\n\tlet isFlush;\r\n\tlet flushedSuit;\r\n\t// check if all five cards have the same suit\r\n\tfor (let suit in suitHistogram) {\r\n\t\tif (suitHistogram[suit] >= 5) {\r\n\t\t\treturn {\r\n\t\t\t\tisFlush: true,\r\n\t\t\t\tflushedSuit: suit,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\tisFlush: false,\r\n\t\tflushedSuit: null,\r\n\t}\r\n}\r\n\r\n/*\r\n  Check if hand is a Royal Flush\r\n */\r\nconst checkIfRoyalFlush = (flushMatchCards) => {\r\n\t// check if hand is Ten, Jack, Queen, King and Ace (all of same suit)\r\n\tif ((flushMatchCards[0].value === 13) &&\r\n\t\t(flushMatchCards[1].value === 12) &&\r\n\t\t(flushMatchCards[2].value === 11) &&\r\n\t\t(flushMatchCards[3].value === 10) &&\r\n\t\t(flushMatchCards[4].value === 10)) {\r\n\t\treturn true\r\n\t} else { return false }\r\n}\r\n\r\n/*\r\n  Check if hand is a Straight\r\n */\r\nconst checkIfStraight = (valueSet) => {\r\n\t// if less than five cards are valuable to the hand it is not a straight\r\n\tif (valueSet.length < 5) return false\r\n\tlet numConcurrentCards = 0;\r\n\tlet concurrentCardValues = [];\r\n\t// check if hand is five cards of any suit in sequence\r\n\tfor (let i = 1; i < valueSet.length; i++) {\r\n\t\tif (numConcurrentCards === 5) {\r\n\t\t\treturn {\r\n\t\t\t\tisStraight: true,\r\n\t\t\t\tconcurrentCardValues\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((valueSet[i] - valueSet[i - 1]) === -1) {\r\n\t\t\tif (numConcurrentCards === 0) {\r\n\t\t\t\tnumConcurrentCards = 2;\r\n\t\t\t\tconcurrentCardValues.push(valueSet[i - 1]);\r\n\t\t\t\tconcurrentCardValues.push(valueSet[i]);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tnumConcurrentCards++;\r\n\t\t\t\tconcurrentCardValues.push(valueSet[i]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tnumConcurrentCards = 0;\r\n\t\t\tconcurrentCardValues = [];\r\n\t\t}\r\n\t}\r\n\tif (numConcurrentCards >= 5) {\r\n\t\treturn {\r\n\t\t\tisStraight: true,\r\n\t\t\tconcurrentCardValues\r\n\t\t}\r\n\t} else {\r\n\t\t// check if is straight with Ace, two, three, four, five\r\n\t\tif (valueSet[0] === 13) {\r\n\t\t\tlet { isLowStraight, concurrentCardValuesLow } = checkIfLowerStraight(cloneDeep(valueSet));\r\n\r\n\t\t\tif (isLowStraight) return {\r\n\t\t\t\tisStraight: true,\r\n\t\t\t\tisLowStraight,\r\n\t\t\t\tconcurrentCardValues,\r\n\t\t\t\tconcurrentCardValuesLow,\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tisStraight: false,\r\n\t\t\tisLowStraight: false,\r\n\t\t\tconcurrentCardValues,\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/*\r\n  Check if hand is a Straight Flush\r\n */\r\nconst checkIfStraightFlush = (flushMatchCards) => {\r\n\t// check if hand is five cards in sequence (all of same suit)\r\n\tconst valueSet = generateValueSet(flushMatchCards);\r\n\tconst { isStraight, isLowStraight, concurrentCardValues, concurrentCardValuesLow } = checkIfStraight(valueSet);\r\n\treturn {\r\n\t\tisStraightFlush: isStraight,\r\n\t\tisLowStraightFlush: isLowStraight,\r\n\t\tconcurrentSFCardValues: concurrentCardValues,\r\n\t\tconcurrentSFCardValuesLow: concurrentCardValuesLow,\r\n\t}\r\n}\r\n\r\n/*\r\n  Check how many hand rankings have occured and with what frequence \r\n  and order\r\n */\r\nconst checkFrequencyHistogram = (hand, frequencyHistogram) => {\r\n\r\n\t// set hand rankings to not seen \r\n\tlet isFourOfAKind = false;\r\n\tlet isFullHouse = false\r\n\tlet isThreeOfAKind = false;\r\n\tlet isTwoPair = false;\r\n\tlet isPair = false;\r\n\tlet numTripples = 0;\r\n\tlet numPairs = 0;\r\n\tlet frequencyHistogramMetaData = {\r\n\t\tpairs: [],\r\n\t\ttripples: [],\r\n\t\tquads: [],\r\n\t}\r\n\t// check if hand is four cards all of the same denomination\r\n\tfor (let cardFace in frequencyHistogram) {\r\n\t\tif (frequencyHistogram[cardFace] === 4) {\r\n\t\t\tisFourOfAKind = true\r\n\t\t\tfrequencyHistogramMetaData.quads.push({\r\n\t\t\t\tface: cardFace,\r\n\t\t\t\tvalue: VALUE_MAP[cardFace]\r\n\t\t\t})\r\n\t\t}\r\n\t\t// check if hand is three cards of the same denomination and two unmatched cards\r\n\t\tif (frequencyHistogram[cardFace] === 3) {\r\n\t\t\tisThreeOfAKind = true\r\n\t\t\tnumTripples++\r\n\t\t\tfrequencyHistogramMetaData.tripples.push({\r\n\t\t\t\tface: cardFace,\r\n\t\t\t\tvalue: VALUE_MAP[cardFace]\r\n\t\t\t})\r\n\t\t}\r\n\t\t// check if hand is two cards of the same denomination and three unmatched cards\r\n\t\tif (frequencyHistogram[cardFace] === 2) {\r\n\t\t\tisPair = true\r\n\t\t\tnumPairs++\r\n\t\t\tfrequencyHistogramMetaData.pairs.push({\r\n\t\t\t\tface: cardFace,\r\n\t\t\t\tvalue: VALUE_MAP[cardFace]\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// sort histogram from best hand to worst hand\r\n\tfrequencyHistogramMetaData.pairs = frequencyHistogramMetaData.pairs.map(el => el).sort((a, b) => b.value - a.value)\r\n\tfrequencyHistogramMetaData.tripples = frequencyHistogramMetaData.tripples.map(el => el).sort((a, b) => b.value - a.value)\r\n\tfrequencyHistogramMetaData.quads = frequencyHistogramMetaData.quads.map(el => el).sort((a, b) => b.value - a.value)\r\n\r\n\t// check if hand is three cards of one denomination and two cards of another denomination (full house)\r\n\tif ((numTripples >= 2) || (numPairs >= 1 && numTripples >= 1)) {\r\n\t\tisFullHouse = true\r\n\t}\r\n\t// check if hand is two sets of two cards of the same denomination and any fifth card (Two Pairs)\r\n\tif (numPairs >= 2) {\r\n\t\tisTwoPair = true\r\n\t}\r\n\r\n\treturn {\r\n\t\tisFourOfAKind,\r\n\t\tisFullHouse,\r\n\t\tisThreeOfAKind,\r\n\t\tisTwoPair,\r\n\t\tisPair,\r\n\t\tfrequencyHistogramMetaData\r\n\t}\r\n\r\n}\r\n\r\n/*\r\n  Check if hand is straight with Ace, two, three, four, five\r\n */\r\nconst checkIfLowerStraight = (valueSetCopy) => {\r\n\tlet numConcurrentCards = 0;\r\n\tlet concurrentCardValuesLow = [];\r\n\t// Convert Ace which has highest value of 13 to lowest value 0 from which straight would start\r\n\tvalueSetCopy[0] = 0;\r\n\t// sort card values\r\n\tconst sortedValueSetCopy = valueSetCopy.map(el => el).sort((a, b) => a - b);\r\n\t// check if Ace, two, three, four, five are found\r\n\tfor (let i = 1; i < 5; i++) {\r\n\t\tif (numConcurrentCards >= 5) {\r\n\t\t\treturn {\r\n\t\t\t\tisLowStraight: true,\r\n\t\t\t\tconcurrentCardValuesLow,\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((sortedValueSetCopy[i] - sortedValueSetCopy[i - 1]) === 1) {\r\n\t\t\tif (numConcurrentCards === 0) {\r\n\t\t\t\tnumConcurrentCards = 2;\r\n\t\t\t\tconcurrentCardValuesLow.push(sortedValueSetCopy[i - 1]);\r\n\t\t\t\tconcurrentCardValuesLow.push(sortedValueSetCopy[i]);\r\n\t\t\t} else {\r\n\t\t\t\tnumConcurrentCards++;\r\n\t\t\t\tconcurrentCardValuesLow.push(sortedValueSetCopy[i]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tnumConcurrentCards = 0;\r\n\t\t\tconcurrentCardValuesLow = [];\r\n\t\t}\r\n\t}\r\n\tif (numConcurrentCards >= 5) {\r\n\t\treturn {\r\n\t\t\tisLowStraight: true,\r\n\t\t\tconcurrentCardValuesLow,\r\n\t\t}\r\n\t} else {\r\n\t\treturn {\r\n\t\t\tisLowStraight: false,\r\n\t\t\tconcurrentCardValuesLow,\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/*\r\n  Generate set of five cards that add value to hand\r\n */\r\nconst generateValueSet = (hand) => {\r\n\treturn Array.from(new Set(hand.map(cardInfo => cardInfo.value)))\r\n}\r\n\r\nexport { makeDeckOfCards, shuffleCards, dealPlayerCards, getCards, dealFlopCards, dealTurnCards, dealRiverCards, dealOtherCommunityCards, playerShowDown, checkIfFlush, checkIfRoyalFlush, checkIfStraightFlush, checkIfStraight, checkFrequencyHistogram, generateValueSet };\r\n\r\n","import { dealFlopCards, dealRiverCards, dealTurnCards, playerShowDown } from './cardsService.js';\r\nimport { chooseNextActivePlayer } from './playersService.js';\r\n\r\n/**\r\n* The betService provides all services players\r\n* need to make bets. It also handles calculations\r\n* relating to bets and the betting pot.\r\n*/\r\n\r\nconst calculateBlindIndices = (dealerIndex, numPlayers) => {\r\n\treturn ({\r\n\t\tbigBlindIndex: (dealerIndex + 2) % numPlayers,\r\n\t\tsmallBlindIndex: (dealerIndex + 1) % numPlayers,\r\n\t});\r\n}\r\n\r\nconst anteUpBlinds = (players, blindIndices, minBet) => {\r\n\tconst { bigBlindIndex, smallBlindIndex } = blindIndices;\r\n\tplayers[bigBlindIndex].bet = minBet;\r\n\tplayers[bigBlindIndex].chips = players[bigBlindIndex].chips - minBet;\r\n\tplayers[smallBlindIndex].bet = minBet / 2;\r\n\tplayers[smallBlindIndex].chips = players[smallBlindIndex].chips - (minBet / 2);\r\n\treturn players\r\n}\r\n\r\nconst calculateMinBet = (highBet, playerChipsStack, playerBet) => {\r\n\tconst playerTotalChips = playerChipsStack + playerBet\r\n\tif (playerTotalChips < highBet) {\r\n\t\treturn playerTotalChips;\r\n\t} else {\r\n\t\treturn highBet;\r\n\t}\r\n}\r\n\r\n/* \r\nDetermines the integrity of all bets.\r\n*/\r\nconst manageBet = (state, bet, min, max) => {\r\n\tif (bet < min) {\r\n\t\tstate.betInputValue = min;\r\n\t\treturn console.log(\"Invalid Bet\")\r\n\t}\r\n\tif (bet > max) {\r\n\t\tstate.betInputValue = max;\r\n\t\treturn console.log(\"Invalid Bet\")\r\n\t}\r\n\r\n\tif (bet > state.highBet) {\r\n\t\t// minbet and highbet may be condensed to a single property\r\n\t\tstate.highBet = bet;\r\n\t\tstate.minBet = state.highBet;\r\n\t\tfor (let player of state.players) {\r\n\t\t\tif (!player.folded || !player.chips === 0) {\r\n\t\t\t\tplayer.betReconciled = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst activePlayer = state.players[state.activePlayerIndex];\r\n\tconst subtractableChips = bet - activePlayer.bet;\r\n\tactivePlayer.bet = bet;\r\n\r\n\tactivePlayer.chips = activePlayer.chips - subtractableChips;\r\n\tif (activePlayer.chips === 0) {\r\n\t\tactivePlayer.allIn = true;\r\n\t\tstate.numPlayersAllIn++\r\n\t}\r\n\tactivePlayer.betReconciled = true;\r\n\treturn chooseNextActivePlayer(state)\r\n}\r\n\r\nconst managePlayerFold = (state) => {\r\n\tconst activePlayer = state.players[state.activePlayerIndex];\r\n\tactivePlayer.folded = true;\r\n\tactivePlayer.betReconciled = true;\r\n\tstate.numPlayersFolded++\r\n\tstate.numPlayersActive--\r\n\r\n\tconst nextState = chooseNextActivePlayer(state)\r\n\treturn nextState\r\n}\r\n\r\nconst managePhaseShift = (state) => {\r\n\tswitch (state.phase) {\r\n\t\tcase ('betting1'): {\r\n\t\t\tstate.phase = 'flop';\r\n\t\t\treturn dealFlopCards(remakePot(state));\r\n\t\t}\r\n\t\tcase ('betting2'): {\r\n\t\t\tstate.phase = 'turn';\r\n\t\t\treturn dealTurnCards(remakePot(state));\r\n\t\t}\r\n\t\tcase ('betting3'): {\r\n\t\t\tstate.phase = 'river'\r\n\t\t\treturn dealRiverCards(remakePot(state));\r\n\t\t}\r\n\t\tcase ('betting4'): {\r\n\t\t\tstate.phase = 'showdown'\r\n\t\t\treturn playerShowDown(remakePot(state));\r\n\t\t}\r\n\t\tdefault: throw Error(\"managePhaseShift() called from non-betting phase\")\r\n\t}\r\n}\r\n\r\n/* \r\nCombine sidepots into a single pot to save resources.\r\n*/\r\nconst remakePot = (state) => {\r\n\tfor (let player of state.players) {\r\n\r\n\t\tstate.pot = state.pot + player.bet;\r\n\r\n\t\tplayer.sidePotStack = player.bet;\r\n\t\tplayer.betReconciled = false;\r\n\t}\r\n\r\n\t// condense pots as processing each one requires expensive card comparator functions\r\n\tstate = condensePots(calculatePots(state, state.players));\r\n\r\n\tfor (let player of state.players) {\r\n\t\tplayer.currentRoundChipsInvested += player.bet;\r\n\t\tplayer.bet = 0 // reset all player bets to 0 for the start of the next round\r\n\t}\r\n\r\n\tstate.minBet = 0; // reset markers which control min/max bet validation\r\n\tstate.highBet = 0;\r\n\tstate.betInputValue = 0;\r\n\treturn state\r\n}\r\n\r\n/* \r\n Determine which players are included in the current pot.\r\n*/\r\nconst calculatePots = (state, playerStacks) => {\r\n\t// remove players who did not bet from pot\r\n\tconst investedPlayers = playerStacks.filter(player => player.sidePotStack > 0)\r\n\tif (investedPlayers.length === 0) {\r\n\t\treturn state\r\n\t}\r\n\tif (investedPlayers.length === 1) {\r\n\t\t// refund players who bet in excess of pot\r\n\t\tconst playerToRefund = state.players[state.players.findIndex(player => player.name === investedPlayers[0].name)];\r\n\t\tplayerToRefund.chips = playerToRefund.chips + investedPlayers[0].sidePotStack;\r\n\t\tstate.pot -= investedPlayers[0].sidePotStack\r\n\t\treturn state\r\n\t}\r\n\t// sort players\r\n\tconst ascBetPlayers = investedPlayers.sort((a, b) => a.sidePotStack - b.sidePotStack);\r\n\tconst smallStackValue = ascBetPlayers[0].sidePotStack;\r\n\r\n\tconst builtSidePot = ascBetPlayers.reduce((acc, cur) => {\r\n\t\tif (!cur.folded) {\r\n\t\t\tacc.contestants.push(cur.name);\r\n\t\t}\r\n\t\tacc.potValue = acc.potValue + smallStackValue;\r\n\t\tcur.sidePotStack = cur.sidePotStack - smallStackValue;\r\n\t\treturn acc\r\n\t}, {\r\n\t\tcontestants: [],\r\n\t\tpotValue: 0,\r\n\t});\r\n\tstate.sidePots.push(builtSidePot);\r\n\treturn calculatePots(state, ascBetPlayers)\r\n\r\n}\r\n\r\n/* \r\n Condenses mutiple pots into a single pot. \r\n*/\r\nconst condensePots = (state) => {\r\n\tif (state.sidePots.length > 1) {\r\n\t\tfor (let i = 0; i < state.sidePots.length; i++) {\r\n\t\t\tfor (let n = i + 1; n < state.sidePots.length; n++) {\r\n\t\t\t\tif (arrayIdentical(state.sidePots[i].contestants, state.sidePots[n].contestants)) {\r\n\t\t\t\t\tstate.sidePots[i].potValue = state.sidePots[i].potValue + state.sidePots[n].potValue;\r\n\t\t\t\t\tstate.sidePots = state.sidePots.filter((el, index) => index !== n);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn state\r\n}\r\n\r\nconst arrayIdentical = (arr1, arr2) => {\r\n\r\n\tif (arr1.length !== arr2.length) {\r\n\t\treturn false\r\n\t}\r\n\treturn arr1.map(el => arr2.includes(el)).filter(bool => bool !== true).length !== 0 ? false : true;\r\n}\r\nexport {\r\n\tcalculateBlindIndices,\r\n\tanteUpBlinds,\r\n\tcalculateMinBet,\r\n\tmanageBet,\r\n\tmanagePlayerFold,\r\n\tmanagePhaseShift,\r\n\tremakePot\r\n};\r\n\r\n","import React from 'react';\r\n\r\n/**\r\n * Controller functional component which represents the base \r\n * of the raise bar users can perform  call, fold or raise\r\n * actions through.\r\n */\r\nfunction Controller({\r\n  handle: { id, value, percent },\r\n  getHandleProps\r\n}) {\r\n  return (\r\n    <div\r\n      style={{\r\n        left: `${percent}%`,\r\n        position: 'absolute',\r\n        marginLeft: -15,\r\n        marginTop: 25,\r\n        zIndex: 2,\r\n        width: 50,\r\n        height: 25,\r\n        border: \"3px solid #7177A3\",\r\n        textAlign: 'center',\r\n        cursor: 'pointer',\r\n        borderRadius: \"15px\",\r\n        backgroundColor: '#FFEB49',\r\n        color: '#aaa',\r\n      }}\r\n      {...getHandleProps(id)}\r\n    >\r\n      <div style={{ display: 'flex', textShadow: '2px 2px 8px rgba(0,0,0,0.95)', justifyContent: 'center', fontFamily: 'Roboto', fontSize: 11, marginTop: 30 }} >\r\n        {value}\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Controller;","/**\r\n * Slider and Raise Rail  \r\n*/\r\n\r\nconst sliderStyle = {\r\n  position: 'relative',\r\n  width: '100%',\r\n  height: 80,\r\n}\r\n\r\nconst railStyle = {\r\n  position: 'absolute',\r\n  width: '100%',\r\n  height: 10,\r\n  marginTop: 35,\r\n  borderRadius: 5,\r\n  backgroundColor: '#7177A3',\r\n}\r\n\r\nexport { sliderStyle, railStyle }\r\n\r\n","import React from 'react';\r\n\r\n/**\r\n * Tracker functional component which tracks the raise \r\n * slider bar users can perform bets/raises through.\r\n */\r\nfunction Tracker({ source, target, getTrackProps }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'absolute',\r\n        height: 10,\r\n        zIndex: 1,\r\n        marginTop: 35,\r\n        backgroundColor: '#FFEB49',\r\n        borderRadius: 5,\r\n        cursor: 'pointer',\r\n        left: `${source.percent}%`,\r\n        width: `${target.percent - source.percent}%`,\r\n      }}\r\n      {...getTrackProps()}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Tracker;","import React from 'react';\r\nimport { Handles, Rail, Slider, Tracks } from 'react-compound-slider';\r\nimport Handle from \"../components/raiseBar/Controller\";\r\nimport { railStyle, sliderStyle } from \"../components/raiseBar/styles\";\r\nimport Track from \"../components/raiseBar/Tracker\";\r\nimport {\r\n\tcalculateMinBet\r\n} from './betService.js';\r\n\r\n/** \r\n* The uiService provides services to handle\r\n* UI animations assignments and renderings.\r\n*/\r\n\r\n\r\n/* \r\n Set next game phase\r\n*/\r\nconst makePhaseStatement = (phase) => {\r\n\tswitch (phase) {\r\n\t\tcase ('loading'): return 'Finding a Table, Please Wait';\r\n\t\tcase ('initialDeal'): return 'Dealing out the cards';\r\n\t\tcase ('betting1'): return 'Betting 1';\r\n\t\tcase ('flop'): return 'Flop';\r\n\t\tcase ('betting2'): return 'Flop';\r\n\t\tcase ('turn'): return 'Turn';\r\n\t\tcase ('betting3'): return 'Turn';\r\n\t\tcase ('river'): return 'River';\r\n\t\tcase ('betting4'): return 'River';\r\n\t\tcase ('showdown'): return 'Show Your Cards!';\r\n\t\tdefault: throw Error('Unfamiliar phase returned from makePhaseStatement()');\r\n\t}\r\n}\r\n\r\n/* \r\n Render Action Button text (Fold, Call, Raise, All in, etc.)\r\n*/\r\nconst makeActionButtonText = (highBet, betInputValue, activePlayer) => {\r\n\tif ((highBet === 0) && (betInputValue === 0)) {\r\n\t\treturn 'Check'\r\n\t} else if ((highBet === betInputValue)) {\r\n\t\treturn 'Call'\r\n\t} else if ((betInputValue < highBet) || (betInputValue === activePlayer.chips + activePlayer.bet)) {\r\n\t\treturn 'All-in!'\r\n\t} else if ((betInputValue > highBet)) {\r\n\t\treturn 'Raise'\r\n\t}\r\n}\r\n\r\n/* \r\n Show player winning after each hand\r\n*/\r\nconst makeNetPlayerEarnings = (endChips, startChips) => {\r\n\tconst netChipEarnings = (endChips - startChips);\r\n\tconst win = (netChipEarnings > 0);\r\n\tconst none = (netChipEarnings === 0);\r\n\treturn (\r\n\t\t<div class={`showdown-player-earnings ${(win) ? ('positive') : (none) ? ('') : ('negative')}`}>\r\n\t\t\t{`${(win) ? ('+') : ('')}${netChipEarnings}`}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n/* \r\n Show Showdown messages\r\n*/\r\nconst makeShowdownMessages = (showDownMessages) => {\r\n\treturn showDownMessages.map((message, index) => {\r\n\t\tconst { users, prize, rank } = message;\r\n\t\tif (users.length > 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment key={index}>\r\n\t\t\t\t\t<div className=\"message-div\">\r\n\t\t\t\t\t\t<span className=\"message-user\">\r\n\t\t\t\t\t\t\t{`${users.length} players `}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"message-content\">\r\n\t\t\t\t\t\t\t{`split the pot with a `}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"message-rank\">\r\n\t\t\t\t\t\t\t{`${rank}!`}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tusers.map(user => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={index + user} class=\"message-div\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"message-player\">\r\n\t\t\t\t\t\t\t\t\t\t{`${user} `}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"message-content\">\r\n\t\t\t\t\t\t\t\t\t\t{`takes `}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"message-earnings\">\r\n\t\t\t\t\t\t\t\t\t\t{`${prize} chips `}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"message-content\">\r\n\t\t\t\t\t\t\t\t\t\t{`from the pot.`}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t} else if (users.length === 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<div key={index} className=\"message-div\">\r\n\t\t\t\t\t<span className=\"message-player\">\r\n\t\t\t\t\t\t{`${users[0]} `}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"message-content\">\r\n\t\t\t\t\t\t{`wins `}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"message-earnings\">\r\n\t\t\t\t\t\t{`${prize} chips `}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"message-content\">\r\n\t\t\t\t\t\t{`from the pot with a `}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"message-rank\">\r\n\t\t\t\t\t\t{`${rank}!`}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/* \r\n Render User Action menu for actions and slider (for raising)\r\n*/\r\nconst makeActionMenu = (highBet, players, activePlayerIndex, phase, changeSliderInputFn) => {\r\n\tconst min = calculateMinBet(highBet, players[activePlayerIndex].chips, players[activePlayerIndex].bet)\r\n\tconst max = players[activePlayerIndex].chips + players[activePlayerIndex].bet\r\n\treturn (\r\n\t\t(phase === 'betting1' || phase === 'betting2' || phase === 'betting3' || phase === 'betting4') ? (players[activePlayerIndex].robot) ? (<h4 className=\"current-move-head\"> {`Current Move: ${players[activePlayerIndex].name}`}</h4>) : (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Slider\r\n\t\t\t\t\trootStyle={sliderStyle}\r\n\t\t\t\t\tdomain={[min, max]}\r\n\t\t\t\t\tvalues={[min]}\r\n\t\t\t\t\tstep={1}\r\n\r\n\t\t\t\t\tonChange={changeSliderInputFn}\r\n\t\t\t\t\tmode={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Rail>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t({ getRailProps }) => (\r\n\t\t\t\t\t\t\t\t<div style={railStyle} {...getRailProps()} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Rail>\r\n\t\t\t\t\t<Handles>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t({ handles, getHandleProps }) => (\r\n\t\t\t\t\t\t\t\t<div className='slider-handles'>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\thandles.map(handle => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Handle\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={handle.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\thandle={handle}\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetHandleProps={getHandleProps}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Handles>\r\n\t\t\t\t\t<Tracks right={false}>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t({ tracks, getTrackProps }) => (\r\n\t\t\t\t\t\t\t\t<div className='slider-tracks'>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttracks.map(\r\n\t\t\t\t\t\t\t\t\t\t\t({ id, source, target }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Track\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetTrackProps={getTrackProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Tracks>\r\n\t\t\t\t</Slider>\r\n\t\t\t</React.Fragment>\r\n\t\t) : null\r\n\t)\r\n}\r\n\r\nexport {\r\n\tmakePhaseStatement,\r\n\tmakeShowdownMessages,\r\n\tmakeNetPlayerEarnings,\r\n\tmakeActionMenu,\r\n\tmakeActionButtonText\r\n};\r\n\r\n","import {\r\n\tcalculateMinBet, manageBet,\r\n\tmanagePlayerFold\r\n} from './betService.js';\r\nimport {\r\n\tcheckFrequencyHistogram,\r\n\tcheckIfFlush,\r\n\tcheckIfRoyalFlush,\r\n\tcheckIfStraight,\r\n\tcheckIfStraightFlush,\r\n\tgenerateValueSet\r\n} from './cardsService.js';\r\nimport {\r\n\tmakeActionButtonText\r\n} from './uiService.js';\r\n\r\n/**\r\n* The aiService provides key services for the \r\n* functinality of Ai players. It handles \r\n* how the Ai determines what move to make.\r\n*/\r\n\r\n/* \r\nThe main function to handle the behavior of an Ai player in a given situation \r\n*/\r\nconst aiHandler = (state, moveAnimationState) => {\r\n\tconst { highBet } = state\r\n\tconst activePlayer = state.players[state.activePlayerIndex];\r\n\tconst min = calculateMinBet(highBet, activePlayer.chips, activePlayer.bet)\r\n\tconst max = activePlayer.chips + activePlayer.bet\r\n\tconst totalInvestment = activePlayer.chips + activePlayer.bet + activePlayer.stackInvestment;\r\n\tconst investmentRequiredToRemain = (highBet / totalInvestment) * 100;\r\n\tconst descendingSortHand = activePlayer.cards.concat(state.communityCards).sort((a, b) => b.value - a.value)\r\n\tconst { frequencyHistogram, suitHistogram } = makeHistogram(descendingSortHand)\r\n\tconst stakes = groupStakes(investmentRequiredToRemain);\r\n\tconst preFlopValues = activePlayer.cards.map(el => el.value)\r\n\tconst highCard = Math.max(...preFlopValues)\r\n\tconst lowCard = Math.min(...preFlopValues)\r\n\tswitch (state.phase) {\r\n\r\n\t\t// determine Ai action for round 1 of betting\r\n\t\tcase ('betting1'): {\r\n\t\t\t// use specific factors to determine fold, call/check or bet\r\n\t\t\tconst suited = Object.entries(suitHistogram).find(keyValuePair => keyValuePair[1] === 2)\r\n\t\t\tconst straightGap = (highCard - lowCard <= 4)\r\n\t\t\tconst { callLimit, raiseChance, raiseRange } = createPreFlopDeterminant(highCard, lowCard, suited, straightGap)\r\n\t\t\tconst willCall = (betting_hierarchy[stakes] <= betting_hierarchy[callLimit])\r\n\t\t\tconst callValue = (activePlayer.chips + activePlayer.bet >= highBet) ? highBet : activePlayer.chips + activePlayer.bet\r\n\t\t\tif (willCall) {\r\n\t\t\t\tif (willRaise(raiseChance)) {\r\n\t\t\t\t\tconst determinedRaiseRange = raiseRange[Math.floor(Math.random() * (raiseRange.length - 0)) + 0];\r\n\t\t\t\t\tconst wantRaise = (betting_hierarchy[stakes] <= betting_hierarchy[determinedRaiseRange])\r\n\t\t\t\t\tif (wantRaise) {\r\n\t\t\t\t\t\tlet betValue = Math.floor(chooseBetProportion(determinedRaiseRange) * activePlayer.chips)\r\n\t\t\t\t\t\tif (betValue < highBet) {\r\n\t\t\t\t\t\t\tif (highBet < max) {\r\n\t\t\t\t\t\t\t\tbetValue = highBet;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (betValue > max)\r\n\t\t\t\t\t\t\tactivePlayer.canRaise = false\r\n\t\t\t\t\t\tmoveAnimationState(state.activePlayerIndex, `${makeActionButtonText(highBet, betValue, activePlayer)} ${betValue}`);\r\n\t\t\t\t\t\treturn manageBet(state, betValue, min, max);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// will not render the bet value if it's a \"check\"\r\n\t\t\t\t\t\tmoveAnimationState(state.activePlayerIndex, `${makeActionButtonText(highBet, callValue, activePlayer)} ${(callValue > activePlayer.bet) ? (callValue) : \"\"}`);\r\n\t\t\t\t\t\treturn manageBet(state, callValue, min, max);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmoveAnimationState(state.activePlayerIndex, `${makeActionButtonText(highBet, callValue, activePlayer)} ${(callValue > activePlayer.bet) ? (callValue) : \"\"}`);\r\n\t\t\t\t\treturn manageBet(state, callValue, min, max);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmoveAnimationState(state.activePlayerIndex, `FOLD`);\r\n\t\t\t\treturn managePlayerFold(state)\r\n\t\t\t}\r\n\t\t}\r\n\t\t// determine Ai action for subsequent betting rounds\r\n\t\tcase ('betting2'):\r\n\t\tcase ('betting3'):\r\n\t\tcase ('betting4'):\r\n\t\t\t// update freq histogram used to track hands\r\n\t\t\tconst {\r\n\r\n\t\t\t\tisPair,\r\n\t\t\t\tisTwoPair,\r\n\t\t\t\tisThreeOfAKind,\r\n\t\t\t\tisFourOfAKind,\r\n\t\t\t\tisFullHouse,\r\n\t\t\t\tfrequencyHistogramMetaData,\r\n\r\n\t\t\t} = checkFrequencyHistogram(descendingSortHand, frequencyHistogram);\r\n\t\t\tconst valueSet = generateValueSet(descendingSortHand);\r\n\t\t\tconst {\r\n\r\n\t\t\t\tisStraight,\r\n\t\t\t\tisLowStraight,\r\n\t\t\t\tconcurrentCardValues,\r\n\t\t\t\tconcurrentCardValuesLow,\r\n\r\n\t\t\t} = checkIfStraight(valueSet);\r\n\t\t\tconst {\r\n\r\n\t\t\t\tisFlush,\r\n\t\t\t\tflushedSuit,\r\n\r\n\t\t\t} = checkIfFlush(suitHistogram);\r\n\r\n\t\t\tconst flushCards = (isFlush) &&\r\n\t\t\t\tdescendingSortHand\r\n\t\t\t\t\t.filter(card => card.suit === flushedSuit);\r\n\r\n\t\t\tconst {\r\n\r\n\t\t\t\tisStraightFlush,\r\n\t\t\t\tisLowStraightFlush,\r\n\t\t\t\tconcurrentSFCardValues,\r\n\t\t\t\tconcurrentSFCardValuesLow,\r\n\r\n\t\t\t} = (isFlush) && checkIfStraightFlush(flushCards);\r\n\t\t\tconst isRoyalFlush = (isFlush) &&\r\n\t\t\t\tcheckIfRoyalFlush(flushCards);\r\n\t\t\tconst isNoPair = (\r\n\t\t\t\t(!isRoyalFlush) &&\r\n\t\t\t\t(!isStraightFlush) &&\r\n\t\t\t\t(!isFourOfAKind) &&\r\n\t\t\t\t(!isFullHouse) &&\r\n\t\t\t\t(!isFlush) &&\r\n\t\t\t\t(!isStraight) &&\r\n\t\t\t\t(!isThreeOfAKind) &&\r\n\t\t\t\t(!isTwoPair) &&\r\n\t\t\t\t(!isPair));\r\n\r\n\t\t\t// create a hierarchy to rank hand strength\r\n\t\t\tconst handHierarchy = [{\r\n\t\t\t\tname: 'Royal Flush',\r\n\t\t\t\tmatch: isRoyalFlush,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Straight Flush',\r\n\t\t\t\tmatch: isStraightFlush\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Four Of A Kind',\r\n\t\t\t\tmatch: isFourOfAKind,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Full House',\r\n\t\t\t\tmatch: isFullHouse,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Flush',\r\n\t\t\t\tmatch: isFlush,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Straight',\r\n\t\t\t\tmatch: isStraight,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Three Of A Kind',\r\n\t\t\t\tmatch: isThreeOfAKind,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Two Pair',\r\n\t\t\t\tmatch: isTwoPair,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Pair',\r\n\t\t\t\tmatch: isPair,\r\n\t\t\t}, {\r\n\t\t\t\tname: 'No Pair',\r\n\t\t\t\tmatch: isNoPair\r\n\t\t\t}];\r\n\r\n\t\t\t// use hand hierarchy to determine Ai action\r\n\t\t\tconst highRank = handHierarchy[handHierarchy.findIndex(el => el.match === true)].name\r\n\t\t\tconst { callLimit, raiseChance, raiseRange } = createGeneralizedDeterminant(descendingSortHand, highRank, frequencyHistogramMetaData)\r\n\t\t\tconst willCall = (betting_hierarchy[stakes] <= betting_hierarchy[callLimit])\r\n\t\t\tconst callValue = (activePlayer.chips + activePlayer.bet >= highBet) ? highBet : activePlayer.chips + activePlayer.bet\r\n\t\t\tif (willCall) {\r\n\t\t\t\tif (willRaise(raiseChance)) {\r\n\t\t\t\t\tconst determinedRaiseRange = raiseRange[Math.floor(Math.random() * (raiseRange.length - 0)) + 0];\r\n\t\t\t\t\tconst wantRaise = (betting_hierarchy[stakes] <= betting_hierarchy[determinedRaiseRange])\r\n\t\t\t\t\tif (wantRaise) {\r\n\t\t\t\t\t\tlet betValue = Math.floor(chooseBetProportion(determinedRaiseRange) * activePlayer.chips)\r\n\t\t\t\t\t\tif (betValue < highBet) {\r\n\t\t\t\t\t\t\tbetValue = highBet;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tactivePlayer.canRaise = false\r\n\t\t\t\t\t\tmoveAnimationState(state.activePlayerIndex, `${makeActionButtonText(highBet, betValue, activePlayer)} ${betValue}`);\r\n\t\t\t\t\t\treturn manageBet(state, betValue, min, max);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmoveAnimationState(state.activePlayerIndex, `${makeActionButtonText(highBet, callValue, activePlayer)} ${(callValue > activePlayer.bet) ? (callValue) : \"\"}`);\r\n\t\t\t\t\t\treturn manageBet(state, callValue, min, max);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmoveAnimationState(state.activePlayerIndex, `${makeActionButtonText(highBet, callValue, activePlayer)} ${(callValue > activePlayer.bet) ? (callValue) : \"\"}`);\r\n\t\t\t\t\treturn manageBet(state, callValue, min, max);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmoveAnimationState(state.activePlayerIndex, `FOLD`);\r\n\t\t\t\treturn managePlayerFold(state)\r\n\t\t\t}\r\n\t\tdefault: throw Error(\"Handle AI Running during incorrect phase\");\r\n\t}\r\n}\r\n\r\n/* \r\nThis function determines Ai behavior based \r\non the rank of its card hand.\r\n*/\r\nconst createGeneralizedDeterminant = (hand, highRank, frequencyHistogramMetaData) => {\r\n\tif (highRank === 'Royal Flush') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChance: 1,\r\n\t\t\traiseRange: ['beware']\r\n\t\t}\r\n\t} else if (highRank === 'Straight Flush') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChance: 1,\r\n\t\t\traiseRange: ['strong', 'aggro', 'beware']\r\n\t\t}\r\n\t} else if (highRank === 'Four Of A Kind') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChance: 1,\r\n\t\t\traiseRange: ['strong', 'aggro', 'beware']\r\n\t\t}\r\n\t} else if (highRank === 'Full House') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChance: 1,\r\n\t\t\traiseRange: ['hidraw', 'strong', 'aggro', 'beware']\r\n\t\t}\r\n\t} else if (highRank === 'Flush') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChange: 1,\r\n\t\t\traiseRange: ['strong', 'aggro', 'beware'],\r\n\t\t}\r\n\t} else if (highRank === 'Straight') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChange: 1,\r\n\t\t\traiseRange: ['lowdraw', 'meddraw', 'hidraw, strong'],\r\n\t\t}\r\n\t} else if (highRank === 'Three Of A Kind') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChange: 1,\r\n\t\t\traiseRange: ['lowdraw', 'meddraw', 'hidraw, strong'],\r\n\t\t}\r\n\t} else if (highRank === 'Two Pair') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'beware',\r\n\t\t\traiseChange: 0.7,\r\n\t\t\traiseRange: ['lowdraw', 'meddraw', 'hidraw, strong'],\r\n\t\t}\r\n\t} else if (highRank === 'Pair') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'hidraw',\r\n\t\t\traiseChange: 0.5,\r\n\t\t\traiseRange: ['lowdraw', 'meddraw', 'hidraw, strong'],\r\n\t\t}\r\n\t} else if (highRank === 'No Pair') {\r\n\t\treturn {\r\n\t\t\tcallLimit: 'meddraw',\r\n\t\t\traiseChange: 0.2,\r\n\t\t\traiseRange: ['lowdraw', 'meddraw', 'hidraw, strong'],\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* \r\nA function to determine Ai behavior based on the flop\r\nand its results. \r\n*/\r\nconst createPreFlopDeterminant = (highCard, lowCard, suited, straightGap) => {\r\n\tif (highCard === lowCard) {\r\n\t\tswitch (highCard) {\r\n\t\t\tcase (highCard > 8): {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcallLimit: 'beware',\r\n\t\t\t\t\traiseChance: 0.9,\r\n\t\t\t\t\traiseRange: ['lowdraw', 'meddraw', 'hidraw', 'strong'], // randomly determine bet based on this\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcase (highCard > 5): {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcallLimit: 'aggro',\r\n\t\t\t\t\traiseChance: 0.75, // if Math.random() is < than this, select a random raiseTarget \r\n\t\t\t\t\traiseRange: ['insignificant', 'lowdraw', 'meddraw'],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcase (highCard < 5):\r\n\t\t\tdefault: {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcallLimit: 'aggro',\r\n\t\t\t\t\traiseChance: 0.5,\r\n\t\t\t\t\traiseRange: ['insignificant', 'lowdraw', 'meddraw'],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (highCard > 9 && lowCard > 9) {\r\n\t\t// two high cards\r\n\t\tif (suited) {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'beware',\r\n\t\t\t\traiseChance: 1,\r\n\t\t\t\traiseRange: ['insignificant', 'lowdraw', 'meddraw', 'hidraw'],\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'beware',\r\n\t\t\t\traiseChance: 0.75,\r\n\t\t\t\traiseRange: ['insignificant', 'lowdraw', 'meddraw', 'hidraw'],\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (highCard > 8 && lowCard > 6) {\r\n\t\t// one high card\r\n\t\tif (suited) {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'beware',\r\n\t\t\t\traiseChance: 0.65,\r\n\t\t\t\traiseRange: ['insignificant', 'lowdraw', 'meddraw', 'hidraw'],\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'beware',\r\n\t\t\t\traiseChance: 0.45,\r\n\t\t\t\traiseRange: ['insignificant', 'lowdraw', 'meddraw', 'hidraw'],\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (highCard > 8 && lowCard < 6) {\r\n\t\tif (suited) {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'major',\r\n\t\t\t\traiseChance: 0.45,\r\n\t\t\t\traiseRange: ['insignificant', 'lowdraw'],\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'aggro',\r\n\t\t\t\traiseChance: 0.35,\r\n\t\t\t\traiseRange: ['insignificant', 'lowdraw'],\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (highCard > 5 && lowCard > 3) {\r\n\t\tif (suited) {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'strong',\r\n\t\t\t\traiseChance: 0.1,\r\n\t\t\t\traiseRange: ['insignificant', 'lowdraw'],\r\n\t\t\t}\r\n\t\t} else if (straightGap) {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'aggro',\r\n\t\t\t\traiseChance: 0,\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'strong',\r\n\t\t\t\traiseChance: 0,\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tif (suited) {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'strong',\r\n\t\t\t\traiseChance: 0.1,\r\n\t\t\t\traiseRange: ['insignificant'],\r\n\t\t\t}\r\n\t\t} else if (straightGap) {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'strong',\r\n\t\t\t\traiseChance: 0,\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tcallLimit: 'insignificant',\r\n\t\t\t\traiseChance: 0,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* \r\nA function to group stakes into terms for betting.\r\n*/\r\nconst groupStakes = (percentage) => {\r\n\tswitch (true) {\r\n\t\tcase (percentage > 75):\r\n\t\t\treturn 'beware'\r\n\t\tcase (percentage > 40):\r\n\t\t\treturn 'aggro'\r\n\t\tcase (percentage > 35):\r\n\t\t\treturn 'major'\r\n\t\tcase (percentage > 25):\r\n\t\t\treturn 'strong'\r\n\t\tcase (percentage > 15):\r\n\t\t\treturn 'hidraw'\r\n\t\tcase (percentage > 10):\r\n\t\t\treturn 'meddraw'\r\n\t\tcase (percentage > 3):\r\n\t\t\treturn 'lowdraw'\r\n\t\tcase (percentage >= 1):\r\n\t\t\treturn 'insignificant'\r\n\t\tcase (percentage < 1):\r\n\t\tdefault:\r\n\t\t\treturn 'blind'\r\n\t}\r\n}\r\n\r\n/* \r\nThis function determines the amount an Ai\r\nwill bet based on the betting hierarchy value.\r\n*/\r\nconst chooseBetProportion = (stakes) => {\r\n\tif (stakes === 'blind') {\r\n\t\treturn Math.random() * (0.1 - 0) + 0\r\n\t} else if (stakes === 'insignificant') {\r\n\t\treturn Math.random() * (0.03 - 0.01) + 0.01\r\n\t} else if (stakes === 'lowdraw') {\r\n\t\treturn Math.random() * (0.10 - 0.03) + 0.03\r\n\t} else if (stakes === 'meddraw') {\r\n\t\treturn Math.random() * (0.15 - 0.10) + 0.10\r\n\t} else if (stakes === 'hidraw') {\r\n\t\treturn Math.random() * (0.25 - 0.15) + 0.15\r\n\t} else if (stakes === 'strong') {\r\n\t\treturn Math.random() * (0.35 - 0.25) + 0.25\r\n\t} else if (stakes === 'major') {\r\n\t\treturn Math.random() * (0.40 - 0.35) + 0.35\r\n\t} else if (stakes === 'aggro') {\r\n\t\treturn Math.random() * (0.75 - 0.40) + 0.40\r\n\t} else if (stakes === 'beware') {\r\n\t\treturn Math.random() * (1 - 0.75) + 0.75\r\n\t}\r\n}\r\n\r\n/* \r\nA list to set the degree of an Ai bet.\r\n*/\r\nconst betting_hierarchy = {\r\n\tblind: 0,\r\n\tinsignificant: 1,\r\n\tlowdraw: 2,\r\n\tmeddraw: 3,\r\n\thidraw: 4,\r\n\tstrong: 5,\r\n\tmajor: 6,\r\n\taggro: 7,\r\n\tbeware: 8,\r\n}\r\n\r\nconst willRaise = (chance) => {\r\n\treturn Math.random() < chance\r\n}\r\n\r\nconst makeHistogram = (hand) => {\r\n\tconst histogram = hand.reduce((acc, cur) => {\r\n\t\tacc.frequencyHistogram[cur.cardFace] = (acc.frequencyHistogram[cur.cardFace] || 0) + 1;\r\n\t\tacc.suitHistogram[cur.suit] = (acc.suitHistogram[cur.suit] || 0) + 1;\r\n\t\treturn acc\r\n\t}, { frequencyHistogram: {}, suitHistogram: {} })\r\n\treturn histogram\r\n}\r\n\r\nexport { aiHandler };\r\n\r\n","import React from 'react';\r\n\r\n/**\r\n * Card component which represents the private Poker game cards \r\n * dealt to the User and the Community cards dealt on the table.\r\n */\r\nconst Card = (props) => {\r\n  const {\r\n    cardData: {\r\n      suit,\r\n      cardFace,\r\n      animationDelay\r\n    },\r\n    applyFoldedClassname\r\n  } = props;\r\n\r\n  // get suit of card\r\n  var cardSuit = suit.substring(0, 1).toUpperCase();\r\n\r\n  // display card according to value and suit given\r\n  return (\r\n    <div className=\"poker-card\"><img src={`${process.env.PUBLIC_URL}/assets/cardFaces/${cardFace}${cardSuit}.svg`}></img></div>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\n\r\n/**\r\n * SpinnerLoading component which represents the App logo\r\n * spinning when a a page is loading.\r\n */\r\nconst SpinnerLoading = props => {\r\n\treturn (\r\n\t\t<div className=\"loading-div\">\r\n\t\t\t<div className='spinner-div' >\r\n\t\t\t\t<img src={'/assets/logo.svg'} alt=\"Loading game...\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SpinnerLoading","import React from 'react';\r\n\r\n/**\r\n * Back of Card component which represents the private Poker game cards \r\n * dealt to AI players which remain hidden from the user.\r\n */\r\nconst BackOfCard = (props) => {\r\n  const {\r\n    cardData: {\r\n      suit,\r\n      cardFace,\r\n      animationDelay\r\n    },\r\n    applyFoldedClassname\r\n  } = props;\r\n\r\n  // display back of card (values hidden from user)\r\n  return (\r\n    <div\r\n      key={`${suit} ${cardFace}`}\r\n      className={`poker-card cardIn agent-card${(applyFoldedClassname ? ' folded' : '')}`}\r\n      style={{ animationDelay: `${(applyFoldedClassname) ? 0 : animationDelay}ms` }}>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BackOfCard;","import React from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\n/**\r\n * This component controls the animations \r\n * and transitional effects of player actions.\r\n */\r\nfunction PlayerStatus({ index, isActive, content, endTransition }) {\r\n    return (\r\n        <CSSTransition\r\n            in={isActive}\r\n            timeout={{\r\n                appear: 0,\r\n                enter: 0,\r\n                exit: 1250,\r\n            }}\r\n            classNames=\"trans-notification\"\r\n            onEntered={() => endTransition(index)}\r\n        >\r\n            <div className=\"notification\">\r\n                {`${content}`}\r\n            </div>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nexport default PlayerStatus;","import React from 'react';\r\nimport BackOfCard from '../cards/BackOfCard';\r\nimport Card from '../cards/Card';\r\nimport PlayerStatus from \"./PlayerStatus\";\r\n\r\n\r\n\r\nconst dealerChipImageURL = \"/assets/logo.svg\";\r\nconst chipCountImageURL = \"./assets/chips.svg\";\r\nconst playerBetImageURL = \"./assets/bet.svg\";\r\n\r\n\r\n/**\r\n * Player component that creates the base player entity \r\n * for both the user and AI agents.\r\n */\r\nconst Player = (props) => {\r\n  const {\r\n    arrayIndex,\r\n    playerAnimationSwitchboard,\r\n    endTransition,\r\n    hasDealerChip,\r\n    isActive,\r\n    phase,\r\n    clearCards,\r\n    player: {\r\n      robot,\r\n      folded,\r\n      cards,\r\n      avatarURL,\r\n      name,\r\n      chips,\r\n      bet\r\n    }\r\n  } = props;\r\n\r\n  /*\r\n     Assigns the correct format of card to players\r\n  */\r\n  const makePlayerCards = () => {\r\n    let applyFoldedClassname;\r\n\r\n    if (folded || clearCards) {\r\n      applyFoldedClassname = true\r\n    }\r\n\r\n    // Hidden back of card for agents\r\n    if (robot) {\r\n      return cards.map((card, index) => {\r\n        if (phase !== 'showdown') {\r\n          return (\r\n            <BackOfCard key={index} cardData={card} applyFoldedClassname={applyFoldedClassname} />\r\n          );\r\n        } else {\r\n          // Reset Animation Delay\r\n          const cardData = { ...card, animationDelay: 0 }\r\n          return (\r\n            <Card key={index} cardData={cardData} applyFoldedClassname={applyFoldedClassname} />\r\n          );\r\n        }\r\n      });\r\n    }\r\n    // Visible front of card for user\r\n    else {\r\n      return cards.map((card, index) => {\r\n        return (\r\n          <Card key={index} cardData={card} applyFoldedClassname={applyFoldedClassname} />\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /*\r\n     Assign dealer chip to current round dealer\r\n  */\r\n  const makeDealerChip = () => {\r\n    if (hasDealerChip) {\r\n      return (\r\n        <div className=\"dealer-chips-div\">\r\n          <img src={dealerChipImageURL} alt=\"Dealer Chip\" />\r\n        </div>\r\n      )\r\n    } else return null;\r\n  }\r\n\r\n  /*\r\n     Check if player should have animation\r\n  */\r\n  const Animating = (playerBoxIndex) => {\r\n    if (playerAnimationSwitchboard[playerBoxIndex].Animating) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={`player-wrapper p${arrayIndex}`}>\r\n      <PlayerStatus\r\n        index={arrayIndex}\r\n        isActive={Animating(arrayIndex)}\r\n        content={playerAnimationSwitchboard[arrayIndex].content}\r\n        endTransition={endTransition}\r\n      />\r\n      <div className='flex-row abscard'>\r\n        {makePlayerCards()}\r\n      </div>\r\n      <div className=\"player-div\">\r\n        <div className=\"player-icon-div\">\r\n          <img\r\n            className={`player-icon-image${(isActive ? ' activePlayer' : '')}`}\r\n            src={avatarURL}\r\n            alt=\"Player Avatar\"\r\n          />\r\n          <h5 className=\"player-data-name\" style={{ 'fontSize': (name.length < 14) ? 12 : 10 }}>\r\n            {`${name}`}\r\n          </h5>\r\n          <div className=\"player-data-stash-div\">\r\n            <img className=\"player-data-stash-image\" src={chipCountImageURL} alt=\"Player Stash\" />\r\n            <h5 className=\"player-data-stash-head\">{`${chips}`}</h5>\r\n          </div>\r\n          <div className=\"player-data-bet-div\">\r\n            <img className=\"player-data-bet-image\" src=\"./assets/pot.svg\" alt=\"Player Bet\" />\r\n            <h5 className=\"player-data-bet-head\">{`${bet}`}</h5>\r\n          </div>\r\n          {makeDealerChip()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Player;","import React, { useEffect } from \"react\"\r\nimport { Button, Card, Container } from \"react-bootstrap\"\r\nimport { useHistory, useLocation } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport firebaseDb from \"../../firebase\"\r\nimport Dashboard from './Dashboard'\r\n\r\n/**\r\n * PlayerWin component to display Winning player\r\n * name and record user statistics.\r\n */\r\nexport default function PlayerWin(props) {\r\n    const { currentUser } = useAuth()\r\n    const history = useHistory()\r\n\r\n    const search = useLocation().search;\r\n    const difficulty = new URLSearchParams(search).get('difficulty');\r\n\r\n\r\n    useEffect(() => {\r\n        recordUserStatistics()\r\n    });\r\n\r\n    // Increase games played and/or wins for difficulty played\r\n    async function recordUserStatistics(e) {\r\n        var userStatistics = new Object();\r\n        firebaseDb.database().ref().child(currentUser.uid).once(\"value\").then(function (snapshot) {\r\n            var countValues = 0;\r\n            snapshot.forEach(function (childSnapshot) {\r\n                var key = childSnapshot.key;\r\n                var childData = childSnapshot.val();\r\n                userStatistics[key] = childData;\r\n                countValues += 1;\r\n            });\r\n            if (countValues == 0) {\r\n                firebaseDb.database().ref().child(currentUser.uid).set({\r\n                    \"num_beginner_games\": 0, \"num_beginner_wins\": 0,\r\n                    \"num_intermediate_games\": 0, \"num_intermediate_wins\": 0,\r\n                    \"num_expert_games\": 0, \"num_expert_wins\": 0,\r\n                    \"num_ultimate_games\": 0, \"num_ultimate_wins\": 0,\r\n                })\r\n                userStatistics = {\r\n                    \"num_beginner_games\": 0, \"num_beginner_wins\": 0,\r\n                    \"num_intermediate_games\": 0, \"num_intermediate_wins\": 0,\r\n                    \"num_expert_games\": 0, \"num_expert_wins\": 0,\r\n                    \"num_ultimate_games\": 0, \"num_ultimate_wins\": 0,\r\n                }\r\n            }\r\n\r\n            // Add results to DB\r\n            if (difficulty == \"beginner\") {\r\n                userStatistics[\"num_beginner_games\"] = userStatistics[\"num_beginner_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_beginner_wins\"] = userStatistics[\"num_beginner_wins\"] + 1\r\n            }\r\n            else if (difficulty == \"intermediate\") {\r\n                userStatistics[\"num_intermediate_games\"] = userStatistics[\"num_intermediate_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_intermediate_wins\"] = userStatistics[\"num_intermediate_wins\"] + 1\r\n            }\r\n            else if (difficulty == \"expert\") {\r\n                userStatistics[\"num_expert_games\"] = userStatistics[\"num_expert_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_expert_wins\"] = userStatistics[\"num_expert_wins\"] + 1\r\n            }\r\n            else if (difficulty == \"ultimate\") {\r\n                userStatistics[\"num_ultimate_games\"] = userStatistics[\"num_ultimate_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_ultimate_wins\"] = userStatistics[\"num_ultimate_wins\"] + 1\r\n            }\r\n\r\n            firebaseDb.database().ref().child(currentUser.uid).set({\r\n                \"num_beginner_games\": userStatistics[\"num_beginner_games\"], \"num_beginner_wins\": userStatistics[\"num_beginner_wins\"],\r\n                \"num_intermediate_games\": userStatistics[\"num_intermediate_games\"], \"num_intermediate_wins\": userStatistics[\"num_intermediate_wins\"],\r\n                \"num_expert_games\": userStatistics[\"num_expert_games\"], \"num_expert_wins\": userStatistics[\"num_expert_wins\"],\r\n                \"num_ultimate_games\": userStatistics[\"num_ultimate_games\"], \"num_ultimate_wins\": userStatistics[\"num_ultimate_wins\"],\r\n            })\r\n\r\n        }, function (error) {\r\n            console.log(\"Error reading player statistics from DB\")\r\n        });\r\n    }\r\n\r\n    /*\r\n     Return user to dashboard menu\r\n    */\r\n    async function handleReturnToDashboard(e) {\r\n        e.preventDefault()\r\n        console.log(\"Returning to dashboard...\")\r\n        try {\r\n            history.push(\"/dashboard\")\r\n        } catch {\r\n            console.log(\"Error returning to dashboard. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container\r\n            className=\"d-flex flex-column align-items-center justify-content-center\"\r\n            style={{ minHeight: \"100vh\" }}\r\n        >\r\n            <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n                <Card>\r\n                    <Card.Body>\r\n                        <div className=\"w-200 text-center\">\r\n                            <img className=\"logo mr-2\" src=\"/assets/win-trophy.png\" />\r\n                        </div>\r\n                        <div className=\"w-100 m-100\">\r\n                            <h2>\r\n                                {props.winner.name} Wins!\r\n                            </h2>\r\n                        </div>\r\n                        <Button className=\"w-100 mt-3\" onClick={handleReturnToDashboard}>\r\n                            Return to Dashboard\r\n                    </Button>\r\n                    </Card.Body>\r\n                </Card>\r\n            </div>\r\n        </Container>\r\n    )\r\n}","import 'core-js/es/array';\r\nimport 'core-js/es/map';\r\nimport 'core-js/es/set';\r\nimport \"core-js/stable\";\r\nimport { cloneDeep } from 'lodash';\r\nimport 'raf/polyfill';\r\nimport React, { Component } from 'react';\r\nimport { Dropdown, DropdownButton } from 'react-bootstrap';\r\nimport { Link } from \"react-router-dom\";\r\nimport \"regenerator-runtime/runtime\";\r\nimport '../../App.css';\r\nimport '../../Game.css';\r\nimport {\r\n  aiHandler as aiHandlerUtil\r\n} from '../../services/aiService.js';\r\nimport {\r\n  anteUpBlinds, calculateBlindIndices,\r\n\r\n  calculateMinBet,\r\n  manageBet,\r\n  managePlayerFold\r\n} from '../../services/betService.js';\r\nimport {\r\n  dealPlayerCards, makeDeckOfCards,\r\n  shuffleCards\r\n} from '../../services/cardsService.js';\r\nimport {\r\n  checkWin, makeTable, startNextRound\r\n} from '../../services/playersService.js';\r\nimport {\r\n  makeActionButtonText,\r\n\r\n  makeActionMenu, makeNetPlayerEarnings, makeShowdownMessages\r\n} from '../../services/uiService.js';\r\nimport Card from \"../cards/Card\";\r\nimport SpinnerLoading from '../helpers/SpinnerLoading';\r\nimport Player from \"../players/Player\";\r\nimport Dashboard from './Dashboard';\r\nimport PlayerWin from './PlayerWin';\r\n\r\n/**\r\n * Game component that manages all aspects of the Poker Game\r\n * and allows user to compete with AI Agents.\r\n */\r\nclass Game extends Component {\r\n  state = {\r\n    loading: true,\r\n    winnerFound: null,\r\n    winner: null,\r\n    players: null,\r\n    numPlayersActive: null,\r\n    numPlayersFolded: null,\r\n    numPlayersAllIn: null,\r\n    activePlayerIndex: null,\r\n    dealerIndex: null,\r\n    blindIndex: null,\r\n    deck: null,\r\n    communityCards: [],\r\n    pot: null,\r\n    highBet: null,\r\n    betInputValue: null,\r\n    sidePots: [],\r\n    minBet: 20,\r\n    phase: 'loading',\r\n    playerHierarchy: [],\r\n    showDownMessages: [],\r\n    playActionMessages: [],\r\n    playerAnimationSwitchboard: {\r\n      0: { isAnimating: false, content: null },\r\n      1: { isAnimating: false, content: null },\r\n      2: { isAnimating: false, content: null },\r\n      3: { isAnimating: false, content: null },\r\n      4: { isAnimating: false, content: null },\r\n      5: { isAnimating: false, content: null }\r\n    }\r\n  }\r\n\r\n  // animation delay for cards which gives real dealer effect\r\n  cardAnimationDelay = 0;\r\n\r\n  /*\r\n   On component load create game with table, players, etc.\r\n  */\r\n  async componentDidMount() {\r\n    const players = await makeTable(Dashboard.username);\r\n    // randomly assign dealer chip\r\n    const dealerIndex = Math.floor(Math.random() * Math.floor(players.length));\r\n\r\n    // assign blinds to respective players\r\n    const blindIndicies = calculateBlindIndices(dealerIndex, players.length);\r\n    const playersBoughtIn = anteUpBlinds(players, blindIndicies, this.state.minBet);\r\n\r\n    const imageLoaderRequest = new XMLHttpRequest();\r\n\r\n    // wait for table to load\r\n    imageLoaderRequest.addEventListener(\"load\", e => {\r\n      console.log(`${e.type}`);\r\n      console.log(e);\r\n      console.log(\"Table Loaded!\");\r\n      this.setState({\r\n        loading: false,\r\n      })\r\n    });\r\n\r\n\r\n    imageLoaderRequest.addEventListener(\"loadstart\", e => {\r\n      console.log(`${e.type}`);\r\n      console.log(e);\r\n    });\r\n\r\n    imageLoaderRequest.addEventListener(\"loadend\", e => {\r\n      console.log(`${e.type}`);\r\n      console.log(e);\r\n    });\r\n\r\n    imageLoaderRequest.addEventListener(\"progress\", e => {\r\n      console.log(`${e.type}`);\r\n      console.log(e);\r\n    });\r\n\r\n    imageLoaderRequest.addEventListener(\"abort\", e => {\r\n      console.log(`${e.type}`);\r\n      console.log(e);\r\n    });\r\n\r\n    imageLoaderRequest.addEventListener(\"error\", e => {\r\n      console.log(`${e.type}`);\r\n      console.log(e);\r\n    });\r\n\r\n    imageLoaderRequest.open(\"GET\", \"./assets/table.svg\");\r\n    imageLoaderRequest.send();\r\n\r\n    // set initial game state\r\n    this.setState(prevState => ({\r\n      players: playersBoughtIn,\r\n      numPlayersActive: players.length,\r\n      numPlayersFolded: 0,\r\n      numPlayersAllIn: 0,\r\n      activePlayerIndex: dealerIndex,\r\n      dealerIndex,\r\n      blindIndex: {\r\n        big: blindIndicies.bigBlindIndex,\r\n        small: blindIndicies.smallBlindIndex,\r\n      },\r\n      deck: shuffleCards(makeDeckOfCards()),\r\n      pot: 0,\r\n      highBet: prevState.minBet,\r\n      betInputValue: prevState.minBet,\r\n      phase: 'initialDeal',\r\n    }))\r\n    // game executes until there is a winner\r\n    this.executeGame();\r\n  }\r\n\r\n  /*\r\n   Game execution which iterates through each phase of the \r\n   Poker game repeatedly until there is a winner at the table\r\n  */\r\n  executeGame = () => {\r\n    // deal player cards\r\n    const newState = dealPlayerCards(cloneDeep(this.state))\r\n    // update state after each action\r\n    this.setState(newState, () => {\r\n      if ((this.state.players[this.state.activePlayerIndex].robot) && (this.state.phase !== 'showdown')) {\r\n        setTimeout(() => {\r\n          this.aiHandler()\r\n        }, 1200)\r\n      }\r\n    })\r\n  }\r\n\r\n  /*\r\n   Handler for Artificial Intelligence Agents performs action\r\n   according to their in game decisions\r\n  */\r\n  aiHandler = () => {\r\n    const { playerAnimationSwitchboard, ...appState } = this.state;\r\n    // change state according to AI decision/action\r\n    const newState = aiHandlerUtil(cloneDeep(appState), this.changePlayerAnimationState)\r\n\r\n    // update state after action\r\n    this.setState({\r\n      ...newState,\r\n      betInputValue: newState.minBet\r\n    }, () => {\r\n      if ((this.state.players[this.state.activePlayerIndex].robot) && (this.state.phase !== 'showdown')) {\r\n        setTimeout(() => {\r\n\r\n          this.aiHandler()\r\n        }, 1200)\r\n      }\r\n    })\r\n  }\r\n\r\n  /*\r\n   Handle player bet change action\r\n  */\r\n  manageBetChange = (val, min, max) => {\r\n    if (val === '') val = min\r\n    if (val > max) val = max\r\n    // handle player bet change\r\n    this.setState({\r\n      betInputValue: parseInt(val, 10),\r\n    });\r\n  }\r\n\r\n  /*\r\n   Handle player bet submit action\r\n  */\r\n  manageBetSubmit = (bet, min, max) => {\r\n    const { playerAnimationSwitchboard, ...appState } = this.state;\r\n    // get active player\r\n    const { activePlayerIndex } = appState;\r\n    // execute player action \r\n    this.changePlayerAnimationState(activePlayerIndex, `${makeActionButtonText(this.state.highBet, this.state.betInputValue, this.state.players[this.state.activePlayerIndex])} ${(bet > this.state.players[this.state.activePlayerIndex].bet) ? (bet) : \"\"}`);;\r\n    const newState = manageBet(cloneDeep(appState), parseInt(bet, 10), parseInt(min, 10), parseInt(max, 10));\r\n\r\n    // continue to next player if hand is not over\r\n    this.setState(newState, () => {\r\n      if ((this.state.players[this.state.activePlayerIndex].robot) && (this.state.phase !== 'showdown')) {\r\n        setTimeout(() => {\r\n\r\n          this.aiHandler()\r\n        }, 1200)\r\n      }\r\n    });\r\n  }\r\n\r\n  /*\r\n   Handle Raise Slider bar value change (by user)\r\n  */\r\n  manageSliderInputChange = (val) => {\r\n    this.setState({\r\n      betInputValue: val[0]\r\n    })\r\n  }\r\n\r\n  /*\r\n   Handle Player fold action\r\n  */\r\n  managePlayerFold = () => {\r\n    const { playerAnimationSwitchboard, ...appState } = this.state\r\n    // player fold action\r\n    const newState = managePlayerFold(cloneDeep(appState));\r\n\r\n    // continue to next player if hand is not over\r\n    this.setState(newState, () => {\r\n      if ((this.state.players[this.state.activePlayerIndex].robot) && (this.state.phase !== 'showdown')) {\r\n        setTimeout(() => {\r\n\r\n          this.aiHandler()\r\n        }, 1200)\r\n      }\r\n    })\r\n  }\r\n\r\n  /*\r\n   Handle next game hand\r\n  */\r\n  manageNextRound = () => {\r\n    // remove cards from table\r\n    this.setState({ clearCards: true })\r\n    // start fresh round\r\n    const newState = startNextRound(cloneDeep(this.state))\r\n    var winner;\r\n    // if there is a winner the game is over\r\n    if (checkWin(newState.players)) {\r\n      const players = newState.players\r\n      players.forEach(element => {\r\n        if (element.chips > 0)\r\n          winner = element\r\n      });\r\n      this.setState({ winner: winner });\r\n      this.setState({ winnerFound: true })\r\n\r\n      return;\r\n    }\r\n    // continue to next round if hand is over\r\n    this.setState(newState, () => {\r\n      if ((this.state.players[this.state.activePlayerIndex].robot) && (this.state.phase !== 'showdown')) {\r\n        setTimeout(() => this.aiHandler(), 1200)\r\n      }\r\n    })\r\n  }\r\n\r\n  /*\r\n   Handle player animation according to state of game\r\n  */\r\n  changePlayerAnimationState = (index, content) => {\r\n    const newAnimationSwitchboard = Object.assign(\r\n      {},\r\n      this.state.playerAnimationSwitchboard,\r\n      { [index]: { isAnimating: true, content } }\r\n    )\r\n    this.setState({ playerAnimationSwitchboard: newAnimationSwitchboard });\r\n  }\r\n\r\n  /*\r\n   Stop latest player animation \r\n  */\r\n  popPlayerAnimationState = (index) => {\r\n    const persistContent = this.state.playerAnimationSwitchboard[index].content;\r\n    const newAnimationSwitchboard = Object.assign(\r\n      {},\r\n      this.state.playerAnimationSwitchboard,\r\n      { [index]: { isAnimating: false, content: persistContent } }\r\n    )\r\n    this.setState({ playerAnimationSwitchboard: newAnimationSwitchboard });\r\n  }\r\n\r\n  /*\r\n   Render Poker Table with Players, cards, etc.\r\n  */\r\n  renderTable = () => {\r\n    // update table features according to current game state\r\n    const {\r\n      players,\r\n      activePlayerIndex,\r\n      dealerIndex,\r\n      clearCards,\r\n      phase,\r\n      playerAnimationSwitchboard\r\n    } = this.state;\r\n\r\n    // changes turn of player each hand\r\n    const reversedPlayers = players.reduce((result, player, index) => {\r\n\r\n      const isActive = (index === activePlayerIndex);\r\n      const hasDealerChip = (index === dealerIndex);\r\n\r\n\r\n      // shift player in array to allow move dealer chip to each player counter clock-wise\r\n      result.unshift(\r\n        <Player\r\n          key={index}\r\n          arrayIndex={index}\r\n          isActive={isActive}\r\n          hasDealerChip={hasDealerChip}\r\n          player={player}\r\n          clearCards={clearCards}\r\n          phase={phase}\r\n          playerAnimationSwitchboard={playerAnimationSwitchboard}\r\n          endTransition={this.popPlayerAnimationState}\r\n        />\r\n      )\r\n      return result\r\n    }, []);\r\n    return reversedPlayers.map(component => component);\r\n  }\r\n\r\n  /*\r\n   Render action buttons for user such as check/call/raise/allin and fold\r\n  */\r\n  renderPlayerActionButtons = () => {\r\n    const { highBet, players, activePlayerIndex, phase, betInputValue } = this.state\r\n    // calculate min bet user has to place\r\n    const min = calculateMinBet(highBet, players[activePlayerIndex].chips, players[activePlayerIndex].bet)\r\n    // calculate max bet user can place\r\n    const max = players[activePlayerIndex].chips + players[activePlayerIndex].bet\r\n\r\n    // render different buttons/text according to user input \r\n    return ((players[activePlayerIndex].robot) || (phase === 'showdown')) ? null : (\r\n      <React.Fragment>\r\n        <button className='fold-button' onClick={() => this.managePlayerFold()}>\r\n          Fold\r\n        </button>\r\n        <button className='bet-button' onClick={() => this.manageBetSubmit(betInputValue, min, max)}>\r\n          {makeActionButtonText(highBet, betInputValue, players[activePlayerIndex])}\r\n        </button>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  /*\r\n   Render community cards that dealer deals on flop, turn and river\r\n  */\r\n  renderTableCommunityCards = (purgeAnimation) => {\r\n    return this.state.communityCards.map((card, index) => {\r\n      let cardData = { ...card };\r\n      if (purgeAnimation) {\r\n        cardData.animationDelay = 0;\r\n      }\r\n      // render card according to its value and suit\r\n      return (\r\n        <Card key={index} cardData={cardData} />\r\n      );\r\n    });\r\n  }\r\n\r\n  /*\r\n   Render player showdown at end of each hand.\r\n   Compares players' hands and indicates winnings \r\n   (win/losses of each active player)\r\n  */\r\n  renderPlayerShowdown = () => {\r\n    return (\r\n      <div className='showdown-div-wrapper'>\r\n        <h5 className=\"showdown-div-title\">\r\n          Hand Complete!\r\n        </h5>\r\n        <div className=\"showdown-div-messages\">\r\n          {makeShowdownMessages(this.state.showDownMessages)}\r\n        </div>\r\n        <h5 className=\"showdown-div-community-card-label\">\r\n          Community Cards\r\n        </h5>\r\n        <div className='showdown-div-community-cards'>\r\n          {this.renderTableCommunityCards(true)}\r\n        </div>\r\n        <button className=\"showdown-nextRound-button\" onClick={() => this.manageNextRound()}> Next Hand </button>\r\n        { this.renderBestHands()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /*\r\n   Render each active player's best hand\r\n   (considering player's private cards and \r\n   available community cards). Handles ties.\r\n  */\r\n  renderBestHands = () => {\r\n    // get best hands from current state of game\r\n    const { playerHierarchy } = this.state;\r\n\r\n    return playerHierarchy.map(rankSnapshot => {\r\n      const tie = Array.isArray(rankSnapshot);\r\n      return tie ? this.renderHandSplit(rankSnapshot) : this.renderHandWinner(rankSnapshot);\r\n    })\r\n  }\r\n\r\n  /*\r\n   Render pot split amongst winning players\r\n   when there is more than a single best hand.\r\n  */\r\n  renderHandSplit = (rankSnapshot) => {\r\n    return rankSnapshot.map(player => {\r\n      return this.renderHandWinner(player);\r\n    })\r\n  }\r\n\r\n  makeCards = (cards) => {\r\n    return cards.map((card, index) => {\r\n      const cardData = { ...card, animationDelay: 0 }\r\n      return <Card key={index} cardData={cardData} />\r\n    })\r\n  }\r\n\r\n  /*\r\n   Render player winning showdown. Displays best hand, \r\n   hand rankings and amount of chips won by player.\r\n  */\r\n  renderHandWinner = (player) => {\r\n    // get best hand and hand ranking from winning player\r\n    const { name, bestHand, handRank } = player;\r\n    // get info of winning player\r\n    const playerStateData = this.state.players.find(statePlayer => statePlayer.name === name);\r\n    // display winning player information\r\n    return (\r\n      <table class=\"showdown-table content-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Player</th>\r\n            <th>Private Cards</th>\r\n            <th>Best Hand</th>\r\n            <th>Hand Ranking</th>\r\n            <th>Win/Loss</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              {name}</td>\r\n            <td>\r\n              <div class=\"showdown-player-privateCards\">\r\n                <div class=\"showdown-player-cards\">\r\n                  {this.makeCards(playerStateData.cards)}\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td><div className=\"showdown-player-besthand-div\">\r\n              <div className='showdown-player-besthand-cards' style={{ alignItems: 'center' }}>\r\n                {\r\n                  bestHand.map((card, index) => {\r\n                    // reset animation delay for next round\r\n                    const cardData = { ...card, animationDelay: 0 }\r\n                    return <Card key={index} cardData={cardData} />\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n            </td>\r\n            <td>{handRank}</td>\r\n            <td>{makeNetPlayerEarnings(playerStateData.roundEndChips, playerStateData.roundStartChips)}</td>\r\n          </tr>\r\n\r\n        </tbody>\r\n      </table>\r\n\r\n\r\n\r\n    )\r\n  }\r\n\r\n  /*\r\n   Render Poker Game and all its entities. Table, Players, chips\r\n   action buttons, title, logo, etc. This renders the game in its\r\n   entirety.\r\n  */\r\n  renderGame = () => {\r\n    const { highBet, players, activePlayerIndex, phase } = this.state;\r\n    return (\r\n      <div className='app-background'>\r\n        <div className=\"title-text\" style={{ maxWidth: \"400px\" }}></div>\r\n        <div className=\"poker-table-div\">\r\n          <div className=\"title-logo\">\r\n            <img src={\"./assets/logo.svg\"}></img>\r\n            <h3>No-Limit Texas Hold'em Poker</h3>\r\n            <DropdownButton id=\"dropdown-basic-button\" title=\"\">\r\n              <Dropdown.Item href=\"#\"> <Link to=\"/dashboard\">Return to Dashboard</Link></Dropdown.Item>\r\n              <Dropdown.Item href=\"#\"> <Link to=\"/login\">Logout</Link></Dropdown.Item>\r\n            </DropdownButton>\r\n          </div>\r\n          <img className=\"poker-table-image\" src={\"./assets/table.svg\"} alt=\"Poker Table\" />\r\n          {this.renderTable()}\r\n          <div className='community-hand-div' >\r\n            {this.renderTableCommunityCards()}\r\n          </div>\r\n          <div className='pot-div'>\r\n            <img src={'./assets/pot.svg'} alt=\"Pot Value\" />\r\n            <h5> {`${this.state.pot}`} </h5>\r\n          </div>\r\n        </div>\r\n        { (this.state.phase === 'showdown') && this.renderPlayerShowdown()}\r\n        <div className='game-bar' >\r\n          <div className='game-buttons'>\r\n            {this.renderPlayerActionButtons()}\r\n          </div>\r\n          <div className='slider'>\r\n            {(!this.state.loading) && makeActionMenu(highBet, players, activePlayerIndex, phase, this.manageBetChange)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /*\r\n   Render Poker Game until there is a winner. When that occurs \r\n   render \"Player wins\" page.\r\n  */\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className='poker-table-wrapper'>\r\n          {\r\n\r\n\r\n            (this.state.loading) ? <SpinnerLoading /> :\r\n              (this.state.winnerFound) ? <PlayerWin winner={this.state.winner} /> :\r\n                this.renderGame()\r\n\r\n            // to test Player Wins page\r\n            // <PlayerWin winner={this.state.winner} difficulty=\"\"/>\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Alert, Button, Card, Container, Form } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport '../../Game.css';\r\nimport Logo from '../helpers/Logo';\r\n\r\n/**\r\n * Login component to allow users to \r\n * login to their accounts and play.\r\n */\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  /*\r\n     Login user submission\r\n  */\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/dashboard\")\r\n    } catch {\r\n      setError(\"Invalid email or password\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  /*\r\n    Login guest submission\r\n  */\r\n  async function handleSubmitGuest(e) {\r\n    e.preventDefault()\r\n    console.log(\"Guest log in\")\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(\"guest@guest.com\", \"password\")\r\n      console.log(login)\r\n      history.push(\"/dashboard\")\r\n    } catch {\r\n      setError(\"Error. Cannot play as guest\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container\r\n        className=\"d-flex flex-column align-items-center justify-content-center\"\r\n        style={{ minHeight: \"100vh\" }}\r\n      >\r\n        <div className=\"w-200 text-center\">\r\n          <Logo />\r\n        </div>\r\n        <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n          <Card>\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Log In</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group id=\"email\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control type=\"email\" ref={emailRef} required />\r\n                </Form.Group>\r\n                <Form.Group id=\"password\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control type=\"password\" ref={passwordRef} required />\r\n                </Form.Group>\r\n                <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                  Log In\r\n            </Button>\r\n              </Form>\r\n              <Button disabled={loading} variant=\"warning\" className=\"w-100 mt-3\" onClick={handleSubmitGuest}>\r\n                Play as Guest\r\n            </Button>\r\n              <div className=\"w-100 text-center mt-3\">\r\n                <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n          <div className=\"help-text text-center mt-2\">\r\n            Don't have an account? <Link to=\"/signup\">Sign Up</Link>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}","import React, { useRef, useState } from \"react\";\r\nimport { Alert, Button, Card, Container, Form } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport '../../Game.css';\r\nimport Logo from '../helpers/Logo';\r\n\r\n/**\r\n * Signup component to allow users to sign up\r\n * to the Poker App and create an account\r\n * for storing their game statistics.\r\n */\r\nexport default function Signup() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  /*\r\n     Signup user submission\r\n  */\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/dashboard\")\r\n    } catch {\r\n      setError(\"Failed to create an account\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container\r\n        className=\"d-flex flex-column align-items-center justify-content-center\"\r\n        style={{ minHeight: \"100vh\" }}\r\n      >\r\n        <div className=\"w-200 text-center\">\r\n          <Logo />\r\n        </div>\r\n        <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n          <Card>\r\n            <Card.Body>\r\n              <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group id=\"email\">\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control type=\"email\" ref={emailRef} required />\r\n                </Form.Group>\r\n                <Form.Group id=\"password\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control type=\"password\" ref={passwordRef} required />\r\n                </Form.Group>\r\n                <Form.Group id=\"password-confirm\">\r\n                  <Form.Label>Password Confirmation</Form.Label>\r\n                  <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n                </Form.Group>\r\n                <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                  Sign Up\r\n            </Button>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n          <div className=\"help-text w-100 text-center mt-2\">\r\n            Already have an account? <Link to=\"/login\">Log In</Link>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Button, Card, Container, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport firebaseDb from \"../../firebase\"\r\nimport Logo from '../helpers/Logo';\r\nimport '../../Game.css';\r\n\r\n/**\r\n * UserStatistics component to allow users view\r\n * their individual game statistics.\r\n */\r\nfunction UserStatistics({ userStatistics }) {\r\n\r\n    const history = useHistory()\r\n\r\n    async function handleReturnToDashboard(e) {\r\n        e.preventDefault()\r\n        console.log(\"Returning to dashboard...\")\r\n        try {\r\n            history.push(\"/dashboard\")\r\n        } catch {\r\n            console.log(\"Error returning to dashboard. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <table class=\"content-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Played</th>\r\n                        <th>Difficulty</th>\r\n                        <th>Won</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td> {userStatistics.num_beginner_games}</td>\r\n                        <td>Beginner</td>\r\n                        <td>{userStatistics.num_beginner_wins}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{userStatistics.num_intermediate_games}</td>\r\n                        <td>Intermediate</td>\r\n                        <td>{userStatistics.num_intermediate_wins}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{userStatistics.num_expert_games}</td>\r\n                        <td>Expert</td>\r\n                        <td>{userStatistics.num_expert_wins}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{userStatistics.num_ultimate_games}</td>\r\n                        <td>Ultimate Poker Pro</td>\r\n                        <td>{userStatistics.num_ultimate_wins}</td>\r\n                    </tr>\r\n                    <tr class=\"active-row\">\r\n                        <td>{userStatistics.num_beginner_games + userStatistics.num_intermediate_games + userStatistics.num_expert_games + userStatistics.num_ultimate_games}</td>\r\n                        <td>Total</td>\r\n                        <td>{userStatistics.num_beginner_wins + userStatistics.num_intermediate_wins + userStatistics.num_expert_wins + userStatistics.num_ultimate_wins}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <Button className=\"w-100 mt-3\" onClick={handleReturnToDashboard}>\r\n                Return to Dashboard\r\n            </Button>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction GuestUserStatistics({ userStatistics }) {\r\n    const history = useHistory()\r\n\r\n    async function handleReturnToDashboard(e) {\r\n        e.preventDefault()\r\n        console.log(\"Returning to dashboard...\")\r\n        try {\r\n            history.push(\"/dashboard\")\r\n        } catch {\r\n            console.log(\"Error returning to dashboard. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <div>No Statistics Recorded for Guest Users</div>\r\n            </div>\r\n            <Button className=\"w-100 mt-3\" onClick={handleReturnToDashboard}>\r\n                Return to Dashboard\r\n            </Button>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default function Statistics(props) {\r\n    const { currentUser } = useAuth()\r\n    const [loading, setLoading] = useState(true);\r\n    const [userStats, setUserStats] = useState(new Object());\r\n    var userStatistics = new Object();\r\n\r\n    useEffect(() => {\r\n        setUserStatistics()\r\n    });\r\n\r\n    async function setUserStatistics() {\r\n\r\n        var countValues = 0;\r\n        // If email is guest email show message saying that as a guest player nos stats are recorded\r\n        firebaseDb.database().ref().child(currentUser.uid).once(\"value\").then(function (snapshot) {\r\n            console.log(\"snapshot\");\r\n            console.log(snapshot);\r\n            snapshot.forEach(function (childSnapshot) {\r\n                var key = childSnapshot.key;\r\n                var childData = childSnapshot.val();\r\n                userStatistics[key] = childData;\r\n                countValues += 1;\r\n\r\n            });\r\n\r\n            if (countValues == 0) {\r\n                userStatistics = {\r\n                    \"num_beginner_games\": 0, \"num_beginner_wins\": 0,\r\n                    \"num_intermediate_games\": 0, \"num_intermediate_wins\": 0,\r\n                    \"num_expert_games\": 0, \"num_expert_wins\": 0,\r\n                    \"num_ultimate_games\": 0, \"num_ultimate_wins\": 0,\r\n                }\r\n            }\r\n            setUserStats(userStatistics)\r\n\r\n            if (countValues == 8) {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            <Container\r\n                className=\"d-flex flex-column align-items-center justify-content-center\"\r\n                style={{ minHeight: \"100vh\" }}\r\n            >\r\n                <div className=\"w-200 text-center\">\r\n                    <Logo />\r\n                </div>\r\n                <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <h2 className=\"text-center mb-4\">Personal Statistics</h2>\r\n\r\n                            {\r\n                                (currentUser.email == \"guest@guest.com\") ? <GuestUserStatistics /> :\r\n                                    (loading) ? \"Loading...\" : <UserStatistics userStatistics={userStats} />\r\n                            }\r\n\r\n                        </Card.Body>\r\n\r\n                    </Card>\r\n                </div>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n","import 'core-js/es/array';\r\nimport 'core-js/es/map';\r\nimport 'core-js/es/set';\r\nimport \"core-js/stable\";\r\nimport 'raf/polyfill';\r\nimport React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"regenerator-runtime/runtime\";\r\nimport PrivateRoute from \"./components/helpers/PrivateRoute\";\r\nimport Dashboard from \"./components/interfaces/Dashboard\";\r\nimport ForgotPassword from \"./components/interfaces/ForgotPassword\";\r\nimport Game from \"./components/interfaces/Game\";\r\nimport Login from \"./components/interfaces/Login\";\r\nimport Signup from \"./components/interfaces/Signup\";\r\nimport Statistics from \"./components/interfaces/Statistics\";\r\nimport { AuthProvider } from \"./contexts/AuthContext\";\r\nimport './Game.css';\r\n\r\n/**\r\n * Main Application Component\r\n */\r\nclass App extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <AuthProvider>\r\n          <Switch>\r\n            <PrivateRoute exact path=\"/\" component={Game} />\r\n            <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\r\n            <PrivateRoute exact path=\"/statistics\" component={Statistics} />\r\n            <Route path=\"/signup\" component={Signup} />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n          </Switch>\r\n        </AuthProvider>\r\n      </Router>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default App\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin"]}}