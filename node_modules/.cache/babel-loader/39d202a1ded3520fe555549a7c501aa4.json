{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/manny/fyp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/manny/fyp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/manny/fyp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Alert,Button,Card,Container}from\"react-bootstrap\";import{useHistory}from\"react-router-dom\";import{useAuth}from\"../../contexts/AuthContext\";import'../../Game.css';import Logo from'../helpers/Logo';/**\r\n * Dashboard component to provide users with menu \r\n * where they can join a Poker game or view their \r\n * individual game statistics.\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Dashboard(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser,logout=_useAuth.logout;var history=useHistory();Dashboard.username=getUsername(currentUser.email);/*\r\n     Logout user\r\n    */function handleLogout(){return _handleLogout.apply(this,arguments);}/*\r\n     Show user statistics\r\n    */function _handleLogout(){_handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(\"\");_context.prev=1;_context.next=4;return logout();case 4:history.push(\"/login\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(\"Failed to log out\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return _handleLogout.apply(this,arguments);}function viewStatistics(){return _viewStatistics.apply(this,arguments);}/*\r\n     Start Game\r\n    */function _viewStatistics(){_viewStatistics=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setError(\"\");try{history.push(\"/Statistics\");}catch(_unused2){setError(\"Failed to view statistics\");}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _viewStatistics.apply(this,arguments);}function playPoker(){return _playPoker.apply(this,arguments);}/*\r\n     Get username from email address\r\n    */function _playPoker(){_playPoker=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var difficulty,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:difficulty=_args3.length>0&&_args3[0]!==undefined?_args3[0]:\"Beginner\";setError(\"\");try{history.push(\"/?difficulty=\"+difficulty);}catch(_unused3){setError(\"Failed to enter game\");}case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _playPoker.apply(this,arguments);}function getUsername(emailAddress){return emailAddress.substring(0,emailAddress.indexOf(\"@\"));}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Container,{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:\"100vh\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-200 text-center\",children:/*#__PURE__*/_jsx(Logo,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",style:{maxWidth:\"400px\"},children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Dashboard\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-2\",children:[\"Welcome \",/*#__PURE__*/_jsxs(\"strong\",{children:[\" \",Dashboard.username]}),\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center mt-2\",children:[/*#__PURE__*/_jsx(Button,{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"beginner\");},children:\"Join Beginner Table\"}),/*#__PURE__*/_jsx(Button,{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"intermediate\");},children:\"Join Intermediate Table\"}),/*#__PURE__*/_jsx(Button,{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"expert\");},children:\"Join Expert Table\"}),/*#__PURE__*/_jsx(Button,{className:\"w-100 mb-3\",onClick:function onClick(){return playPoker(\"ultimate\");},children:\"Join Ultimate Poker Pro Table\"}),/*#__PURE__*/_jsx(Button,{variant:\"warning\",className:\"w-100\",onClick:viewStatistics,children:\"View Personal Statistics\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 text-center mt-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:handleLogout,children:\"Log Out\"})})]})]})});}","map":{"version":3,"sources":["C:/Users/manny/fyp/src/components/interfaces/Dashboard.js"],"names":["React","useState","Alert","Button","Card","Container","useHistory","useAuth","Logo","Dashboard","error","setError","currentUser","logout","history","username","getUsername","email","handleLogout","push","viewStatistics","playPoker","difficulty","emailAddress","substring","indexOf","minHeight","maxWidth"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Alert, Button, Card, Container } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport '../../Game.css';\r\nimport Logo from '../helpers/Logo';\r\n\r\n\r\n/**\r\n * Dashboard component to provide users with menu \r\n * where they can join a Poker game or view their \r\n * individual game statistics.\r\n */\r\nexport default function Dashboard() {\r\n    const [error, setError] = useState(\"\")\r\n    const { currentUser, logout } = useAuth()\r\n    const history = useHistory()\r\n\r\n    Dashboard.username = getUsername(currentUser.email)\r\n\r\n    /*\r\n     Logout user\r\n    */\r\n    async function handleLogout() {\r\n        setError(\"\")\r\n\r\n        try {\r\n            await logout()\r\n            history.push(\"/login\")\r\n        } catch {\r\n            setError(\"Failed to log out\")\r\n        }\r\n    }\r\n\r\n    /*\r\n     Show user statistics\r\n    */\r\n    async function viewStatistics() {\r\n        setError(\"\")\r\n        try {\r\n            history.push(\"/Statistics\")\r\n        } catch {\r\n            setError(\"Failed to view statistics\")\r\n        }\r\n    }\r\n\r\n    /*\r\n     Start Game\r\n    */\r\n    async function playPoker(difficulty = \"Beginner\") {\r\n        setError(\"\")\r\n        try {\r\n            history.push(\"/?difficulty=\" + difficulty)\r\n        } catch {\r\n            setError(\"Failed to enter game\")\r\n        }\r\n    }\r\n\r\n    /*\r\n     Get username from email address\r\n    */\r\n    function getUsername(emailAddress) {\r\n        return emailAddress.substring(0, emailAddress.indexOf(\"@\"));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container\r\n                className=\"d-flex flex-column align-items-center justify-content-center\"\r\n                style={{ minHeight: \"100vh\" }}\r\n            >\r\n                <div className=\"w-200 text-center\">\r\n                    <Logo />\r\n                </div>\r\n                <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <h2 className=\"text-center mb-4\">Dashboard</h2>\r\n                            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                            <div className=\"text-center mb-2\">Welcome <strong> {Dashboard.username}</strong>!</div>\r\n                            <div className=\"w-100 text-center mt-2\">\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"beginner\")}>\r\n                                    Join Beginner Table\r\n                                </Button>\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"intermediate\")}>\r\n                                    Join Intermediate Table\r\n                                </Button>\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"expert\")}>\r\n                                    Join Expert Table\r\n                                </Button>\r\n                                <Button className=\"w-100 mb-3\" onClick={() => playPoker(\"ultimate\")}>\r\n                                    Join Ultimate Poker Pro Table\r\n                                </Button>\r\n                                <Button variant=\"warning\" className=\"w-100\" onClick={viewStatistics}>\r\n                                    View Personal Statistics\r\n                                </Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                    <div className=\"w-100 text-center mt-2\">\r\n                        <Button variant=\"link\" onClick={handleLogout}>\r\n                            Log Out\r\n                </Button>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}