{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manny\\\\fyp\\\\src\\\\components\\\\interfaces\\\\Statistics.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Card, Container, Alert } from \"react-bootstrap\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { useHistory } from \"react-router-dom\";\nimport firebaseDb from \"../../firebase\";\nimport Logo from '../helpers/Logo';\nimport '../../Game.css';\n/**\r\n * UserStatistics component to allow users view\r\n * their individual game statistics.\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserStatistics({\n  userStatistics\n}) {\n  _s();\n\n  const history = useHistory();\n\n  async function handleReturnToDashboard(e) {\n    e.preventDefault();\n    console.log(\"Returning to dashboard...\");\n\n    try {\n      history.push(\"/dashboard\");\n    } catch {\n      console.log(\"Error returning to dashboard. Please try again.\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"content-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Played\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Difficulty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Won\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", userStatistics.num_beginner_games]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Beginner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_beginner_wins\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_intermediate_games\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Intermediate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_intermediate_wins\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_expert_games\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Expert\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_expert_wins\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_ultimate_games\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Ultimate Poker Pro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_ultimate_wins\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          class: \"active-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_beginner_games + userStatistics.num_intermediate_games + userStatistics.num_expert_games + userStatistics.num_ultimate_games\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: userStatistics.num_beginner_wins + userStatistics.num_intermediate_wins + userStatistics.num_expert_wins + userStatistics.num_ultimate_wins\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"w-100 mt-3\",\n      onClick: handleReturnToDashboard,\n      children: \"Return to Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(UserStatistics, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = UserStatistics;\n\nfunction GuestUserStatistics({\n  userStatistics\n}) {\n  _s2();\n\n  const history = useHistory();\n\n  async function handleReturnToDashboard(e) {\n    e.preventDefault();\n    console.log(\"Returning to dashboard...\");\n\n    try {\n      history.push(\"/dashboard\");\n    } catch {\n      console.log(\"Error returning to dashboard. Please try again.\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No Statistics Recorded for Guest Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"w-100 mt-3\",\n      onClick: handleReturnToDashboard,\n      children: \"Return to Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(GuestUserStatistics, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = GuestUserStatistics;\nexport default function Statistics(props) {\n  _s3();\n\n  const {\n    currentUser\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [userStats, setUserStats] = useState(new Object());\n  var userStatistics = new Object();\n  useEffect(() => {\n    setUserStatistics();\n  });\n\n  async function setUserStatistics() {\n    var countValues = 0; // If email is guest email show message saying that as a guest player nos stats are recorded\n\n    firebaseDb.database().ref().child(currentUser.uid).once(\"value\").then(function (snapshot) {\n      console.log(\"snapshot\");\n      console.log(snapshot);\n      snapshot.forEach(function (childSnapshot) {\n        var key = childSnapshot.key;\n        var childData = childSnapshot.val();\n        userStatistics[key] = childData;\n        countValues += 1;\n      });\n\n      if (countValues == 0) {\n        userStatistics = {\n          \"num_beginner_games\": 0,\n          \"num_beginner_wins\": 0,\n          \"num_intermediate_games\": 0,\n          \"num_intermediate_wins\": 0,\n          \"num_expert_games\": 0,\n          \"num_expert_wins\": 0,\n          \"num_ultimate_games\": 0,\n          \"num_ultimate_wins\": 0\n        };\n      }\n\n      setUserStats(userStatistics);\n\n      if (countValues == 8) {\n        setLoading(false);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"d-flex flex-column align-items-center justify-content-center\",\n      style: {\n        minHeight: \"100vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-200 text-center\",\n        children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100\",\n        style: {\n          maxWidth: \"400px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center mb-4\",\n              children: \"Personal Statistics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), currentUser.email == \"guest@guest.com\" ? /*#__PURE__*/_jsxDEV(GuestUserStatistics, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 76\n            }, this) : loading ? \"Loading...\" : /*#__PURE__*/_jsxDEV(UserStatistics, {\n              userStatistics: userStats\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 64\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s3(Statistics, \"lAvftzcPPli2P0IGtzpECrZ5W9E=\", false, function () {\n  return [useAuth];\n});\n\n_c3 = Statistics;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"UserStatistics\");\n$RefreshReg$(_c2, \"GuestUserStatistics\");\n$RefreshReg$(_c3, \"Statistics\");","map":{"version":3,"sources":["C:/Users/manny/fyp/src/components/interfaces/Statistics.js"],"names":["React","useEffect","useState","Button","Card","Container","Alert","useAuth","useHistory","firebaseDb","Logo","UserStatistics","userStatistics","history","handleReturnToDashboard","e","preventDefault","console","log","push","num_beginner_games","num_beginner_wins","num_intermediate_games","num_intermediate_wins","num_expert_games","num_expert_wins","num_ultimate_games","num_ultimate_wins","GuestUserStatistics","Statistics","props","currentUser","loading","setLoading","userStats","setUserStats","Object","setUserStatistics","countValues","database","ref","child","uid","once","then","snapshot","forEach","childSnapshot","key","childData","val","minHeight","maxWidth","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { Button, Card, Container, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport firebaseDb from \"../../firebase\"\r\nimport Logo from '../helpers/Logo';\r\nimport '../../Game.css';\r\n\r\n/**\r\n * UserStatistics component to allow users view\r\n * their individual game statistics.\r\n */\r\nfunction UserStatistics({ userStatistics }) {\r\n\r\n    const history = useHistory()\r\n\r\n    async function handleReturnToDashboard(e) {\r\n        e.preventDefault()\r\n        console.log(\"Returning to dashboard...\")\r\n        try {\r\n            history.push(\"/dashboard\")\r\n        } catch {\r\n            console.log(\"Error returning to dashboard. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <table class=\"content-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Played</th>\r\n                        <th>Difficulty</th>\r\n                        <th>Won</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td> {userStatistics.num_beginner_games}</td>\r\n                        <td>Beginner</td>\r\n                        <td>{userStatistics.num_beginner_wins}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{userStatistics.num_intermediate_games}</td>\r\n                        <td>Intermediate</td>\r\n                        <td>{userStatistics.num_intermediate_wins}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{userStatistics.num_expert_games}</td>\r\n                        <td>Expert</td>\r\n                        <td>{userStatistics.num_expert_wins}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{userStatistics.num_ultimate_games}</td>\r\n                        <td>Ultimate Poker Pro</td>\r\n                        <td>{userStatistics.num_ultimate_wins}</td>\r\n                    </tr>\r\n                    <tr class=\"active-row\">\r\n                        <td>{userStatistics.num_beginner_games + userStatistics.num_intermediate_games + userStatistics.num_expert_games + userStatistics.num_ultimate_games}</td>\r\n                        <td>Total</td>\r\n                        <td>{userStatistics.num_beginner_wins + userStatistics.num_intermediate_wins + userStatistics.num_expert_wins + userStatistics.num_ultimate_wins}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <Button className=\"w-100 mt-3\" onClick={handleReturnToDashboard}>\r\n                Return to Dashboard\r\n            </Button>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction GuestUserStatistics({ userStatistics }) {\r\n    const history = useHistory()\r\n\r\n    async function handleReturnToDashboard(e) {\r\n        e.preventDefault()\r\n        console.log(\"Returning to dashboard...\")\r\n        try {\r\n            history.push(\"/dashboard\")\r\n        } catch {\r\n            console.log(\"Error returning to dashboard. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <div>No Statistics Recorded for Guest Users</div>\r\n            </div>\r\n            <Button className=\"w-100 mt-3\" onClick={handleReturnToDashboard}>\r\n                Return to Dashboard\r\n            </Button>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default function Statistics(props) {\r\n    const { currentUser } = useAuth()\r\n    const [loading, setLoading] = useState(true);\r\n    const [userStats, setUserStats] = useState(new Object());\r\n    var userStatistics = new Object();\r\n\r\n    useEffect(() => {\r\n        setUserStatistics()\r\n    });\r\n\r\n    async function setUserStatistics() {\r\n\r\n        var countValues = 0;\r\n        // If email is guest email show message saying that as a guest player nos stats are recorded\r\n        firebaseDb.database().ref().child(currentUser.uid).once(\"value\").then(function (snapshot) {\r\n            console.log(\"snapshot\");\r\n            console.log(snapshot);\r\n            snapshot.forEach(function (childSnapshot) {\r\n                var key = childSnapshot.key;\r\n                var childData = childSnapshot.val();\r\n                userStatistics[key] = childData;\r\n                countValues += 1;\r\n\r\n            });\r\n\r\n            if (countValues == 0) {\r\n                userStatistics = {\r\n                    \"num_beginner_games\": 0, \"num_beginner_wins\": 0,\r\n                    \"num_intermediate_games\": 0, \"num_intermediate_wins\": 0,\r\n                    \"num_expert_games\": 0, \"num_expert_wins\": 0,\r\n                    \"num_ultimate_games\": 0, \"num_ultimate_wins\": 0,\r\n                }\r\n            }\r\n            setUserStats(userStatistics)\r\n\r\n            if (countValues == 8) {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            <Container\r\n                className=\"d-flex flex-column align-items-center justify-content-center\"\r\n                style={{ minHeight: \"100vh\" }}\r\n            >\r\n                <div className=\"w-200 text-center\">\r\n                    <Logo />\r\n                </div>\r\n                <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <h2 className=\"text-center mb-4\">Personal Statistics</h2>\r\n\r\n                            {\r\n                                (currentUser.email == \"guest@guest.com\") ? <GuestUserStatistics /> :\r\n                                    (loading) ? \"Loading...\" : <UserStatistics userStatistics={userStats} />\r\n                            }\r\n\r\n                        </Card.Body>\r\n\r\n                    </Card>\r\n                </div>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}