{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manny\\\\2021-ca400-idelegi2-puzzuos2\\\\src\\\\ui\\\\src\\\\components\\\\interfaces\\\\PlayerWin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { Button, Card, Container } from \"react-bootstrap\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport firebaseDb from \"../../firebase\";\nimport Dashboard from './Dashboard';\n/**\r\n * PlayerWin component to display Winning player\r\n * name and record user statistics.\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PlayerWin(props) {\n  _s();\n\n  const {\n    currentUser\n  } = useAuth();\n  const history = useHistory();\n  const search = useLocation().search;\n  const difficulty = new URLSearchParams(search).get('difficulty');\n  useEffect(() => {\n    recordUserStatistics();\n  }); // Increase games played and/or wins for difficulty played\n\n  async function recordUserStatistics(e) {\n    var userStatistics = new Object();\n    firebaseDb.database().ref().child(currentUser.uid).once(\"value\").then(function (snapshot) {\n      var countValues = 0;\n      snapshot.forEach(function (childSnapshot) {\n        var key = childSnapshot.key;\n        var childData = childSnapshot.val();\n        userStatistics[key] = childData;\n        countValues += 1;\n      });\n\n      if (countValues == 0) {\n        firebaseDb.database().ref().child(currentUser.uid).set({\n          \"num_beginner_games\": 0,\n          \"num_beginner_wins\": 0,\n          \"num_intermediate_games\": 0,\n          \"num_intermediate_wins\": 0,\n          \"num_expert_games\": 0,\n          \"num_expert_wins\": 0,\n          \"num_ultimate_games\": 0,\n          \"num_ultimate_wins\": 0\n        });\n        userStatistics = {\n          \"num_beginner_games\": 0,\n          \"num_beginner_wins\": 0,\n          \"num_intermediate_games\": 0,\n          \"num_intermediate_wins\": 0,\n          \"num_expert_games\": 0,\n          \"num_expert_wins\": 0,\n          \"num_ultimate_games\": 0,\n          \"num_ultimate_wins\": 0\n        };\n      } // Add results to DB\n\n\n      if (difficulty == \"beginner\") {\n        userStatistics[\"num_beginner_games\"] = userStatistics[\"num_beginner_games\"] + 1;\n        if (props.winner.name == Dashboard.username) userStatistics[\"num_beginner_wins\"] = userStatistics[\"num_beginner_wins\"] + 1;\n      } else if (difficulty == \"intermediate\") {\n        userStatistics[\"num_intermediate_games\"] = userStatistics[\"num_intermediate_games\"] + 1;\n        if (props.winner.name == Dashboard.username) userStatistics[\"num_intermediate_wins\"] = userStatistics[\"num_intermediate_wins\"] + 1;\n      } else if (difficulty == \"expert\") {\n        userStatistics[\"num_expert_games\"] = userStatistics[\"num_expert_games\"] + 1;\n        if (props.winner.name == Dashboard.username) userStatistics[\"num_expert_wins\"] = userStatistics[\"num_expert_wins\"] + 1;\n      } else if (difficulty == \"ultimate\") {\n        userStatistics[\"num_ultimate_games\"] = userStatistics[\"num_ultimate_games\"] + 1;\n        if (props.winner.name == Dashboard.username) userStatistics[\"num_ultimate_wins\"] = userStatistics[\"num_ultimate_wins\"] + 1;\n      }\n\n      firebaseDb.database().ref().child(currentUser.uid).set({\n        \"num_beginner_games\": userStatistics[\"num_beginner_games\"],\n        \"num_beginner_wins\": userStatistics[\"num_beginner_wins\"],\n        \"num_intermediate_games\": userStatistics[\"num_intermediate_games\"],\n        \"num_intermediate_wins\": userStatistics[\"num_intermediate_wins\"],\n        \"num_expert_games\": userStatistics[\"num_expert_games\"],\n        \"num_expert_wins\": userStatistics[\"num_expert_wins\"],\n        \"num_ultimate_games\": userStatistics[\"num_ultimate_games\"],\n        \"num_ultimate_wins\": userStatistics[\"num_ultimate_wins\"]\n      });\n    }, function (error) {\n      console.log(\"Error reading player statistics from DB\");\n    });\n  }\n  /*\r\n   Return user to dashboard menu\r\n  */\n\n\n  async function handleReturnToDashboard(e) {\n    e.preventDefault();\n    console.log(\"Returning to dashboard...\");\n\n    try {\n      history.push(\"/dashboard\");\n    } catch {\n      console.log(\"Error returning to dashboard. Please try again.\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex flex-column align-items-center justify-content-center\",\n    style: {\n      minHeight: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-100\",\n      style: {\n        maxWidth: \"400px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-200 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"logo mr-2\",\n              src: \"/assets/win-trophy.png\",\n              alt: \"Winner Trophy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-100 m-100\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [props.winner.name, \" Wins!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"w-100 mt-3\",\n            onClick: handleReturnToDashboard,\n            children: \"Return to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PlayerWin, \"beSroS4QRvJa38ZpJ9TRee+sc3Y=\", false, function () {\n  return [useAuth, useHistory, useLocation];\n});\n\n_c = PlayerWin;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlayerWin\");","map":{"version":3,"sources":["C:/Users/manny/2021-ca400-idelegi2-puzzuos2/src/ui/src/components/interfaces/PlayerWin.js"],"names":["React","useEffect","Button","Card","Container","useHistory","useLocation","useAuth","firebaseDb","Dashboard","PlayerWin","props","currentUser","history","search","difficulty","URLSearchParams","get","recordUserStatistics","e","userStatistics","Object","database","ref","child","uid","once","then","snapshot","countValues","forEach","childSnapshot","key","childData","val","set","winner","name","username","error","console","log","handleReturnToDashboard","preventDefault","push","minHeight","maxWidth"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\"\r\nimport { Button, Card, Container } from \"react-bootstrap\"\r\nimport { useHistory, useLocation } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport firebaseDb from \"../../firebase\"\r\nimport Dashboard from './Dashboard'\r\n\r\n/**\r\n * PlayerWin component to display Winning player\r\n * name and record user statistics.\r\n */\r\nexport default function PlayerWin(props) {\r\n    const { currentUser } = useAuth()\r\n    const history = useHistory()\r\n\r\n    const search = useLocation().search;\r\n    const difficulty = new URLSearchParams(search).get('difficulty');\r\n\r\n\r\n    useEffect(() => {\r\n        recordUserStatistics()\r\n    });\r\n\r\n    // Increase games played and/or wins for difficulty played\r\n    async function recordUserStatistics(e) {\r\n        var userStatistics = new Object();\r\n        firebaseDb.database().ref().child(currentUser.uid).once(\"value\").then(function (snapshot) {\r\n            var countValues = 0;\r\n            snapshot.forEach(function (childSnapshot) {\r\n                var key = childSnapshot.key;\r\n                var childData = childSnapshot.val();\r\n                userStatistics[key] = childData;\r\n                countValues += 1;\r\n            });\r\n            if (countValues == 0) {\r\n                firebaseDb.database().ref().child(currentUser.uid).set({\r\n                    \"num_beginner_games\": 0, \"num_beginner_wins\": 0,\r\n                    \"num_intermediate_games\": 0, \"num_intermediate_wins\": 0,\r\n                    \"num_expert_games\": 0, \"num_expert_wins\": 0,\r\n                    \"num_ultimate_games\": 0, \"num_ultimate_wins\": 0,\r\n                })\r\n                userStatistics = {\r\n                    \"num_beginner_games\": 0, \"num_beginner_wins\": 0,\r\n                    \"num_intermediate_games\": 0, \"num_intermediate_wins\": 0,\r\n                    \"num_expert_games\": 0, \"num_expert_wins\": 0,\r\n                    \"num_ultimate_games\": 0, \"num_ultimate_wins\": 0,\r\n                }\r\n            }\r\n\r\n            // Add results to DB\r\n            if (difficulty == \"beginner\") {\r\n                userStatistics[\"num_beginner_games\"] = userStatistics[\"num_beginner_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_beginner_wins\"] = userStatistics[\"num_beginner_wins\"] + 1\r\n            }\r\n            else if (difficulty == \"intermediate\") {\r\n                userStatistics[\"num_intermediate_games\"] = userStatistics[\"num_intermediate_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_intermediate_wins\"] = userStatistics[\"num_intermediate_wins\"] + 1\r\n            }\r\n            else if (difficulty == \"expert\") {\r\n                userStatistics[\"num_expert_games\"] = userStatistics[\"num_expert_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_expert_wins\"] = userStatistics[\"num_expert_wins\"] + 1\r\n            }\r\n            else if (difficulty == \"ultimate\") {\r\n                userStatistics[\"num_ultimate_games\"] = userStatistics[\"num_ultimate_games\"] + 1\r\n                if (props.winner.name == Dashboard.username)\r\n                    userStatistics[\"num_ultimate_wins\"] = userStatistics[\"num_ultimate_wins\"] + 1\r\n            }\r\n\r\n            firebaseDb.database().ref().child(currentUser.uid).set({\r\n                \"num_beginner_games\": userStatistics[\"num_beginner_games\"], \"num_beginner_wins\": userStatistics[\"num_beginner_wins\"],\r\n                \"num_intermediate_games\": userStatistics[\"num_intermediate_games\"], \"num_intermediate_wins\": userStatistics[\"num_intermediate_wins\"],\r\n                \"num_expert_games\": userStatistics[\"num_expert_games\"], \"num_expert_wins\": userStatistics[\"num_expert_wins\"],\r\n                \"num_ultimate_games\": userStatistics[\"num_ultimate_games\"], \"num_ultimate_wins\": userStatistics[\"num_ultimate_wins\"],\r\n            })\r\n\r\n        }, function (error) {\r\n            console.log(\"Error reading player statistics from DB\")\r\n        });\r\n    }\r\n\r\n    /*\r\n     Return user to dashboard menu\r\n    */\r\n    async function handleReturnToDashboard(e) {\r\n        e.preventDefault()\r\n        console.log(\"Returning to dashboard...\")\r\n        try {\r\n            history.push(\"/dashboard\")\r\n        } catch {\r\n            console.log(\"Error returning to dashboard. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container\r\n            className=\"d-flex flex-column align-items-center justify-content-center\"\r\n            style={{ minHeight: \"100vh\" }}\r\n        >\r\n            <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n                <Card>\r\n                    <Card.Body>\r\n                        <div className=\"w-200 text-center\">\r\n                            <img className=\"logo mr-2\" src=\"/assets/win-trophy.png\" alt=\"Winner Trophy\"/>\r\n                        </div>\r\n                        <div className=\"w-100 m-100\">\r\n                            <h2>\r\n                                {props.winner.name} Wins!\r\n                            </h2>\r\n                        </div>\r\n                        <Button className=\"w-100 mt-3\" onClick={handleReturnToDashboard}>\r\n                            Return to Dashboard\r\n                    </Button>\r\n                    </Card.Body>\r\n                </Card>\r\n            </div>\r\n        </Container>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}